{"version":3,"sources":["matrix.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"../../../../assets/Script","sourcesContent":["const { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class Matrix extends cc.Component {\n    onLoad() {\n\n    }\n\n    update() {\n\n    }\n\n    printMat(obj) {\n        let tm = (<any>obj).m;\n        let str;\n        if (tm) {\n             str = \"openGL矩阵为:[\\n\" +\n                tm[0] + \", \" + tm[4] + \", \" + tm[8] + \", \" + tm[12] + \",\\n\" +\n                tm[1] + \", \" + tm[5] + \", \" + tm[9] + \", \" + tm[13] + \",\\n\" +\n                tm[2] + \", \" + tm[6] + \", \" + tm[10] + \", \" + tm[14] + \",\\n\" +\n                tm[3] + \", \" + tm[7] + \", \" + tm[11] + \", \" + tm[15] + \"\\n\" +\n                \"]\";\n        } else {\n            str= \"[\\n\" +\n                \"1, 0, 0, 0\\n\" +\n                \"0, 1, 0, 0\\n\" +\n                \"0, 0, 1, 0\\n\" +\n                \"0, 0, 0, 1\\n\" +\n                \"]\";\n        }\n        console.log(str);\n    }\n\n    log(title) {\n        console.log(`------------------${title}-------------------`);\n        let wm = cc.mat4();\n        this.node.getWorldMatrix(wm);\n        console.log(\"---this.node._worldMatrix---\");\n        let shit = (<any>this.node)._worldMatrix;\n        console.log(\"---1. [世界坐标矩阵]---\");\n        this.printMat(wm);\n\n        let lm = cc.mat4();\n        this.node.getLocalMatrix(lm);\n        console.log(\"---2. [本地坐标矩阵]---\");\n        this.printMat(lm);\n\n        console.log(\"---3. [当前各属性状态]---\");\n\n        console.log(`1. position: ${this.node.position.toString()}\n2. scale: ${this.node.scale.toString()}\n3. angle: ${this.node.angle}\n4. skewX: ${this.node.skewX}\n5. skewY: ${this.node.skewY}\n6. width: ${this.node.width}\n7. height: ${this.node.height}\n8. parentWidth: ${this.node.parent.width}\n9. parentHeight: ${this.node.parent.height}`)\n\n        console.log(\"---4. [锚点角(0,0)坐标信息]---\")\n        let wordVec = this.node.convertToWorldSpaceAR(cc.v2(0, 0));\n        let localVec = this.node.parent.convertToNodeSpaceAR(wordVec);\n        let localVecX = this.node.convertToNodeSpaceAR(wordVec);\n        console.log(`[AR-->]原点的世界坐标:${wordVec.toString()}  本地坐标: ${localVec.toString()}`);\n        console.log(`[AR-->]localVecX:${localVecX.toString()}`);\n        \n\n        console.log(\"---5. [右上角(50,50)坐标信息]---\")\n        wordVec = this.node.convertToWorldSpaceAR(cc.v2(50, 50));\n        localVec = this.node.parent.convertToNodeSpaceAR(wordVec);\n        console.log(`[AR-->]右上角的世界坐标:${wordVec.toString()}  本地坐标: ${localVec.toString()}`);\n\n    }\n\n    start() {\n        this.log(\"初始状态\");\n        //this.node.angle = -30;\n        //this.log(\"After set angle = -30\");\n        //this.node.rotation = 30;\n        //this.log(\"after set rotation = 30\");\n        //this.node.skewX = 30;\n        //this.node.skewY = 30;\n        //this.log(\"XY倾斜30°\");\n        //this.node.scale = 0.5;\n        //this.log(\"缩小50%\");\n        //this.node.setPosition(10, 10);\n        //this.log(\"平移(10,10)\");\n    }\n\n}"]}