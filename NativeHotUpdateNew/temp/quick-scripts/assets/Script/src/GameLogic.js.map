{"version":3,"sources":["GameLogic.js"],"names":["__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","__generator","body","_","label","sent","t","trys","ops","f","y","g","verb","Symbol","iterator","n","v","op","TypeError","call","pop","length","push","__spreadArrays","s","i","il","arguments","r","Array","k","a","j","jl","__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","p","prototype","hasOwnProperty","__","constructor","create","__decorate","decorators","target","key","desc","c","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","ShareType","DebugSharePlatform","init","_a","enableShareMenu","title","image","query","shareAppMsg","getShareType","SHARE_NONE","getShareLink","DebugRecorderPlatform","isRealTimeRecord","hasRecordToShare","startRecord","stopRecord","shareRecord","window","sharePlatform","recorderPlatform","Core","DeviceUtils","isHtml5","cc","sys","isBrowser","isNative","isMiniGame","platform","WECHAT_GAME","isWXGame","isQQPlay","isTTGame","isMobile","isPC","isAndroid","os","OS_ANDROID","isiOS","OS_IOS","isOSX","OS_OSX","EffectUtil","rotationEffect","display","time","rotationSet","Collection","Set","contains","id","add","onComplete1","rotation","egret","Tween","get","to","removeRotationEffect","remove","removeTweens","showLeftToRight","_this","parent","LayerManager","inst","maskLayer","addChild","alpha","fgui","GRoot","height","x","width","Ease","sineInOut","GTimers","sineIn","removeChild","showLeftToRightWithAngel","angel","startY","totaleWidth","midX","midY","Math","cos","maxMidX","maxMidY","endY","showFromCenter","showTime","stayTime","hideTime","setPivot","setScale","scaleX","scaleY","wait","removeFromParent","blink","color","TextColors","white","mask","GGraph","drawRect","setA","floor","FrameExecutor","_isCancel","_isExecuting","_functions","_FPSnum","FPS30","FPS60","_inst","enumerable","configurable","regist","func","thisObj","param","_i","cancel","resume","interval","execute","resumeAll","arr","shift","console","log","_doExec","_super","_enumI","_enumCount","name","_items","_itemPool","getItem","TimerItem","findItem","callback","len","item","delayInMiniseconds","repeat","callbackParam","delay","counter","end","_inited","game","addPersistRootNode","director","getScheduler","scheduleUpdate","update","dt","__timer","callLater","callDelay","callBy24Fps","FPS24","waitTime","wait30FpsFrame","exists","indexOf","splice","paused","deltaTime","advance","daysTime","_root","Node","elapsed","reset","TextToken","_id","stream","_isDone","_isHead","set","toTextElement","text","join","addChar","getBaseText","toUbbText","ColorTextToken","rgbColor","isHead","_color","_rgbColor","baseTxt","style","getRgbColor","colorCode","ColorsCode","parseInt","toColor","ret","toHEX","StringUtils","time2RemainText","sec","hours","round","minutes","format","TEXT","textGameData","txtLocaleInfo","textGameData2","textGameData3","parseColorText","str","panding","complete","tokenId","curToken","strLen","curStatus","rgb","slice","isDone","lastPandingToken","forEach","sort","parseFuncText","textObj","exitsElements","secToString","fmt","seconds","toLowerCase","m","max","hours_1","days","minutes_1","hours_2","minutes_2","seconds_1","h","toLocaleLowerCase","secToDate","date","Date","year","getFullYear","month","getMonth","day","getDate","hour","getHours","getMinutes","getSeconds","utf8ArrayToString","array","out","char2","char3","String","fromCharCode","formatter","replace","match","number","formatTextId","textId","utf8Length","byteLen","charCodeAt","getRealName","realName","filterEmoji","readableSize","size","toFixed","getSimpleResText","num","url","limitNameLenth","maxLenth","temp","lenth","bit","ascll","char","charAt","concat","bool_1","search","lastChar","bool","substr","isNumber","val","regPos","regNeg","test","printStack","Error","lines","stack","split","line","Utils","str2num","trim","strNum","isNaN","toString","setCardNameText","data","rare","brownness","level","green","blue","purple","orange","getResolutionDistance","support","topMargin","bottomMargin","setDefaultNameColor","Color","WHITE","compareVersion","v1","v2","v1s","v2s","num1","num2","makeNode3DIfSupported","node","group","is3DNode","supported","children","child","cancelNode3D","derivative","fn","displayObj","rect","maskIndex","red","addChildAt","getAccurateTime","mode","getMaxTime","min","ceil","pos2pos","src","des","obj","localToRoot","pos","rootToLocal","isTwoArrEqual","arr1","arr2","reVal","ele","getFormulaResult","regs","_str","__str","str1","str2","Number","ind","flag","cmp_1","res","reg","ans","parseFloat","getText","fairyPosToNodePos","touchPointToGRoot","_x","_y","Vec2","analyseInputNumberText","reason","isStrPureChinese","pattern","RegExp","isStrPureEnglish","pattern2","getByteLen","replaceStrChar","index","charStr","substring","replaceStrInStr","start","stop","replacetext","hovercUnique","hash","elem","printMat","tm","propertyDecorator","propertyKey","protoVal","WXConfig","record","_systemInfo","wx","getSystemInfoSync","_getTopMargin","liuhai","model","safeArea","undefined","navbarPosition","top_1","scale","view","getScaleX","ratio","pixelRatio","MVC","Controller","__concern","binding","immediate","__ob_mapping__","getPrototypeOf","error","__model_name__","__handlers__1","__prop_names__","keys","__prop__name__","__handler__","watchPropImmediate","watchProp","unwatchProp","bind","unbind","$error","code","code_point","$warn","warn","localStorage","$hashCount","HashObject","$hashCode","Event","type","bubble","_hasHandled","$currentTarget","$target","$isDefaultPrevented","$type","tar","$setTarget","getUserData","setUserData","CONNECT","CLOSE","IO_ERROR","SOCKET_DATA","EventCustom","is","instance","typeName","types","__types__","msg","subst","DEBUG","ONCE_EVENT_LIST","EventDispatcher","$EventDispatcher","$getEventMap","useCapture","values","eventMap","addEventListener","listener","thisObject","priority","$addListener","once","dispatchOnce","list","$insertEventBin","insertIndex","bin","eventBin","removeEventListener","$removeEventBin","hasEventListener","willTrigger","dispatchEvent","event","$notifyListener","capturePhase","hasHandled","onceList","dispatchEventWith","bubbles","cancelable","event_1","BindingItem","_gId","BindingDelegate","_watchers","Dictionary","prop","containsKey","setValue","items","getValue","_callback","_thisArg","_watch","Binding","bindHandler","watch","dels","unwatch","Model","g_modelId","autoModelName","class_1","observe","cls","propName","descriptor","joinValues","templates","first","Watcher","bindProperty","host","chain","watcher","assign","setHandler","handler","$bindProperties","chainIndex","PropertyEvent","property","oldValue","dispatchPropertyEvent","eventType","PROPERTY_CHANGE","listeners","bindables","bindableCount","getPropertyDescriptor","notifyListener","isExecuting","checkBindable","isEventDispatcher","orgSet_1","newProp_1","registerBindable","getHostPropertyValue","newHost","oldHost","wrapHandler","onPropertyChange","_hasOwnProperty","has","defaultCompare","defaultEquals","defaultToString","isUndefined","isString","makeString","toret","isFunction","reverseCompareFunction","compareFunction","compareToEquals","equalsFunction","equals","lastIndexOf","frequency","freq","array1","array2","copy","swap","array_1","defaultDictionaryToString","toStrFunction","table","nElements","toStr","pair","previousElement","clear","isEmpty","LinkedDictionaryPair","unlink","prev","HeadOrTailLinkedDictionaryPair","isHeadOrTailLinkedDictionaryPair","LinkedDictionary","head","tail","appendToTail","entry","lastNode","getLinkedDictionaryPair","oldPair","newPair","existingPair","crawlNode","Entry","List","toStringFunc","_head","_objMap","_insert","oldElem","_remove","after","pushFront","before","getFront","popFront","getBack","popBack","getNext","getPrev","reverse","headNext","headPrev","LruCache","onDestroyFunc","_size","_maxSize","_keyToObj","_toStr","_onDestroy","_lruList","use","_tidy","cnt","destroy","MultiDictionary","valuesEqualsFunction","allowDuplicateValues","dict","equalsF","allowDuplicate","values_1","v_1","w","Queue","enqueue","dequeue","toArray","toStringFunction","dictionary","element","intersection","otherSet","union","difference","isSubsetOf","isSub","Base64","atob","decode","input","nativeBase64","output","chr1","chr2","chr3","enc1","enc2","enc3","enc4","_keyStr","encode","btoa","decodeBase64AsArray","bytes","dec","ar","Uint32Array","decompress","decoded","compression","decodeCSV","entries","ColorType","str2ColorStrText","colorValue","milkWhite","grayWhite","gray","yellow","lightYellow","orangeYellow","grayBlue","pink","black","golden","ColorsPrefix","EventCenter","CloseViewEvt","OpenViewEvt","OpenEnvChangeView","CloseEnvChangeView","LoginOnceEv","ReLoginEv","AddTreasureEvt","DelTreasureEvt","UpdateTreasureEvt","UpdateDailyTreasureEvt","UpdateADTreasureEvt","HomeListChangedEvt","CardHintNumChangeEv","LevelHintNumChangeEv","AvatarHintNumChangeEv","ReConnectEv","callJS","message","JSON","parse","NativeMsgCenter","getListeners","args","NativeMessage","GET_GAME_CONFIG","INIT_SDK","INIT_SDK_DONE","LOGIN","LOGIN_DONE","REPORT_USER_INFO","LOGOUT","LOGOUT_DONE","IS_TOURIST","BIND_ACC","BIND_ACC_DONE","ON_START","ON_STOP","ON_RESUME","ON_PAUSE","ON_TICK","USE_NATIVE_SOUND","PLAY_SOUND","STOP_SOUND","PLAY_MUSIC","STOP_MUSIC","SET_MUSIC_VOLUME","RELEASE_ALL_SOUND","ON_ENTER_GAME","ON_CREATE_ROLE","ON_LEVEL_UP","GET_TD_CHANNEL_ID","START_RECORD","STOP_RECORD","START_RECORD_COMPLETE","ADS_INIT","ADS_SHOW_RWD","ADS_FINISH_RWD","ADS_IS_READY","ADS_READY","ON_START_MATCH","SAVE_TO_PHOTO","SHARE_VIDEO","SHARE_LINK","SHARE_LINK_COMPLETE","SHARE_IMAGE","SHARE_IMAGE_COMPLETE","INIT_APPSTORE_PAY","APPSTORE_REQ_PRODUCTS","APPSTORE_GET_PRODUCTS","START_PAY","FINISH_PAY","SET_SUPPORT_RECORD","OPEN_APP_COMMENT","ON_SHOW_LOADING","SHARE_APP2WECHAT","SHARE_BY_PARAM","SHARE_IMG2WECHAT","LOGIN_GAME_CENTER","SCORE_TO_GAME_CENTER","SHOW_GAME_CENTER_RANK","SHOW_GAME_CENTER_ACHIEVE","PLATFORM_ACHIEVE_DONE","CREATE_NOTIFY","REMOVE_NOTIFY","SET_LOADING_PERCENT","GOOGLEPLAY_REQ_PRODUCTS","GOOGLEPLAY_GET_PRODUCTS","SHARE_MINIPROGRAM2WECHAT","TD_ACCOUNT","TD_ONPAGELEAVE","TD_ONMISSIONBEGIN","TD_ONMISSIONCOMPLETED","TD_ONMISSIONFAILED","TD_ONITEMPURCHASE","TD_ONITEMUSE","TD_ONEVENT","TD_SETLEVEL","SDK_STATISTIC","GET_LOCALE","APPSTORE_CHECK_VERSION","OPEN_URL","VIBRATE","PATCH","PATCH_PROGRESS","PATCH_UNZIP_PROGRESS","PATCH_FINISH","APK_UPDATE_READY","APK_UPDATE","APK_UPDATE_PROGRESS","APK_UPDATE_FINISH","PUSH_SILENT_TIME","PUSH_CID","COPY_TO_CLIPBOARD","IOS_ATT_REQ","ANDROID_DELAY_INIT_SDK","ListenerItem","_listeners","addListener","removeListener","dels_1","callNative","callArgs","stringify","_waitMessageCallback","arg","sendAndWaitNativeMessage","sendName","waitName","self","NEW_ENGINE_VERSION","GObject","_alpha","_visible","_originVisible","_touchable","_grayed","_draggable","_skewX","_skewY","_pivotAsAnchor","_sortingOrder","_internalVisible","_handlingController","_pixelSnapping","_dragTesting","sourceWidth","sourceHeight","initWidth","initHeight","minWidth","minHeight","maxWidth","maxHeight","_width","_height","_rawWidth","_rawHeight","_sizePercentInGroup","_touchDisabled","_delayAddFlag","_node","_defaultGroupIndex","groups","groupList","UIConfig","defaultUIGroup","groupIndex","setAnchorPoint","on","EventType","ANCHOR_CHANGED","handleAnchorChanged","uuid","_name","_relations","Relations","_gears","_blendMode","BlendMode","Normal","_hashIdx","_gHashIdx","genPartner","addTouchEventListener","cbFunc","_touchEventListener","onDispatchEvent","_lastEvent","touch","getLocation","doDispatchEvent","_partner","addComponent","GObjectPartner","setPosition","xv","yv","dx","dy","handlePositionChanged","GGroup","moveChildren","updateGear","_parent","GList","setBoundsChangedFlag","_group","emit","XY_CHANGED","draggingObject","sUpdateInDragging","localToGlobalRect","sGlobalRect","anchorX","anchorY","center","restraint","root","addRelation","RelationType","Center_Center","Middle_Middle","ensureSizeCorrect","sizeDirty","ensureRelationsSizeCorrect","setSize","wv","hv","ignorePivot","dWidth","dHeight","handleSizeChanged","resizeChildren","onOwnerSizeChanged","SIZE_CHANGED","makeFullScreen","abs","sx","sy","setSkew","skewX","skewY","asAnchor","handleGrayedChanged","grayed","touchable","angle","opacity","handleAlphaChanged","handleVisibleChanged","excludeInvisibles","saveAndSetVisible","recoverVisible","visible","_finalVisible","old","childSortingOrderChanged","requestFocus","_tooltips","off","ROLL_OVER","onRollOver","ROLL_OUT","onRollOut","BlendModeUtils","activeInHierarchy","packageItem","owner","getGear","gear","GearBase","_underConstruct","_gearLocked","controller","updateState","checkGearController","updateGearFromRelations","updateFromRelations","addDisplayLock","gearDisplay","addLock","checkGearDisplay","releaseDisplayLock","token","releaseLock","applyGearDisplay","connected","evaluate","relationType","usePercent","removeRelation","findParent","pn","gobj","cast","_treeNode","dispose","onEnable","onDisable","onUpdate","onDestroy","onClick","CLICK","offClick","hasClickListener","DISPLAY","UNDISPLAY","_emitDisplayEvents","initDrag","_dragBounds","startDrag","touchId","dragBegin","stopDrag","dragEnd","localToGlobal","ax","ay","resultPoint","pt","v3","convertToWorldSpaceAR","contentScaleFactor","globalToLocal","convertToNodeSpaceAR","aw","ah","resultRect","Rect","xMax","yMax","globalToLocalRect","handleControllerChanged","z","setContentSize","active","hitTest","globalPt","getProp","ObjectPropID","Text","Icon","icon","OutlineColor","Playing","Frame","DeltaTime","TimeScale","FontSize","Selected","setProp","constructFromResource","setup_beforeAdd","buffer","beginPos","seek","skip","f1","f2","readS","readInt","readBool","readFloat","blendMode","readByte","filter","setup_afterAdd","tooltips","groupId","readShort","getChildAt","nextPos","position","setup","showTooltips","hideTooltips","TOUCH_BEGIN","onTouchBegin_0","TOUCH_MOVE","onTouchMove_0","TOUCH_END","onTouchEnd_0","tmp","DRAG_END","inputProcessor","getAllTouches","sGlobalDragStart","getTouchPosition","addTouchMonitor","sDragQuery","evt","_dragStartPoint","captureTouch","sensitivity","touchDragSensitivity","DRAG_START","xx","yy","sDragHelperRect","sHelperPoint","DRAG_MOVE","_eventListener","isScheduled","scheduleOnce","onClickLink","LINK","Component","GActivatePartner","GComponent","_sortingChildCount","_childrenRenderOrder","ChildrenRenderOrder","Ascent","_apexIndex","_children","_childrenHash","_controllers","_transitions","_margin","Margin","_alignOffset","_container","trans","_scrollPane","_boundsChanged","addChildren","setChildIndex","numChildren","sortingOrder","getInsertPosForSortingChild","onChildAdd","childIndex","removeChildAt","Arch","buildNativeDisplayList","removeChildren","beginIndex","endIndex","getChild","getChildByPath","path","gcom","getVisibleChild","getChildInGroup","getChildById","getChildIndex","oldIndex","_setChildIndex","setChildIndexBefore","setSiblingIndex","Descent","swapChildren","child1","child2","index1","index2","swapChildrenAt","isAncestorOf","addController","applyController","getControllerAt","getController","removeController","_buildingDisplayList","_t","_applyingController","runActions","applyAllControllers","adjustRadioGroupDepth","myIndex","maxIndex","GButton","relatedController","getTransitionAt","getTransition","transName","isChildInView","_rectMask","getFirstChildInView","_opaque","_maskContent","setMask","inverted","POSITION_CHANGED","onMaskContentChanged","SCALE_CHANGED","GImage","_customMask","maskNode","Mask","onMaskReady","adjustMaskContainer","_pivotCorrectX","_pivotCorrectY","Type","IMAGE_STENCIL","alphaThreshold","spriteFrame","_content","GraphType","Ellipse","ELLIPSE","RECT","contentNode","left","top","pivotX","pivotY","rawData","setupScroll","ScrollPane","setupOverflow","overflow","OverflowType","Hidden","isNone","viewWidth","viewHeight","selectedIndex","hitArea","clippingSize","getContentSize","_trackBounds","refresh","updateBounds","ensureBoundsCorrect","POSITIVE_INFINITY","NEGATIVE_INFINITY","ab","actualWidth","actualHeight","setBounds","right","bottom","getSnappingPosition","xValue","yValue","newValue","constructFromResource2","objectPool","poolIndex","TranslationHelper","translateComponent","dataLen","curPos","i1","i2","Scroll","savedPos","controllerCount","childCount","pkgId","pi","pkg","UIPackage","getById","getItemById","UIObjectFactory","newObject","newObject2","relations","opaque","maskId","transitionCount","Transition","objectType","ObjectType","constructExtension","onConstruct","pageController","pageId","selectedPageId","version","propertyId","UI","ListOrientation","ListType","DragInfo","last","cur","minPos","maxPos","dragStart","dragMove","getDelta","cleanup","ListItem","row","col","expired","orientation","VERTICAL","hostList","setExpire","_onClick","_onTouch","pool","returnObject","t1","getTime","getObject","t2","_render","t3","profiler","renderItem","itemRenderer","CLICK_ITEM","TOUCH","checkInView","vw","vh","px","py","my","getTotalSizeToRowOrCol","mx","VirtualList","holder","enabled","Width","Height","displayListContainer","_conf","NORMAL","xalign","AlignType","Center","yalign","VertAlignType","Middle","rowGap","colGap","itemSize","itemClass","itemPool","inertia","resilience","loop","_numItems","_listItems","_headCursor","_tailCursor","_dragInfo","_itemHolder","itemHolder","_start","_rowOrCol2Size","_rowOrCol2TotalSize","_onDragStart","_onDragMove","_onDragEnd","MOUSE_WHEEL","_onMouseWheel","idx","enableEvent","resumeSystemEvents","pauseSystemEvents","getLastItem","conf","_calcMetaInfo","Left","Top","_calcNumItemInfo","numItems","_totalRow","_totalCol","_expireItemsWithSameRowOrCol","adjustPos","rowOrColIdx","itemWidthOrHeight","prevItem","handle","li","HORIZONTAL","_checkList","realWidth","realHeight","step1","moveHeadForwardCursor","moveHeadBackwardCursor","moveTailForwardCursor","moveTailBackwardCursor","li_1","firstHitInViewItem","i3","i4","oldNum","isVertical","_reset","scroll","getScrollY","_moveListByOffset","_rollBack","stopPropagation","offset","diffy","diffx","scrollToView","targetCursor","maxTailCursor","_cleanupItems","Endian","LITTLE_ENDIAN","BIG_ENDIAN","ByteArray","bufferExtSize","EOF_byte","EOF_code_point","wpos","uint8","Uint8Array","byteLength","multi","write_position","_position","_bytes","DataView","endian","$endian","setArrayBuffer","byteOffset","_validateBuffer","be","nLen","ArrayBuffer","readBoolean","validate","getInt8","readBytes","available","validateBuffer","subarray","readDouble","getFloat64","getFloat32","getInt32","getInt16","readUnsignedByte","readUnsignedInt","getUint32","readUnsignedShort","getUint16","readUTF","readUTFBytes","decodeUTF8","writeBoolean","writeByte","writeBytes","writeLength","writeDouble","setFloat64","writeFloat","setFloat32","writeInt","setInt32","writeShort","setInt16","writeUnsignedInt","setUint32","writeUnsignedShort","setUint16","writeUTF","utf8bytes","encodeUTF8","_writeUint8Array","writeUTFBytes","bytesAvailable","npos","bl","codePoints","stringToCodePoints","outputBytes","inRange","encoderError","count","div","pow","fatal","utf8_code_point","utf8_bytes_needed","utf8_bytes_seen","utf8_lower_boundary","_byte","decoderError","cp","lower_boundary","opt_code_point","string","cps","$callLaterFunctionList","$callLaterThisList","$callLaterArgsList","method","pointPool","DEG_TO_RAD","PI","Point","release","point","setTo","sqrt","clone","toCompare","distance","p1","p2","copyFrom","sourcePoint","interpolate","pt1","pt2","normalize","thickness","relativeThickness","polar","sin","subtract","$TempPoint","RES","s_resourcePool","s_crossSiteResource","s_getResAsyncPromise","isHttpRes","hasResLoaded","ResReleaseWatchDog","_urlLocks","_url2Release","_heartbeat","urls","locked","urlInfo","_doReleaseAssets","asset","loader","getRes","dependencies","getDependsRecursively","nativeUrl","lockRes","unlockRes","addReleaseRes","retain","info","ToolSet","startsWith","releaseAsset","getResAsync","progressCallback","getImageCrossSiteAsync","SpriteFrame","getItemByURL","load","GLoader","texture","onLoadComplete","err","loaded","Texture2D","packable","Asset","loadRes","getJsonAsync","JsonAsset","json","destroyRes","loadGroup","pri","reporter","loadPackage","loadingMask","showMask","onLoaded","addPackage","unloadPackage","removePackage","amount","getPowIn","getPowOut","getPowInOut","sineOut","getBackIn","getBackOut","getBackInOut","circIn","circOut","circInOut","bounceIn","bounceOut","bounceInOut","getElasticIn","amplitude","period","pi2","asin","getElasticOut","getElasticInOut","quadIn","quadOut","quadInOut","cubicIn","cubicOut","cubicInOut","quartIn","quartOut","quartInOut","quintIn","quintOut","quintInOut","backIn","backOut","backInOut","elasticIn","elasticOut","elasticInOut","props","pluginData","_target","_useTicks","ignoreGlobalPause","_steps","duration","_prevPos","_prevPosition","_stepPosition","passive","initialize","override","tween_count","tweens","_tweens","pauseTweens","resumeTweens","tick","delta","_lastTime","tween_1","$tick","_register","tween","schedule","removeAllTweens","l","tween_2","useTicks","onChange","onChangeObj","_curQueueProps","_initQueueProps","NONE","actionsMode","newTime","setPaused","prevPos","stepIndex","_runAction","_updateTargetProps","action","startPos","endPos","includeStart","sPos","ePos","o","p0","v0","ignore","_plugins","IGNORE","_cloneProps","_addStep","_appendQueueProps","injectProps","_addAction","_set","ease","params","play","pause","LOOP","REVERSE","BasePath","To","Wait","Tick","convertEase","TweenItem","isStop","_props","_paths","createTween","applyPaths","applyPath","pathComplete","registerProperty","TweenGroup","completeCount","registerEvent","itemComplete","currentTarget","classDefinition","asDefault","__meta__","__defaultProperty__","AsyncOperation","_runner","updateRunners","_asyncRunners","rest","runner","createObject","pkgName","resName","userClass","getByName","getItemByName","internalCreateObject","createObjectFromURL","AsyncOperationRunner","completed","_itemList","_objectPool","_host","di","DisplayListItem","collectComponentChildren","_index","dcnt","PackageItemType","listItemCount","collectListChildren","defaultItem","itemCount","poolStart","frameTime","frameTimeForAsyncUIConstruction","totalItems","_constructing","_selectedIndex","_previousIndex","changing","_runningActions","_pageIds","_pageNames","addAction","act","_actions","STATUS_CHANGED","onChanged","offChanged","setSelectedIndex","setAndWaitSelectedIndex","setSelectedPage","getPageName","addPage","addPageAt","nid","_nextPageId","removePage","removePageAt","clearPages","hasPage","aName","getPageIndexById","aId","getPageIdByName","getPageNameById","getPageId","_runningCallback","run","previousPageId","onActionRunDone","autoRadioGroupDepth","homePageIndex","homePageType","branch","getVar","ControllerAction","createAction","EventTarget","DragDropManager","_agent","draggable","align","verticalAlign","onDragEnd","source","sourceData","_sourceData","touchTarget","DROP","ButtonMode","AutoSizeType","LoaderFillType","ListLayoutType","ListSelectionMode","ProgressTitleType","ScrollBarDisplayType","ScrollType","FlipType","GroupLayoutType","PopupDirection","FillMethod","FillOrigin","_mode","Common","_title","_icon","_sound","buttonSound","_soundVolumeScale","buttonSoundVolumeScale","_changeStateOnClick","_downEffect","_downEffectValue","_selected","_selectedIcon","_iconObject","_titleObject","_selectedTitle","tf","getTextField","BLACK","fontSize","setCurrentState","_relatedController","_relatedPageId","Check","oppositePageId","selected","_linkedPopup","GTextField","GLabel","fireClick","simulateClick","setState","_buttonController","selectedPage","DOWN","SELECTED_OVER","SELECTED_DISABLED","_downColor","setR","setG","setB","_downScaled","DISABLED","_over","OVER","UP","titleColor","strokeColor","titleFontSize","pivotAsAnchor","onTouchBegin_1","onTouchEnd_1","onRollOver_1","onRollOut_1","onClick_1","iv","selectedTitle","selectedIcon","readColor","_down","button","EventMouse","BUTTON_LEFT","Window","toggleStatus","togglePopup","sound","getItemAsset","playOneShotSound","Radio","GComboBox","_visibleItemCount","_popupDirection","Auto","defaultComboBoxVisibleItemCount","_itemsUpdated","_values","_icons","updateSelectionController","_selectionController","dropdown","_list","asList","resourceURL","onClickItem","onPopupClosed","pageCount","showDropdown","removeChildrenToPool","addItemFromPool","resizeToFit","downward","Down","Up","itemObject","onClickItem2","hidePopup","initiator","GTextInput","editable","_type","_lineSize","_lineColor","_fillColor","_cornerRadius","_sides","_startAngle","Graphics","lineSize","lineColor","fillColor","corner","updateGraph","drawEllipse","drawRegularPolygon","sides","startAngle","distances","_distances","drawPolygon","points","_polygonPoints","clearGraphics","PlaceHolder","_hasContent","ctx","lineWidth","roundRect","ellipse","drawPath","radius","misc","degreesToRadians","deltaAngle","dist","stroke","fill","moveTo","lineTo","_layout","_lineGap","_columnGap","_mainGridIndex","_mainGridMinSize","_mainChildIndex","_totalSize","_numChildren","_updating","_excludeInvisibles","_autoSizeDisabled","positionChangedOnly","_percentReady","None","_ensureBoundsCorrect","handleLayout","unschedule","empty","internalVisible3","xMin","yMin","Horizontal","curX","Vertical","curY","dw","dh","remainSize","remainPercent","priorHandled","Image","sizeMode","Sprite","SizeMode","CUSTOM","flip","fillMethod","fillOrigin","fillClockwise","fillAmount","contentItem","getBranch","getHighResolution","scale9Grid","SLICED","scaleByTile","TILED","asTextInput","promptText","restrict","maxLength","password","scrollItemToViewOnClick","foldInvisibleItems","_lineCount","_columnCount","_lastSelectedIndex","_realNumItems","_firstIndex","_curLineItemCount","_curLineItemCount2","_virtualListChanged","itemInfoVer","_pool","GObjectPool","SingleColumn","_autoResizeItem","_selectionMode","Single","_align","_verticalAlign","_virtual","setVirtualListChangedFlag","_itemSize","Size","_defaultItem","getFromPool","returnToPool","changeStateOnClick","addItem","removeChildToPoolAt","removeChildToPool","ii","_virtualItems","_loop","asButton","clearSelection","addSelection","getSelection","scrollItToView","checkVirtualList","removeSelection","clearSelectionExcept","selectAll","selectNone","selectReverse","handleArrowKey","dir","FlowVertical","FlowHorizontal","Pagination","current","SingleRow","isDragged","setSelectionOnEvent","dispatchItemEvent","dontChangeLastIndex","childIndexToItemIndex","isShiftDown","isCtrlDown","Multiple_SingleClick","minSize","curCount","lineCount","getMaxItemWidth","saved","pos_param","getIndexOnPos1","getIndexOnPos2","getIndexOnPos3","ani","setFirst","page","scrollPane","itemIndexToChildIndex","setVirtual","_setVirtual","setVirtualAndLoop","bouncebackEffect","scrollStep","SCROLL","__scrolled","oldCount","ItemInfo","_refreshVirtualList","itemProvider","refreshVirtualList","layoutChanged","_eventLocked","ch","cw","len2","handleAlign","handleScroll","forceUpdate","pos2","pos3","startIndex","enterCounter","handleScroll1","handleArchOrder1","handleScroll2","handleArchOrder2","handleScroll3","scrollingPosY","contentHeight","newFirstIndex","oldFirstIndex","curIndex","forward","lastIndex","reuseIndex","needRender","deltaSize","firstItemDeltaSize","ii2","partSize","normalizeURL","updateFlag","changeContentSizeOnScrolling","scrollingPosX","contentWidth","virtualItemCount","pageSize","startCol","partWidth","partHeight","lastObj","borderX","lineHeight","mid","posY","minDist","apexIndex","posX","newOffsetX","newOffsetY","Bottom","Right","lineStart","_displayInDemand","vtScrollBar","hzScrollBar","eachHeight","readItems","setupItem","obj2","_count","keys_1","_frame","_contentSourceWidth","_contentSourceHeight","_contentWidth","_contentHeight","_playing","_url","_fill","_showErrorSign","MovieClip","setPlaySettings","_contentItem","freeExternal","_content2","loadContent","updateLayout","_shrinkOnly","_autoSize","playing","frame","SIMPLE","getRect","clearContent","loadFromPackage","loadExternal","itemURL","setErrorState","swing","repeatDelay","frames","asCom","isValid","onExternalLoadSuccess","onExternalLoadFailed","_errorSign","loaderErrorSign","_errorSignPool","clearErrorState","_updatingLayout","pivotCorrectX","pivotCorrectY","ScaleMatchHeight","ScaleMatchWidth","Scale","ScaleNoBorder","nx","ny","timeScale","GMovieClip","_events","registerFrameCallback","_onFrameDraw","frameCount","rewind","syncStatus","anotherMc","timeInMiniseconds","times","endAt","endCallback","callbackObj","_callbackObj","_onComplete","addFrameEvent","offLoad","_loadContent","onLoad","smoothing","caller","COMPLETE","eventName","FRAME_LABEL","GProgressBar","_min","_max","_value","_barMaxWidth","_barMaxHeight","_barMaxWidthDelta","_barMaxHeightDelta","_barStartX","_barStartY","_titleType","Percent","GTween","kill","tweenValue","oldValule","tweener","getTween","setTarget","setEase","EaseType","Linear","percent","clamp01","ValueAndMax","Value","Max","fullWidth","fullHeight","_reverse","_barObjectH","_barObjectV","_aniObject","_fontSize","_leading","_text","_strokeColor","_templateVars","createRenderer","leading","singleLine","_sizeDirty","onLabelSizeChanged","_label","Label","autoSize","Both","markSizeChanged","updateText","_font","newFont","defaultFont","_realFont","updateFont","updateFontSize","updateFontColor","horizontalAlign","enableWrapText","_outline","LabelOutline","updateStrokeColor","_ubbEnabled","updateOverflow","parseTemplate","template","pos1","tag","flushVars","setVar","text2","UBBParser","encodeHTML","assignFont","Font","font","getFontByName","fontFamily","useSystemFont","assignFontColor","BitmapFont","_fntConfig","canTint","toGrayed","fntConfig","resizable","Overflow","RESIZE_HEIGHT","Shrink","SHRINK","CLAMP","SIZE_DELAY_CHANGE","_updatingSize","letterSpacing","underline","italic","bold","RichTextImageAtlas","getSpriteFrame","SpriteAtlas","GRichTextField","linkUnderline","_richText","RichText","handleTouchEvent","imageAtlas","VerticalAlign","TOP","_underline","_bold","_italics","linkColor","AppOrientation","_designWidth","_designHeight","_scaleAdjust","_volumeScale","_popupStack","_justClosedPopups","_modalLayer","TRANSPARENT","modalLayerColor","_thisOnResized","onWinResize","_inputProcessor","InputProcessor","_captureCallback","CC_EDITOR","engine","getScene","setDesignSize","getDesignViewWidth","canvasSize","getCanvasSize","getDesignViewHeight","getScaleY","getTouchTarget","showWindow","win","adjustModalLayer","hideWindow","hide","hideWindowImmediately","hidden","bringToFront","modal","showModalWait","globalModalWaiting","_modalWaitPane","closeModalWait","closeAllExceptModals","closeAllWindows","getTopWindow","getPopupPosition","popup","sizeW","sizeH","showPopup","closePopup","_defaultTooltipWin","tooltipsWin","showTooltipsWin","tooltipWin","_tooltipWin","_playSoundHandler","playSoundAsync","volumeScale","clip","audioEngine","isShowing","mc","pindex","_adjustVertical","globalScale","viewScaleX","viewScaleY","getViewportRect","origin","_adjustHorizontal","designHeight","designWidth","updateContentScaleLevel","ss","contentScaleLevel","GScrollBar","_dragOffset","_scrollPerc","setScrollPane","vertical","_vertical","setDisplayPerc","_fixedGripSize","_grip","_bar","setScrollPerc","_arrowButton1","_arrowButton2","_gripDragging","onGripTouchDown","onGripTouchMove","onGripTouchEnd","onClickArrow1","onClickArrow2","onBarTouchBegin","updateScrollBarVisible","onStage","sScrollbarHelperPoint","setPercY","setPercX","scrollUp","scrollLeft","scrollDown","scrollRight","GSlider","_clickPercent","changeOnClick","canDrag","_clickPos","_wholeNumbers","updateWithPercent","manual","clamp","_gripObject","onGripTouchBegin","sSilderHelperPoint","deltaX","deltaY","_editBox","MyEditBox","onTextChanged","onTouchEnd1","_promptText","newCreate","placeholderLabel","lastColor","fromHEX","lastSize","inputFlag","EditBox","InputFlag","PASSWORD","DEFAULT","textLabel","inputMode","InputMode","ANY","SINGLE_LINE","focus","openKeyboard","hAlign","vAlign","_registerEvent","_syncSize","impl","beginEditing","GTree","_indent","_rootNode","GTreeNode","_setTree","expanded","_clickToExpand","getSelectedNode","getSelectedNodes","helperIntList","selectNode","parentNode","_cell","unselectNode","expandAll","folderNode","isFolder","collapseAll","createCell","_resURL","indentObj","__expandedStateChanged","__cellMouseDown","treeNodeRender","_afterInserted","getInsertIndexForNode","checkChildren","prevNode","getPrevSibling","myLevel","testNode","_afterRemoved","removeNode","_afterExpanded","treeNodeWillExpand","_afterCollapsed","hideFolderNode","_afterMoved","getFolderEndIndex","node2","_expandedStatusInEvt","prevLevel","cell","hasChild","resURL","_expanded","_level","_tree","_setLevel","rootNode","RangeError","getNextSibling","expandToRoot","PackageItemLoadListener","compare","thisArgs","PackageItem","tileGridIndice","onComplete","lsn","loading","_doLoad","branches","_branchIndex","itemId","highResolution","getSizeRateInAtlas","sprites","_sprites","atlasSprite","atlas","originalSize","PackageImageItem","scaleOption","sprite","getAtlasSprite","atlasTexture","sf","rotated","insetLeft","insetTop","insetRight","insetBottom","PackageMovieClipItem","readBuffer","_loadFrame","frame_1","addDelay","spriteId","sprite_1","PackageFontItem","_assembleFont","mainSprite","retSprites","LabelAtlas","commonHeight","kerningDict","fontDefDictionary","ttf","xadvance","bg","readUshort","img","xOffset","yOffset","xAdvance","channel","_tryLoadTexture","subSprites","unshift","setTexture","PackageComponentItem","extension","resolveExtension","PackageAtlasItem","file","mainFileName","PackageSoundItem","AudioClip","PackageMiscItem","PopupMenu","popupMenu","_contentPane","onDisplay","caption","addItemAt","addSeperator","popupMenu_seperator","getItemName","setItemText","setItemVisible","setItemGrayed","setItemCheckable","checkable","setItemChecked","checked","isItemChecked","removeItem","clearItems","show","contentPane","Function","RelationItem","_owner","_defs","releaseRefTarget","addRefTarget","def","internalAdd","RelationDef","axis","Right_Right","LeftExt_Left","RightExt_Right","Left_Center","Right_Center","Top_Middle","Bottom_Middle","pixelSnapping","dc","info2","applyOnSelfResized","applyPivot","ox","oy","Right_Left","Bottom_Top","Bottom_Bottom","applyOnXYChanged","Left_Left","Left_Right","Top_Top","Top_Bottom","LeftExt_Right","RightExt_Left","TopExt_Top","TopExt_Bottom","BottomExt_Top","BottomExt_Bottom","applyOnSizeChanged","pivot","_targetWidth","_targetHeight","__targetXYChanged","__targetSizeChanged","__targetSizeWillChange","_targetX","_targetY","handling","ow","oh","newItem","clearFor","clearAll","ri","parentToChild","targetIndex","cnt2","rt","_aniFlag","_maskContainer","_scrollBarMargin","_mouseWheelEnabled","_xPos","_yPos","_tweening","_footerLockedSize","_headerLockedSize","_viewSize","_contentSize","_pageSize","_overlapSize","_tweenTime","_tweenStart","_tweenDuration","_tweenChange","_velocity","_containerPos","_beginTouchPos","_lastTouchPos","_lastTouchGlobalPos","_scrollStep","defaultScrollStep","_mouseWheelStep","_decelerationRate","defaultScrollDecelerationRate","onTouchBegin","onTouchMove","onTouchEnd","onMouseWheel","_scrollType","scrollBarDisplay","flags","vtScrollBarRes","hzScrollBarRes","headerRes","footerRes","_displayOnLeft","_snapToItem","_pageMode","_touchEffect","defaultScrollTouchEffect","_bouncebackEffect","defaultScrollBounceEffect","_inertiaDisabled","_floating","Default","defaultScrollBarDisplay","verticalScrollBar","_vtScrollBar","horizontalScrollBar","_hzScrollBar","_scrollBarDisplayAuto","_header","insertChild","_footer","_refreshBarAxis","_pageController","sc","_dragged","setPosX","setPosY","loopCheckingNewPos","posChanged","margin","setCurrentPageX","setCurrentPageY","scrollTop","scrollBottom","_needRefresh","sHelperRect","cancelDragging","draggingPane","_gestureFlag","lockHeader","cx","cy","cr","_refreshEventDispatching","ZERO","TWEEN_TIME_DEFAULT","startTween","lockFooter","updatePageController","currentPageX","currentPageY","aWidth","aHeight","deltaWidth","deltaHeight","deltaPosX","deltaPosY","isRightmost","isBottom","_vScrollNone","_hScrollNone","maskWidth","maskHeight","updateScrollBarPos","sEndPos","alignPosition","refresh2","TWEEN_TIME_GO","killTween","loopCheckingCurrent","cancelClick","_isHoldAreaDone","_velocityScale","_lastMoveTime","touchScrollSensitivity","diff","diff2","sv","sh","st","newPosX","newPosY","PULL_RATIO","now","deltaPositionX","deltaPositionY","frameRate","factor","lerp","deltaGlobalPositionX","deltaGlobalPositionY","PULL_DOWN_RELEASE","PULL_UP_RELEASE","updateTargetAndDuration","sOldChange","loopCheckingTarget","fixDuration","_hover","mouseWheelDelta","checkRefreshBar","updateScrollBarVisible2","bar","gripDragging","setDelay","__barTweenComplete","getLoopPartSize","division","columnGap","lineGap","changed","loopCheckingTarget2","halfSize","inertialScrolling","alignByPage","change","testPageSize","oldPos","oldPage","startPage","orignPos","resultPos","updateTargetAndDuration2","winSize","oldChange","newDuration","SCROLL_END","runTween","easeFunc","threshold1","threshold2","_ownerBaseX","_ownerBaseY","_totalTimes","_totalTasks","_paused","_options","_reversed","_totalDuration","_autoPlay","_autoPlayTimes","_autoPlayDelay","_timeScale","_startTime","_endTime","startTime","endTime","_play","playReverse","changePlayTimes","setAutoPlay","reversed","targetId","TransitionActionType","playTimes","item2","stopTime","onDelayedPlay","delayedCall","setToComplete","processCallback","stopItem","displayLockToken","Shake","lastOffsetX","lastOffsetY","Animation","hook","tweenConfig","endHook","startValue","endLabel","endValue","XY","Pivot","Skew","b1","b2","Alpha","Rotation","Visible","Sound","volume","ColorFilter","f3","f4","setHook","clearHooks","newTarget","setDuration","getLabelTime","NaN","setTimeScale","OPTION_AUTO_STOP_DISABLED","OPTION_AUTO_STOP_AT_END","internalPlay","OPTION_IGNORE_DISPLAY_CONTROLLER","needSkipAnimations","playItem","skipAnimations","to2","to4","easeType","setRepeat","yoyo","onStart","onTweenStart","onTweenUpdate","onTweenComplete","setBreakpoint","offsetX","offsetY","shake","applyValue","callHook","onDelayedPlayItem","playStartTime","playTotalTime","checkAllComplete","b3","setPath","deltaValue","allCompleted","onPlayTransCompleted","tweenEnd","audioClip","TransitionItem","TweenConfig","decodeValue","pathLen","GPath","pts","curveType","CurveType","Bezier","GPathPoint","newBezierPoint","CubicBezier","newCubicBezierPoint","newPoint","toRGBValue","Unknown","TValue","TValue_Animation","TValue_Shake","TValue_Sound","TValue_Transition","TValue_Visible","TValue_Text","QuadOut","loadFromXML","strings","xml","documentElement","nodes","childNodes","length1","cxml","tagName","getAttribute","firstChild","nodeValue","key2","key3","compStrings","elementId","valueCnt","baseType","writeS","gearCnt","cpCount","InputText","Tree","Button","ComboBox","clickDragSensitivity","bringWindowToFrontOnClick","_flag","addLoadHandler","ext","_b","addDownloadHandlers","downloader","binary","addLoadHandlers","rawBuffer","content","_fontRegistry","registerFont","setPackageItemExtension","setExtension","extensionType","extensions","setLoaderExtension","loaderType","Group","Graph","Loader","ProgressBar","Slider","ScrollBar","_assetUrls","_itemsById","_itemsByName","_dependencies","_branches","_branch","_instById","_vars","_instByName","ByteBuffer","assetUrls","Atlas","_curLanItem","completeCallback","pkg_1","loadResArray","assets","getPackage","packageIdOrName","getItemURL","srcId","srcName","setStringsSource","readUint","ver2","compressed","readString","indexTablePos","branchIncluded","stringTable","readSArray","Misc","branchCnt","readUbyte","highResCnt","AtlasSprite","hitTestData","PixelHitTestData","_uuid","deps","getItemAssetByName","loadFont","loadMovieClip","loadAllAssets","mainTexture","_requestingCmd","_uiSources","bringToFontOnClick","addUISource","closeButton","dragArea","contentArea","_closeButton","closeEventHandler","_dragArea","onDragStart_1","_contentArea","showOn","doHideAnimation","hideImmediately","centerOn","isTop","_modal","requestingCmd","windowModalWaiting","layoutModalWaitPane","_loading","lib","__uiLoadComplete","_init","onInit","onShown","onHide","doShowAnimation","original","PlayTransitionAction","ChangePageAction","prevPage","curPage","fromPage","toPage","enter","leave","controllerName","objectId","targetPage","stopOnExit","transitionName","_currentTransition","factors","renderers","getComponentsInChildren","RenderComponent","srcBlendFactor","dstBlendFactor","srcFactor","dstFactor","macro","SRC_ALPHA","ONE_MINUS_SRC_ALPHA","ONE","DST_COLOR","ONE_MINUS_SRC_COLOR","ONE_MINUS_DST_ALPHA","DST_ALPHA","_flip","_fillMethod","_fillOrigin","_fillAmount","_fillClockwise","FILLED","fillType","FillType","RADIAL","fillCenter","setupFill","fillRange","fillStart","origin_1","material","_graySpriteMaterial","Material","getBuiltinMaterial","getInstantiatedMaterial","_spriteMaterial","setMaterial","_frameCount","_end","_times","_endAt","_status","_smoothing","_frameElapsed","_repeatedCount","_frames","drawFrame","beginFrame","beginReversed","backupTime","tt","roundTime","_frameCallback","_frameCallbackObj","curFrame","callDrawFrameCallback","clickCount","keyModifiers","_processor","_borrow","_eventPool","_return","unuse","GEAR_STOP","Submit","TEXT_CHANGE","PixelHitTest","_data","pixelWidth","pixels","ba","ChildHitArea","_child","_touches","_rollOutChain","_rollOverChain","_touchPos","TOUCH_START","touchBeginHandler","touchMoveHandler","touchEndHandler","TOUCH_CANCEL","touchCancelHandler","MOUSE_DOWN","mouseDownHandler","MOUSE_MOVE","mouseMoveHandler","MOUSE_UP","mouseUpHandler","mouseWheelHandler","_touchListener","touchIds","ti","getInfo","touchMonitors","removeTouchMonitor","clickCancelled","updateInfo","getID","setSwallowTouches","setBegin","evt2","getEvent","handleRollOver","began","mm","setEnd","getComponent","clickTest","getButton","getLocationX","getLocationY","getScrollX","camera","Camera","findCamera","getScreenToWorldPoint","createIfNotExisits","TouchInfo","downPos","downTargets","lastClickTime","lastRollOver","Classes","GearDisplay","GearXY","GearSize","GearLook","GearColor","GearAnimation","GearText","GearIcon","GearDisplay2","GearFontSize","_tweenConfig","_tweener","_controller","GearTweenConfig","pages","addStatus","positionsInPercent","addExtStatus","condition","disableAllTweenEffect","_default","GearAnimationValue","_storage","gv","GearColorValue","_displayLockToken","GearLookValue","__tweenUpdate","__tweenComplete","userData","GearSizeValue","gearXY","ex","ey","EaseManager","overshootOrAmplitude","SineIn","_PiOver2","SineOut","SineInOut","QuadIn","QuadInOut","CubicIn","CubicOut","CubicInOut","QuartIn","QuartOut","QuartInOut","QuintIn","QuintOut","QuintInOut","ExpoIn","ExpoOut","ExpoInOut","CircIn","CircOut","CircInOut","ElasticIn","s0","_TwoPi","ElasticOut","s1","ElasticInOut","BackIn","BackOut","BackInOut","BounceIn","Bounce","easeIn","BounceOut","easeOut","BounceInOut","easeInOut","Custom","_segments","_points","_fullLength","create2","pt3","pt4","splinePoints","helperPoints","CRSpline","seg","Segment","ptStart","Straight","ptCount","control1_x","control1_y","control2_x","control2_y","createSplineSegment","getPointAt","onBezierCurve","onCRSplineCurve","getAnchorsInSegment","segmentIndex","getPointsInSegment","t0","ts","pointDensity","SmoothAmount","getAllPoints","adjustedIndex","p0x","p0y","p1x","p1y","p2x","p2y","p3x","p3y","adjustedT","cp0x","cp0y","cp1x","cp1y","TweenManager","_to","start2","end2","_to2","to3","start3","end3","_to3","start4","end4","_to4","_toColor","startX","_shake","isTweening","propType","killTweens","catchCallbackExceptions","GTweener","_startValue","TweenValue","_endValue","_deltaValue","_delay","_duration","_breakpoint","_easeType","setEasePeriod","_easePeriod","setEaseOvershootOrAmplitude","_easeOvershootOrAmplitude","_repeat","_yoyo","setSnapping","_snapping","_propType","_path","_userData","_onUpdate","_onUpdateCaller","_onStart","_onStartCaller","_onCompleteCaller","_normalizedTime","_ended","_killed","_elapsedTime","_started","callCompleteCallback","_valueSize","_update","callStartCallback","setZero","rx","random","ry","helperPoint","n1","getField","n2","setField","callUpdateCallback","_tweenerPool","_activeTweens","_totalActiveTweens","anyType","freePosStart","littleEndian","_view","_pos","_length","c2","c3","u","hasAlpha","readChar","blockIndex","segCount","useShort","newPos","ColorMatrix","matrix","LENGTH","p_brightness","p_contrast","p_saturation","p_hue","adjustColor","IDENTITY_MATRIX","invert","multiplyMatrix","adjustHue","adjustContrast","adjustBrightness","adjustSaturation","p_val","cleanValue","invSat","invLumR","LUMA_R","invLumG","LUMA_G","invLumB","LUMA_B","p_matrix","copyMatrix","p_limit","_readPos","_handlers","onTag_URL","onTag_IMG","onTag_Simple","onTag_COLOR","onTag_SIZE","attr","href","getTagText","onTag_FONT","repl","ignoreCase","currentTime","getMilliseconds","getR","getG","getB","getA","x1","y1","x2","y2","PackageInfo","loadPromise","s_packageCache","registerPackage","unload","force","registerItemExtension","itemName","createObjectAsync","asyncOp","CloseBg","GameEvent","OpenView","CCCExtend","_extendRenderFlow","FlagOfset","DONOTHING","BREAK_FLOW","LOCAL_TRANSFORM","WORLD_TRANSFORM","TRANSFORM","UPDATE_RENDER_DATA","OPACITY","COLOR","OPACITY_COLOR","RENDER","CHILDREN","POST_RENDER","FINAL","renderFlow","_batcher","getBachther","__levelBatcher","__renderQueue","parentOpacityDirty","_next","_func","_renderFlag","__itemIndex","worldMatDirty","_matrix","trs","_trs","_mulMat","_worldMatrix","levelSplit","lv","itemIndex","cs","checkLevelRender","levelRenderNode","rootOpacityInHierarchy","opacityInHierarchy","cullingMask","worldTransformFlag","worldOpacityFlag","worldDirtyFlag","colorVal","_val","_fastSetA","flows","__levelRender","_cullingMask","enableLevelRender","parentOpacityInHierarchy","parentOpacity","_opacity","_activeInHierarchy","HotUpdateHelper","_checkCb","getEventCode","panel","jsb","EventAssetsManager","ERROR_NO_LOCAL_MANIFEST","ERROR_DOWNLOAD_MANIFEST","ERROR_PARSE_MANIFEST","ALREADY_UP_TO_DATE","NEW_VERSION_FOUND","_am","getTotalBytes","checkBtn","fileProgress","progress","byteProgress","setEventCallback","_checkListener","_manifestUrl","_canRetry","_failCount","updateCb","needRestart","failed","UPDATE_PROGRESSION","getPercent","getPercentByFile","fileLabel","getDownloadedFiles","getTotalFiles","byteLabel","getDownloadedBytes","getMessage","UPDATE_FINISHED","UPDATE_FAILED","retryBtn","ERROR_UPDATING","getAssetId","ERROR_DECOMPRESS","_updateListener","searchPaths","fileUtils","getSearchPaths","newPaths","getLocalManifest","setItem","setSearchPaths","restart","retry","downloadFailedAssets","checkUpdate","getState","AssetsManager","State","UNINITED","md5Pipe","transformURL","loadLocalManifest","isLoaded","hotUpdate","updateBtn","find","_storagePath","getWritablePath","_versionCompareHandle","versionA","versionB","vA","vB","setVerifyCallback","expectedMD5","md5","relativePath","setMaxConcurrentTask","MailItem","_timeText","asTextField","_readController","_fetchController","_trans","setTime","setRead","setFetched","playEffect","MailItemPool","_withDraw","_deposite","_createItem","initPool","_initSize","enterMain","Test","main","_callLaters","functionList","thisList","argsList","length_1","btn","timerTestJSCallBck","dynamicAtlasManager","debug","setDisplayStats","testHotUpdate","test1","test2","test3","xmlReq","getXMLHttpRequest","open","responseType","setRequestHeader","onreadystatechange","readyState","errcode","status","response","responseText","onload","ontimeout","onerror","send","test4","checkUpdateBtn","loadbtn","test6","testBtn","reflection","callStaticMethod","test100","test200","test300","adId","age","test400","test500","testShowRewardVedio","testInsertAd","testBanner","test8","loadScene","testRes1","s2","buttonNode","getTexture","testMat","Mat4","testSpriteMat","spriteNode","spriteNode2","WarFlagMgr","WarFlagMgr_1","_openWarHomeFinished","BaseView","_concertBackKey","forceCloseFlag","_myParent","_isInit","_viewCommon","ViewCommon","handleBackKey","backBtnChild","backBtn","adjust","adjustType","AdjustType","EXACT_FIT","EXCEPT_MARGIN","setVisible","isInit","isShow","addToParent","initUI","_onViewOpen","_onViewClose","close","toTopLayer","topLayer","toMainLayer","mainLayer","getNode","nodeName","destroyWhileClose","WarHomeView","ViewManager","refreshUI","TestFgui","test_view","scene","testTouch","bro1","bro2","testNormalList","_renderListItem","testVirtualList","com","_renderItemList","test_UI_VirtualList","listHolder","asLoader","vlist","getChildByName","con","loadEvent","unloadEvent","registerUIView","openWarHomeFinished","TestFont","TestJsb","ns","jsbTestObj","goHome","TestPromise","test7","resultPromise1","resultPromise2","catch","setInterval","test5","promiseResult","resolve2","reject2","TestShiPie","TestTouch","testTouch2","canvas","broRed","broGreen","_triggerClose","_getWindowParent","parent_1","registerOtherClickMethod","unregisterOtherClickMethod","BaseWindow","_closeOnViewOpen","_needGaussMaskWhenModal","_gaussMaskBrightness","__closeBg","enableTouchClose","triggerClose","battleChangeLayer","toMapLayer","mapLayer","toMaskLayer","toWindowLayer","windowLayer","closeBgCom","WindowRoot","_maxSiblingIndex","_windowStack","_popups","_modalBg","_tryClosePopup","hashIdx","_hidePopup","_removePopup","hasModal","getSiblingIndex","stage","_mapLayer","_mainLayer","_windowLayer","_maskLayer","_topLayer","modalLayer","_layers","destroyAllLayer","getTouchFromTopestLayer","setTouchbleFromTopest","visibleMainLayerChildren","except","_doAdjust","_adjustObjs","_onResize","objArr","uiRoot","rootWidth","rootHeight","NO_BORDER","adjustContext","getSubNode","childs","childAmount","UIConstructor","__constructor","_views","_opens","_opening","_closing","_viewConstructors","_viewPreload","_registerViews","_viewStack","register","unregister","registerConstructor","preload","registerView","getView","createAllView","tryCreateView","e_1","openPromise","openPromise_1","openPromise_2","isConcernBackKey","openPopup","wnd","openPromise_3","openPromise_4","view_1","closePromise","e_2","reslove","openView","closeView","getOpenedView","closeAll","ps","all","registerUIWnd","unregisterUIWnd","unregisterUIView","AlertPanel","getAcceptBtn","getTitle","asRichTextField","ConfirmPanel","getCancelBtn","PrivShowPanel","_privList","getPrivList","EMovieClip","movieClip","makeNode3d","_movieClip","_isTop","resetHeigh","adjustHeight","gotoAndPlay","gotoAndStop","frameNum","updatePosition","layers","layer","object","offsetx","offsety","registerOnAddLayer","LayerListView","_contentCom","_addItems","_delItems","_meta","xgap","xcnt","columnCount","ygap","ycnt","gindex","layout","addItems","startx","starty","zeroX","startItem","tempItems","layerCnt","curItemCnt","curLineCnt","_isAdding","getSize","listItem","onItemAddLayer","getLayerByIndex","delItem","item_1","_isDeling","curItem","frontItem","item_2","getItemAt","LongTouchComponet","touchInterval","_isTouching","_display","_touchInterval","enable","_onTouchStart","_onTouchEnd","_onTouchCancel","_touchCallback","_longTouchCallback","_thisObj","_callbackArgs","onLongTouch","WaitPanel","_waitImg","_waitBg","_waitProg","_hintText","_rotationWaitImg","_handleProgress","minH","maxH","updateProgress"],"mappings":"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","file":"GameLogic.js","sourceRoot":"../../../../../assets/Script/src","sourcesContent":["\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar ShareType;\n(function (ShareType) {\n    ShareType[ShareType[\"SHARE_NONE\"] = 0] = \"SHARE_NONE\";\n    ShareType[ShareType[\"SHARE_WECHAT\"] = 1] = \"SHARE_WECHAT\";\n    ShareType[ShareType[\"SHARE_FACEBOOK\"] = 2] = \"SHARE_FACEBOOK\";\n})(ShareType || (ShareType = {}));\nvar DebugSharePlatform = (function () {\n    function DebugSharePlatform() {\n    }\n    DebugSharePlatform.prototype.init = function () {\n        return __awaiter(this, void 0, void 0, function () { return __generator(this, function (_a) {\n            return [2];\n        }); });\n    };\n    DebugSharePlatform.prototype.enableShareMenu = function (b, title, image, query) {\n        return __awaiter(this, void 0, void 0, function () { return __generator(this, function (_a) {\n            return [2];\n        }); });\n    };\n    DebugSharePlatform.prototype.shareAppMsg = function (title, image, query) {\n        return __awaiter(this, void 0, void 0, function () { return __generator(this, function (_a) {\n            return [2];\n        }); });\n    };\n    DebugSharePlatform.prototype.getShareType = function () {\n        return ShareType.SHARE_NONE;\n    };\n    DebugSharePlatform.prototype.getShareLink = function () {\n        return \"\";\n    };\n    return DebugSharePlatform;\n}());\nvar DebugRecorderPlatform = (function () {\n    function DebugRecorderPlatform() {\n        this.isRealTimeRecord = false;\n        this.hasRecordToShare = false;\n    }\n    DebugRecorderPlatform.prototype.startRecord = function () {\n        return __awaiter(this, void 0, void 0, function () { return __generator(this, function (_a) {\n            return [2, false];\n        }); });\n    };\n    DebugRecorderPlatform.prototype.stopRecord = function () {\n        return __awaiter(this, void 0, void 0, function () { return __generator(this, function (_a) {\n            return [2, false];\n        }); });\n    };\n    DebugRecorderPlatform.prototype.shareRecord = function () {\n        return __awaiter(this, void 0, void 0, function () { return __generator(this, function (_a) {\n            return [2, false];\n        }); });\n    };\n    return DebugRecorderPlatform;\n}());\nif (!window.sharePlatform) {\n    window.sharePlatform = new DebugSharePlatform();\n}\nif (window.recorderPlatform) {\n    window.recorderPlatform = new DebugRecorderPlatform();\n}\nvar Core;\n(function (Core) {\n    var DeviceUtils = (function () {\n        function DeviceUtils() {\n        }\n        DeviceUtils.isHtml5 = function () {\n            return cc.sys.isBrowser;\n        };\n        DeviceUtils.isNative = function () {\n            return cc.sys.isNative;\n        };\n        DeviceUtils.isMiniGame = function () {\n            return cc.sys.platform == cc.sys.WECHAT_GAME;\n        };\n        DeviceUtils.isWXGame = function () {\n            return cc.sys.platform == cc.sys.WECHAT_GAME && !DeviceUtils.isQQPlay() && !DeviceUtils.isTTGame();\n        };\n        DeviceUtils.isQQPlay = function () {\n            return false;\n        };\n        DeviceUtils.isTTGame = function () {\n            return false;\n        };\n        DeviceUtils.isMobile = function () {\n            return cc.sys.isMobile;\n        };\n        DeviceUtils.isPC = function () {\n            return !cc.sys.isMobile;\n        };\n        DeviceUtils.isAndroid = function () {\n            return cc.sys.os == cc.sys.OS_ANDROID;\n        };\n        DeviceUtils.isiOS = function () {\n            return cc.sys.os == cc.sys.OS_IOS;\n        };\n        DeviceUtils.isOSX = function () {\n            return cc.sys.os == cc.sys.OS_OSX;\n        };\n        return DeviceUtils;\n    }());\n    Core.DeviceUtils = DeviceUtils;\n})(Core || (Core = {}));\nvar Core;\n(function (Core) {\n    var EffectUtil = (function () {\n        function EffectUtil() {\n        }\n        EffectUtil.rotationEffect = function (display, time) {\n            if (time === void 0) { time = 1000; }\n            if (this.rotationSet == null) {\n                this.rotationSet = new Collection.Set();\n            }\n            if (this.rotationSet.contains(display.id)) {\n                return;\n            }\n            this.rotationSet.add(display.id);\n            var onComplete1 = function () {\n                if (this.rotationSet.contains(display.id)) {\n                    display.rotation = 0;\n                    egret.Tween.get(display).to({ rotation: -360 }, time).call(onComplete1, this);\n                }\n            };\n            display.rotation = 0;\n            egret.Tween.get(display).to({ rotation: -360 }, time).call(onComplete1, this);\n        };\n        EffectUtil.removeRotationEffect = function (display) {\n            if (this.rotationSet == null) {\n                this.rotationSet = new Collection.Set();\n            }\n            this.rotationSet.remove(display.id);\n            egret.Tween.removeTweens(display);\n        };\n        EffectUtil.showLeftToRight = function (display) {\n            var _this = this;\n            if (display.parent == null) {\n                Core.LayerManager.inst.maskLayer.addChild(display);\n            }\n            display.alpha = 0;\n            return new Promise(function (resolve) {\n                display.y = fgui.GRoot.inst.height / 2 - display.height / 2;\n                display.x = -display.width;\n                egret.Tween.get(display).to({ x: fgui.GRoot.inst.width / 2 - display.width / 2 - 50, alpha: 1 }, 300, egret.Ease.sineInOut);\n                fgui.GTimers.inst.add(580, 1, function () {\n                    egret.Tween.get(display).to({ x: display.x + 100 }, 800).to({ x: fgui.GRoot.inst.width }, 300, egret.Ease.sineIn).call(function () {\n                        if (display.parent != null) {\n                            display.parent.removeChild(display);\n                        }\n                        resolve();\n                    }, _this);\n                }, _this);\n            });\n        };\n        EffectUtil.showLeftToRightWithAngel = function (display, angel) {\n            var _this = this;\n            if (display.parent == null) {\n                Core.LayerManager.inst.maskLayer.addChild(display);\n            }\n            display.alpha = 0;\n            return new Promise(function (resolve) {\n                var startY = fgui.GRoot.inst.height / 2 + 200;\n                display.y = startY;\n                display.x = -display.width;\n                var totaleWidth = fgui.GRoot.inst.width + display.width;\n                var midX = fgui.GRoot.inst.width / 2 - display.width / 2 - 50;\n                var midY = startY - (totaleWidth / 2 - display.width / 2) * Math.cos(angel);\n                var maxMidX = midX;\n                var maxMidY = startY - (totaleWidth / 2 - display.width / 2) * Math.cos(angel);\n                var endY = startY - (totaleWidth - display.width) * Math.cos(angel);\n                egret.Tween.get(display).to({ x: midX, y: midY, alpha: 1 }, 300, egret.Ease.sineInOut);\n                fgui.GTimers.inst.add(580, 1, function () {\n                    egret.Tween.get(display).to({ x: maxMidX, y: maxMidY }, 800).to({ x: fgui.GRoot.inst.width, y: endY }, 300, egret.Ease.sineIn).call(function () {\n                        if (display.parent != null) {\n                            display.parent.removeChild(display);\n                        }\n                        resolve();\n                    }, _this);\n                }, _this);\n            });\n        };\n        EffectUtil.showFromCenter = function (display, showTime, stayTime, hideTime) {\n            var _this = this;\n            if (showTime === void 0) { showTime = 350; }\n            if (stayTime === void 0) { stayTime = 900; }\n            if (hideTime === void 0) { hideTime = 400; }\n            if (display.parent == null) {\n                Core.LayerManager.inst.maskLayer.addChild(display);\n                display.y = fgui.GRoot.inst.height / 2;\n                display.x = fgui.GRoot.inst.width / 2;\n            }\n            display.alpha = 0;\n            display.setPivot(0.5, 0.5, true);\n            display.setScale(0, 0);\n            return new Promise(function (resolve) {\n                egret.Tween.get(display).to({ scaleX: 1, scaleY: 1, alpha: 1 }, showTime).wait(stayTime).to({ alpha: 0 }, hideTime).call(function () {\n                    display.removeFromParent();\n                    resolve();\n                }, _this);\n            });\n        };\n        EffectUtil.blink = function (display, color) {\n            if (color === void 0) { color = Core.TextColors.white; }\n            return __awaiter(this, void 0, void 0, function () {\n                var mask;\n                var _this = this;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            mask = new fgui.GGraph();\n                            mask.width = display.width;\n                            mask.height = display.height;\n                            mask.drawRect(0, color.setA(0), color.setA(Math.floor(0.8 * 0xFF)), [7]);\n                            display.addChild(mask);\n                            return [4, new Promise(function (resolve) {\n                                    egret.Tween.get(mask).to({ alpha: 0.4 }, 110).wait(35).call(function () {\n                                        display.removeChild(mask);\n                                    }, null).wait(263).call(function () {\n                                        resolve();\n                                    }, _this);\n                                })];\n                        case 1:\n                            _a.sent();\n                            return [2];\n                    }\n                });\n            });\n        };\n        return EffectUtil;\n    }());\n    Core.EffectUtil = EffectUtil;\n})(Core || (Core = {}));\nvar Core;\n(function (Core) {\n    var FrameExecutor = (function () {\n        function FrameExecutor() {\n            this._isCancel = false;\n            this._isExecuting = false;\n            this._functions = [];\n            if (Core.DeviceUtils.isNative() && Core.DeviceUtils.isiOS()) {\n                this._FPSnum = fgui.GTimers.FPS30;\n            }\n            else {\n                this._FPSnum = fgui.GTimers.FPS60;\n            }\n        }\n        ;\n        Object.defineProperty(FrameExecutor, \"inst\", {\n            get: function () {\n                if (!this._inst) {\n                    this._inst = new FrameExecutor();\n                }\n                return this._inst;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        FrameExecutor.prototype.regist = function (func, thisObj) {\n            var param = [];\n            for (var _i = 2; _i < arguments.length; _i++) {\n                param[_i - 2] = arguments[_i];\n            }\n            this._functions.push([func, thisObj, param]);\n        };\n        FrameExecutor.prototype.cancel = function () {\n            this._isCancel = true;\n            this._functions = [];\n        };\n        FrameExecutor.prototype.resume = function (interval) {\n            if (interval === void 0) { interval = 1; }\n            this._isCancel = false;\n            this.execute(interval);\n        };\n        FrameExecutor.prototype.resumeAll = function (interval) {\n            var _a;\n            if (interval === void 0) { interval = 1; }\n            this._isCancel = false;\n            while (this._functions.length > 0) {\n                var arr = this._functions.shift();\n                (_a = arr[0]).call.apply(_a, __spreadArrays([arr[1]], arr[2]));\n                console.log(\"executing\");\n            }\n        };\n        FrameExecutor.prototype._doExec = function (interval) {\n            var _a;\n            if (this._functions.length) {\n                this._isExecuting = true;\n                var arr = this._functions.shift();\n                (_a = arr[0]).call.apply(_a, __spreadArrays([arr[1]], arr[2]));\n                fgui.GTimers.inst.add(interval, 1, this._doExec, this, interval);\n            }\n            else {\n                this._isExecuting = false;\n            }\n        };\n        FrameExecutor.prototype.execute = function (interval) {\n            if (this._isCancel || this._isExecuting) {\n                return;\n            }\n            interval = interval || this._FPSnum;\n            this._doExec(interval);\n        };\n        FrameExecutor._inst = null;\n        return FrameExecutor;\n    }());\n    Core.FrameExecutor = FrameExecutor;\n})(Core || (Core = {}));\nvar fgui;\n(function (fgui) {\n    var GTimers = (function (_super) {\n        __extends(GTimers, _super);\n        function GTimers() {\n            var _this = _super.call(this) || this;\n            _this._enumI = 0;\n            _this._enumCount = 0;\n            _this.name = \"[GTimer]\";\n            _this._items = new Array();\n            _this._itemPool = new Array();\n            return _this;\n        }\n        GTimers.prototype.getItem = function () {\n            if (this._itemPool.length)\n                return this._itemPool.pop();\n            else\n                return new TimerItem();\n        };\n        GTimers.prototype.findItem = function (callback, thisObj) {\n            var len = this._items.length;\n            for (var i = 0; i < len; i++) {\n                var item = this._items[i];\n                if (item.callback == callback && item.thisObj == thisObj)\n                    return item;\n            }\n            return null;\n        };\n        GTimers.prototype.add = function (delayInMiniseconds, repeat, callback, thisObj) {\n            var callbackParam = [];\n            for (var _i = 4; _i < arguments.length; _i++) {\n                callbackParam[_i - 4] = arguments[_i];\n            }\n            var item = this.findItem(callback, thisObj);\n            if (!item) {\n                item = this.getItem();\n                item.callback = callback;\n                item.thisObj = thisObj;\n                this._items.push(item);\n            }\n            item.delay = delayInMiniseconds;\n            item.counter = 0;\n            item.repeat = repeat;\n            item.param = callbackParam;\n            item.end = false;\n            if (!GTimers._inited) {\n                cc.game.addPersistRootNode(this);\n                cc.director.getScheduler().scheduleUpdate(this, 0, false);\n                GTimers._inited = true;\n            }\n        };\n        GTimers.prototype.update = function (dt) {\n            this.__timer(dt);\n        };\n        GTimers.prototype.callLater = function (callback, thisObj, callbackParam) {\n            if (callbackParam === void 0) { callbackParam = null; }\n            this.add(1, 1, callback, thisObj, callbackParam);\n        };\n        GTimers.prototype.callDelay = function (delay, callback, thisObj, callbackParam) {\n            if (callbackParam === void 0) { callbackParam = null; }\n            this.add(delay, 1, callback, thisObj, callbackParam);\n        };\n        GTimers.prototype.callBy24Fps = function (callback, thisObj, callbackParam) {\n            if (callbackParam === void 0) { callbackParam = null; }\n            this.add(GTimers.FPS24, 0, callback, thisObj, callbackParam);\n        };\n        GTimers.prototype.waitTime = function (delay) {\n            return __awaiter(this, void 0, void 0, function () {\n                var _this = this;\n                return __generator(this, function (_a) {\n                    return [2, new Promise(function (resolve) {\n                            _this.add(delay, 1, function () {\n                                resolve(null);\n                            }, _this);\n                        })];\n                });\n            });\n        };\n        GTimers.prototype.wait30FpsFrame = function (delay) {\n            return __awaiter(this, void 0, void 0, function () {\n                var _this = this;\n                return __generator(this, function (_a) {\n                    return [2, new Promise(function (resolve) {\n                            _this.add(GTimers.FPS30 * delay, 1, function () {\n                                resolve(null);\n                            }, _this);\n                        })];\n                });\n            });\n        };\n        GTimers.prototype.exists = function (callback, thisObj) {\n            var item = this.findItem(callback, thisObj);\n            return item != null;\n        };\n        GTimers.prototype.remove = function (callback, thisObj) {\n            var item = this.findItem(callback, thisObj);\n            if (item) {\n                var i = this._items.indexOf(item);\n                this._items.splice(i, 1);\n                if (i < this._enumI)\n                    this._enumI--;\n                this._enumCount--;\n            }\n        };\n        GTimers.prototype.__timer = function (dt, paused) {\n            var _a;\n            if (paused === void 0) { paused = false; }\n            GTimers.deltaTime = dt * 1000;\n            this._enumI = 0;\n            this._enumCount = this._items.length;\n            while (this._enumI < this._enumCount) {\n                var item = this._items[this._enumI];\n                this._enumI++;\n                if (item.advance(GTimers.deltaTime)) {\n                    if (item.end) {\n                        this._enumI--;\n                        this._enumCount--;\n                        this._items.splice(this._enumI, 1);\n                    }\n                    if (item.param)\n                        (_a = item.callback).call.apply(_a, __spreadArrays([item.thisObj], item.param));\n                    else\n                        item.callback.call(item.thisObj);\n                }\n            }\n            return false;\n        };\n        GTimers.deltaTime = 0;\n        GTimers.inst = new GTimers();\n        GTimers.FPS24 = 1000 / 24;\n        GTimers.FPS30 = 1000 / 30;\n        GTimers.FPS60 = 1000 / 60;\n        GTimers.daysTime = 86400;\n        GTimers._inited = false;\n        GTimers._root = null;\n        return GTimers;\n    }(cc.Node));\n    fgui.GTimers = GTimers;\n    var TimerItem = (function () {\n        function TimerItem() {\n            this.delay = 0;\n            this.counter = 0;\n            this.repeat = 0;\n        }\n        TimerItem.prototype.advance = function (elapsed) {\n            if (elapsed === void 0) { elapsed = 0; }\n            this.counter += elapsed;\n            if (this.counter >= this.delay) {\n                this.counter -= this.delay;\n                if (this.counter > this.delay)\n                    this.counter = this.delay;\n                if (this.repeat > 0) {\n                    this.repeat--;\n                    if (this.repeat == 0)\n                        this.end = true;\n                }\n                return true;\n            }\n            else\n                return false;\n        };\n        TimerItem.prototype.reset = function () {\n            this.callback = null;\n            this.thisObj = null;\n            this.param = null;\n        };\n        return TimerItem;\n    }());\n})(fgui || (fgui = {}));\nvar Core;\n(function (Core) {\n    var TextToken = (function () {\n        function TextToken(_id) {\n            this.stream = [];\n            this._isDone = true;\n            this._isHead = true;\n            this._id = _id;\n        }\n        Object.defineProperty(TextToken.prototype, \"id\", {\n            get: function () {\n                return this._id;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(TextToken.prototype, \"isDone\", {\n            get: function () {\n                return this._isDone;\n            },\n            set: function (_isDone) {\n                this._isDone = _isDone;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(TextToken.prototype, \"isHead\", {\n            get: function () {\n                return this._isHead;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        TextToken.prototype.toTextElement = function () {\n            return { text: this.stream.join(\"\") };\n        };\n        TextToken.prototype.addChar = function (c) {\n            this.stream.push(c);\n        };\n        TextToken.prototype.getBaseText = function () {\n            return this.stream.join(\"\");\n        };\n        TextToken.prototype.toUbbText = function () {\n            return this.getBaseText();\n        };\n        return TextToken;\n    }());\n    var ColorTextToken = (function (_super) {\n        __extends(ColorTextToken, _super);\n        function ColorTextToken(_id, color, rgbColor, isHead) {\n            var _this = _super.call(this, _id) || this;\n            _this._color = color;\n            _this._rgbColor = rgbColor;\n            _this._isHead = isHead;\n            _this._isDone = false;\n            return _this;\n        }\n        Object.defineProperty(ColorTextToken.prototype, \"color\", {\n            get: function () {\n                return this._color;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(ColorTextToken.prototype, \"rgbColor\", {\n            get: function () {\n                return this._rgbColor;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        ColorTextToken.prototype.toTextElement = function () {\n            var baseTxt = this.stream.join(\"\");\n            if (!this._isDone) {\n                if (this._isHead) {\n                    return { text: \"#c\" + this._color + baseTxt };\n                }\n                else {\n                    return { text: baseTxt };\n                }\n            }\n            else {\n                return { text: baseTxt, style: { \"textColor\": this.rgbColor } };\n            }\n        };\n        ColorTextToken.getRgbColor = function (colorCode) {\n            if (colorCode.length == 1) {\n                return Core.ColorsCode[colorCode];\n            }\n            return parseInt(colorCode, 16);\n        };\n        ColorTextToken.prototype.toUbbText = function () {\n            var color = Core.toColor(this._rgbColor);\n            var ret = \"[color=#\" + color.toHEX(\"#rrggbb\") + \"]\" + this.getBaseText() + \"[/color]\";\n            return ret;\n        };\n        return ColorTextToken;\n    }(TextToken));\n    var StringUtils = (function () {\n        function StringUtils() {\n        }\n        StringUtils.time2RemainText = function (sec) {\n            var hours = Math.round((sec - 30 * 60) / (60 * 60));\n            var minutes = Math.round((sec - 30) / 60) % 60;\n            if (hours > 0) {\n                return Core.StringUtils.format(Core.StringUtils.TEXT(60153), hours);\n            }\n            else if (minutes > 0) {\n                return Core.StringUtils.format(Core.StringUtils.TEXT(60150), minutes);\n            }\n            else {\n                return Core.StringUtils.TEXT(60141);\n            }\n        };\n        StringUtils.TEXT = function (id) {\n            if (!StringUtils.textGameData) {\n                return \"\";\n            }\n            var txtLocaleInfo = StringUtils.textGameData.get(id);\n            if (!txtLocaleInfo) {\n                if (StringUtils.textGameData2) {\n                    txtLocaleInfo = StringUtils.textGameData2.get(id);\n                    if (!txtLocaleInfo) {\n                        if (StringUtils.textGameData3) {\n                            txtLocaleInfo = StringUtils.textGameData3.get(id);\n                            if (!txtLocaleInfo) {\n                                return \"\";\n                            }\n                        }\n                    }\n                }\n                else {\n                    return \"\";\n                }\n            }\n        };\n        StringUtils.parseColorText = function (str) {\n            var panding = [];\n            var complete = [];\n            var tokenId = 0;\n            var curToken;\n            var strLen = str.length;\n            var curStatus = 0;\n            for (var i = 0; i < strLen;) {\n                var c = str[i];\n                if (curStatus == 0) {\n                    if (c == \"#\") {\n                        if (str[i + 1] == \"c\") {\n                            var colorCode = str[i + 2];\n                            var rgb = ColorTextToken.getRgbColor(colorCode);\n                            if (!rgb) {\n                                colorCode = str.slice(i + 2, i + 8);\n                                rgb = ColorTextToken.getRgbColor(colorCode);\n                            }\n                            if (rgb) {\n                                if (curToken != null) {\n                                    complete.push(curToken);\n                                }\n                                curToken = new ColorTextToken(tokenId, colorCode, rgb, true);\n                                tokenId += 1;\n                                i += colorCode.length + 2;\n                                curStatus = 1;\n                                continue;\n                            }\n                        }\n                    }\n                    i += 1;\n                    if (curToken == null) {\n                        curToken = new TextToken(tokenId);\n                        tokenId += 1;\n                    }\n                    curToken.addChar(c);\n                }\n                else {\n                    if (c == \"#\") {\n                        if (str[i + 1] == \"n\") {\n                            i += 2;\n                            curToken.isDone = true;\n                            complete.push(curToken);\n                            if (!curToken.isHead) {\n                                while (panding.length > 0) {\n                                    curToken = panding.pop();\n                                    curToken.isDone = true;\n                                    complete.push(curToken);\n                                    if (curToken.isHead) {\n                                        break;\n                                    }\n                                }\n                            }\n                            if (panding.length > 0) {\n                                var lastPandingToken = panding[panding.length - 1];\n                                curToken = new ColorTextToken(tokenId, lastPandingToken.color, lastPandingToken.rgbColor, false);\n                                tokenId += 1;\n                            }\n                            else {\n                                curToken = null;\n                                curStatus = 0;\n                            }\n                            continue;\n                        }\n                        else if (str[i + 1] == \"c\") {\n                            var colorCode = str[i + 2];\n                            var rgb = ColorTextToken.getRgbColor(colorCode);\n                            if (!rgb) {\n                                colorCode = str.slice(i + 2, i + 8);\n                                rgb = ColorTextToken.getRgbColor(colorCode);\n                            }\n                            if (rgb) {\n                                panding.push(curToken);\n                                curToken = new ColorTextToken(tokenId, str[i + 2], Core.ColorsCode[str[i + 2]], true);\n                                tokenId += 1;\n                                i += 3;\n                                curStatus = 1;\n                                continue;\n                            }\n                        }\n                    }\n                    i += 1;\n                    curToken.addChar(c);\n                }\n            }\n            if (curToken != null) {\n                complete.push(curToken);\n            }\n            panding.forEach(function (t) {\n                complete.push(t);\n            });\n            complete.sort(function (a, b) {\n                if (a.id > b.id) {\n                    return 1;\n                }\n                else {\n                    return -1;\n                }\n            });\n            var ret = \"\";\n            complete.forEach(function (t) {\n                ret += t.toUbbText();\n            });\n            return ret;\n        };\n        StringUtils.parseFuncText = function (textObj, exitsElements) {\n            return null;\n        };\n        StringUtils.secToString = function (sec, fmt) {\n            var hours = Math.round((sec - 30 * 60) / (60 * 60));\n            var minutes = Math.round((sec - 30) / 60) % 60;\n            var seconds = sec % 60;\n            if (fmt.toLowerCase() == \"hms\") {\n                if (hours > 0) {\n                    return Core.StringUtils.format(Core.StringUtils.TEXT(60128), hours, minutes, seconds);\n                }\n                else if (minutes > 0) {\n                    return Core.StringUtils.format(Core.StringUtils.TEXT(60070), minutes, seconds);\n                }\n                else {\n                    return Core.StringUtils.format(Core.StringUtils.TEXT(60021), seconds);\n                }\n            }\n            else if (fmt.toLowerCase() == \"h\") {\n                if (hours > 0) {\n                    return Core.StringUtils.format(Core.StringUtils.TEXT(60058), hours);\n                }\n                else {\n                    var m = Math.max(1, minutes);\n                    return Core.StringUtils.format(Core.StringUtils.TEXT(60055), m);\n                }\n            }\n            else if (fmt.toLowerCase() == \"hm\") {\n                if (hours > 0) {\n                    if (minutes > 0) {\n                        return Core.StringUtils.format(Core.StringUtils.TEXT(60112), hours, minutes);\n                    }\n                    else {\n                        return Core.StringUtils.format(Core.StringUtils.TEXT(60058), hours);\n                    }\n                }\n                else {\n                    if (minutes <= 0) {\n                        return Core.StringUtils.format(Core.StringUtils.TEXT(60021), seconds);\n                    }\n                    else if (seconds > 0) {\n                        return Core.StringUtils.format(Core.StringUtils.TEXT(60070), minutes, seconds);\n                    }\n                    else {\n                        return Core.StringUtils.format(Core.StringUtils.TEXT(60055), minutes);\n                    }\n                }\n            }\n            else if (fmt.toLowerCase() == \"dhm\") {\n                var hours_1 = Math.round((sec - 30 * 60) / (60 * 60));\n                var days = Math.round(hours_1 / 24);\n                var minutes_1 = Math.round((sec - 30) / 60) % 60;\n                if (days > 0) {\n                    return Core.StringUtils.format(Core.StringUtils.TEXT(60032), days);\n                }\n                else if (hours_1 > 0) {\n                    return Core.StringUtils.format(Core.StringUtils.TEXT(60058), hours_1);\n                }\n                else if (minutes_1 > 0) {\n                    return Core.StringUtils.format(Core.StringUtils.TEXT(60055), minutes_1);\n                }\n                else {\n                    return Core.StringUtils.TEXT(60042);\n                }\n            }\n            else if (fmt.toLowerCase() == \"dhms\") {\n                var hours_2 = Math.round((sec - 30 * 60) / (60 * 60));\n                var days = Math.floor(hours_2 / 24);\n                hours_2 = hours_2 % 24;\n                var minutes_2 = Math.round((sec - 30) / 60) % 60;\n                var seconds_1 = sec % 60;\n                return Core.StringUtils.format(Core.StringUtils.TEXT(70124), days, hours_2, minutes_2);\n            }\n            else if (fmt.toLowerCase() == \"mmss\") {\n                var m = minutes < 10 ? \"0\" + minutes : minutes;\n                var s = seconds < 10 ? \"0\" + seconds : seconds;\n                return m + \":\" + s;\n            }\n            else if (fmt.toLowerCase() == \"hhmm\") {\n                var h = hours < 10 ? \"0\" + hours : hours;\n                var m = minutes < 10 ? \"0\" + minutes : minutes;\n                return h + \":\" + m;\n            }\n            else if (fmt.toLowerCase() == \"hhmmss\") {\n                var h = hours < 10 ? \"0\" + hours : hours;\n                var m = minutes < 10 ? \"0\" + minutes : minutes;\n                var s = seconds < 10 ? \"0\" + seconds : seconds;\n                return h + \":\" + m + \":\" + s;\n            }\n            else if (fmt.toLocaleLowerCase() == \"brief\") {\n                if (hours > 0) {\n                    return Core.StringUtils.format(Core.StringUtils.TEXT(60058), hours);\n                }\n                else if (minutes > 0) {\n                    return Core.StringUtils.format(Core.StringUtils.TEXT(60055), minutes);\n                }\n                else {\n                    return Core.StringUtils.format(Core.StringUtils.TEXT(60021), seconds);\n                }\n            }\n            else {\n                return Core.StringUtils.format(Core.StringUtils.TEXT(60021), seconds);\n            }\n        };\n        StringUtils.secToDate = function (sec, fmt) {\n            var date = new Date(sec * 1000);\n            var year = date.getFullYear();\n            var month = date.getMonth() + 1;\n            var day = date.getDate();\n            var hour = date.getHours();\n            var minutes = date.getMinutes();\n            var seconds = date.getSeconds();\n            if (fmt.toLowerCase() == \"ymdhms\") {\n                return Core.StringUtils.format(Core.StringUtils.TEXT(60206), year, month, day, hour, minutes, seconds);\n            }\n            else if (fmt.toLowerCase() == \"ymd\") {\n                return Core.StringUtils.format(Core.StringUtils.TEXT(60115), year, month, day);\n            }\n            else if (fmt.toLowerCase() == \"mdh\") {\n                return Core.StringUtils.format(Core.StringUtils.TEXT(60121), month, day, hour);\n            }\n            else if (fmt.toLowerCase() == \"server\") {\n                var h = hour < 10 ? \"0\" + hour : hour;\n                var m = minutes < 10 ? \"0\" + minutes : minutes;\n                return h + \":\" + m;\n            }\n            else if (fmt.toLowerCase() == \"hms\") {\n                var h = hour < 10 ? \"0\" + hour : hour;\n                var m = minutes < 10 ? \"0\" + minutes : minutes;\n                var s = seconds < 10 ? \"0\" + seconds : seconds;\n                return Core.StringUtils.format(\"{0}:{1}:{2}\", h, m, s);\n            }\n            else if (fmt.toLowerCase() == \"hm\") {\n                var h = hour < 10 ? \"0\" + hour : hour;\n                var m = minutes < 10 ? \"0\" + minutes : minutes;\n                return Core.StringUtils.format(\"{0}:{1}\", h, m);\n            }\n            else if (fmt.toLowerCase() == \"mdhm\") {\n                return Core.StringUtils.format(\"{0}年{1}月{2}日{3}时{4}分\", year, month, day, hour, minutes);\n            }\n            else {\n                return Core.StringUtils.format(Core.StringUtils.TEXT(60183), month, day, hour, minutes, seconds);\n            }\n        };\n        StringUtils.utf8ArrayToString = function (array) {\n            var out, i, len, c;\n            var char2, char3;\n            out = \"\";\n            len = array.length;\n            i = 0;\n            while (i < len) {\n                c = array[i++];\n                switch (c >> 4) {\n                    case 0:\n                    case 1:\n                    case 2:\n                    case 3:\n                    case 4:\n                    case 5:\n                    case 6:\n                    case 7:\n                        out += String.fromCharCode(c);\n                        break;\n                    case 12:\n                    case 13:\n                        char2 = array[i++];\n                        out += String.fromCharCode(((c & 0x1F) << 6) | (char2 & 0x3F));\n                        break;\n                    case 14:\n                        char2 = array[i++];\n                        char3 = array[i++];\n                        out += String.fromCharCode(((c & 0x0F) << 12) |\n                            ((char2 & 0x3F) << 6) |\n                            ((char3 & 0x3F) << 0));\n                        break;\n                }\n            }\n            return out;\n        };\n        StringUtils.format = function (formatter) {\n            var param = [];\n            for (var _i = 1; _i < arguments.length; _i++) {\n                param[_i - 1] = arguments[_i];\n            }\n            return formatter.replace(/{(\\d+)}/g, function (match, number) {\n                return typeof (param[number]) != \"undefined\" ?\n                    param[number] : match;\n            });\n        };\n        StringUtils.formatTextId = function (textId) {\n            var param = [];\n            for (var _i = 1; _i < arguments.length; _i++) {\n                param[_i - 1] = arguments[_i];\n            }\n            var formatter = this.TEXT(textId);\n            return formatter.replace(/{(\\d+)}/g, function (match, number) {\n                return typeof (param[number]) != \"undefined\" ?\n                    param[number] : match;\n            });\n        };\n        StringUtils.utf8Length = function (str) {\n            var byteLen = 0, len = str.length;\n            if (!str)\n                return 0;\n            for (var i = 0; i < len; i++) {\n                byteLen += str.charCodeAt(i) > 255 ? 2 : 1;\n            }\n            return byteLen;\n        };\n        StringUtils.getRealName = function (str) {\n            var realName = str.replace(/#c\\w(.*)#n/, \"$1\");\n            return realName;\n        };\n        StringUtils.filterEmoji = function (str) {\n            if (!str)\n                return \"\";\n            var ret = str.replace(/(?:[\\u2700-\\u27bf]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff]|[\\u0023-\\u0039]\\ufe0f?\\u20e3|\\u3299|\\u3297|\\u303d|\\u3030|\\u24c2|\\ud83c[\\udd70-\\udd71]|\\ud83c[\\udd7e-\\udd7f]|\\ud83c\\udd8e|\\ud83c[\\udd91-\\udd9a]|\\ud83c[\\udde6-\\uddff]|\\ud83c[\\ude01-\\ude02]|\\ud83c\\ude1a|\\ud83c\\ude2f|\\ud83c[\\ude32-\\ude3a]|\\ud83c[\\ude50-\\ude51]|\\u203c|\\u2049|[\\u25aa-\\u25ab]|\\u25b6|\\u25c0|[\\u25fb-\\u25fe]|\\u00a9|\\u00ae|\\u2122|\\u2139|\\ud83c\\udc04|[\\u2600-\\u26FF]|\\u2b05|\\u2b06|\\u2b07|\\u2b1b|\\u2b1c|\\u2b50|\\u2b55|\\u231a|\\u231b|\\u2328|\\u23cf|[\\u23e9-\\u23f3]|[\\u23f8-\\u23fa]|\\ud83c\\udccf|\\u2934|\\u2935|[\\u2190-\\u21ff])/g, \"#\");\n            return ret.replace(/[\\r\\n]/g, \"\");\n        };\n        StringUtils.readableSize = function (size) {\n            if (size < 1024)\n                return \"\" + size;\n            else if (size >= 1024 && size < 1024 * 1024)\n                return (size / 1024.0).toFixed(2) + \"K\";\n            else\n                return (size / 1024.0 / 1024.0).toFixed(2) + \"M\";\n        };\n        StringUtils.getSimpleResText = function (num, url) {\n            var size = 60;\n            var color = \"660000\";\n            return \"[img]\" + url + \"[/img][size=\" + size + \"]#c\" + color + num + \"#n[/size]\";\n        };\n        StringUtils.limitNameLenth = function (str, maxLenth) {\n            if (maxLenth === void 0) { maxLenth = 10; }\n            var name = str;\n            var temp = 0;\n            var lenth = 0;\n            var bit = Core.StringUtils.utf8Length(name);\n            if (bit > maxLenth * 2) {\n                for (var i = 0; i < name.length; i++) {\n                    var ascll = name.charCodeAt(i);\n                    if (ascll < 256) {\n                        temp += 1;\n                    }\n                    else {\n                        temp += 2;\n                    }\n                    if (temp > maxLenth * 2) {\n                        break;\n                    }\n                    var char = name.charAt(i).concat(name.charAt(i + 1));\n                    var bool_1 = char.search(/(?:[\\u2700-\\u27bf]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff]|[\\u0023-\\u0039]\\ufe0f?\\u20e3|\\u3299|\\u3297|\\u303d|\\u3030|\\u24c2|\\ud83c[\\udd70-\\udd71]|\\ud83c[\\udd7e-\\udd7f]|\\ud83c\\udd8e|\\ud83c[\\udd91-\\udd9a]|\\ud83c[\\udde6-\\uddff]|\\ud83c[\\ude01-\\ude02]|\\ud83c\\ude1a|\\ud83c\\ude2f|\\ud83c[\\ude32-\\ude3a]|\\ud83c[\\ude50-\\ude51]|\\u203c|\\u2049|[\\u25aa-\\u25ab]|\\u25b6|\\u25c0|[\\u25fb-\\u25fe]|\\u00a9|\\u00ae|\\u2122|\\u2139|\\ud83c\\udc04|[\\u2600-\\u26FF]|\\u2b05|\\u2b06|\\u2b07|\\u2b1b|\\u2b1c|\\u2b50|\\u2b55|\\u231a|\\u231b|\\u2328|\\u23cf|[\\u23e9-\\u23f3]|[\\u23f8-\\u23fa]|\\ud83c\\udccf|\\u2934|\\u2935|[\\u2190-\\u21ff])/g);\n                    if (bool_1 != -1) {\n                        i++;\n                        lenth += 2;\n                    }\n                    else {\n                        lenth += 1;\n                    }\n                }\n                var lastChar = name.charAt(lenth - 1).concat(name.charAt(lenth));\n                var bool = lastChar.search(/(?:[\\u2700-\\u27bf]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff]|[\\u0023-\\u0039]\\ufe0f?\\u20e3|\\u3299|\\u3297|\\u303d|\\u3030|\\u24c2|\\ud83c[\\udd70-\\udd71]|\\ud83c[\\udd7e-\\udd7f]|\\ud83c\\udd8e|\\ud83c[\\udd91-\\udd9a]|\\ud83c[\\udde6-\\uddff]|\\ud83c[\\ude01-\\ude02]|\\ud83c\\ude1a|\\ud83c\\ude2f|\\ud83c[\\ude32-\\ude3a]|\\ud83c[\\ude50-\\ude51]|\\u203c|\\u2049|[\\u25aa-\\u25ab]|\\u25b6|\\u25c0|[\\u25fb-\\u25fe]|\\u00a9|\\u00ae|\\u2122|\\u2139|\\ud83c\\udc04|[\\u2600-\\u26FF]|\\u2b05|\\u2b06|\\u2b07|\\u2b1b|\\u2b1c|\\u2b50|\\u2b55|\\u231a|\\u231b|\\u2328|\\u23cf|[\\u23e9-\\u23f3]|[\\u23f8-\\u23fa]|\\ud83c\\udccf|\\u2934|\\u2935|[\\u2190-\\u21ff])/g);\n                if (bool != -1) {\n                    lenth++;\n                }\n                name = name.substr(0, lenth);\n                if (temp > maxLenth * 2) {\n                    name = name.concat(\"...\");\n                }\n            }\n            return name;\n        };\n        StringUtils.isNumber = function (val) {\n            var regPos = /^\\d+(\\.\\d+)?$/;\n            var regNeg = /^(-(([0-9]+\\.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*\\.[0-9]+)|([0-9]*[1-9][0-9]*)))$/;\n            if (regPos.test(val) || regNeg.test(val)) {\n                return true;\n            }\n            else {\n                return false;\n            }\n        };\n        StringUtils.printStack = function () {\n            var e = new Error();\n            var lines = e.stack.split('\\n');\n            lines.shift();\n            lines.forEach(function (line) {\n                console.log('line:', line);\n            });\n        };\n        return StringUtils;\n    }());\n    Core.StringUtils = StringUtils;\n})(Core || (Core = {}));\nvar Utils = (function () {\n    function Utils() {\n    }\n    Utils.str2num = function (str) {\n        str = str.trim();\n        var strNum = parseInt(str);\n        if (isNaN(strNum) || str.length <= 0 || str.length != strNum.toString().length) {\n            return false;\n        }\n        return strNum;\n    };\n    Utils.setCardNameText = function (text, data) {\n        text.text = Core.StringUtils.getRealName(data.name);\n        if (data.rare >= 98) {\n            text.color = Core.TextColors.brownness;\n        }\n        else {\n            switch (data.level) {\n                case 1:\n                    text.color = Core.TextColors.white;\n                    break;\n                case 2:\n                    text.color = Core.TextColors.green;\n                    break;\n                case 3:\n                    text.color = Core.TextColors.blue;\n                    break;\n                case 4:\n                    text.color = Core.TextColors.purple;\n                    break;\n                case 5:\n                    text.color = Core.TextColors.orange;\n                    break;\n                default:\n                    text.color = Core.TextColors.white;\n                    break;\n            }\n        }\n    };\n    Utils.getResolutionDistance = function () {\n        return (fgui.GRoot.inst.height - 1600 - window.support.topMargin - window.support.bottomMargin);\n    };\n    Utils.setDefaultNameColor = function (text, name) {\n        if (name.indexOf(\"#c\") < 0) {\n            text.color = cc.Color.WHITE;\n        }\n    };\n    Utils.compareVersion = function (v1, v2) {\n        var v1s = v1.split('.');\n        var v2s = v2.split('.');\n        var len = Math.max(v1s.length, v2s.length);\n        while (v1s.length < len) {\n            v1s.push('0');\n        }\n        while (v2s.length < len) {\n            v2s.push('0');\n        }\n        for (var i = 0; i < len; i++) {\n            var num1 = parseInt(v1s[i]);\n            var num2 = parseInt(v2s[i]);\n            if (num1 > num2) {\n                return 1;\n            }\n            else if (num1 < num2) {\n                return -1;\n            }\n        }\n        return 0;\n    };\n    Utils.makeNode3DIfSupported = function (node, group) {\n        var _this = this;\n        if (group === void 0) { group = \"Model\"; }\n        if (node.is3DNode) {\n            return;\n        }\n        var supported = true;\n        if (supported) {\n            node.is3DNode = true;\n            node.group = group;\n            var children = node.children;\n            if (children) {\n                children.forEach(function (child) {\n                    _this.makeNode3DIfSupported(child, group);\n                });\n            }\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    Utils.cancelNode3D = function (node) {\n        var _this = this;\n        if (node.is3DNode) {\n            node.is3DNode = false;\n            node.group = \"UI\";\n            var children = node.children;\n            if (children) {\n                children.forEach(function (child) {\n                    _this.cancelNode3D(child);\n                });\n            }\n        }\n    };\n    Utils.derivative = function (fn) {\n        var h = 0.00001;\n        return function (x) { return (fn(x + h) - fn(x - h)) / (2 * h); };\n    };\n    Utils.blink = function (displayObj, color, rect, maskIndex) {\n        if (color === void 0) { color = Core.TextColors.red; }\n        if (maskIndex === void 0) { maskIndex = null; }\n        return __awaiter(this, void 0, void 0, function () {\n            var mask;\n            var _this = this;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        mask = new fgui.GGraph();\n                        if (rect) {\n                            mask.width = rect.width;\n                            mask.height = rect.height;\n                            mask.x = rect.x;\n                            mask.y = rect.y;\n                        }\n                        else {\n                            mask.width = displayObj.width;\n                            mask.height = displayObj.height;\n                        }\n                        mask.drawRect(0, color.setA(0), color.setA(Math.floor(0.8 * 0xFF)), [3]);\n                        Utils.makeNode3DIfSupported(mask.node);\n                        if (maskIndex != null) {\n                            displayObj.addChildAt(mask, maskIndex);\n                        }\n                        else {\n                            displayObj.addChild(mask);\n                        }\n                        return [4, new Promise(function (resolve) {\n                                egret.Tween.get(mask).to({ alpha: 0.4 }, 110).wait(35).call(function () {\n                                    displayObj.removeChild(mask);\n                                }, null).wait(263).call(function () {\n                                    resolve();\n                                }, _this);\n                            })];\n                    case 1:\n                        _a.sent();\n                        return [2];\n                }\n            });\n        });\n    };\n    Utils.getAccurateTime = function (sec, mode) {\n        if (mode === void 0) { mode = \"hms\"; }\n        return Core.StringUtils.secToString(sec, mode);\n    };\n    Utils.getMaxTime = function (sec) {\n        var time = null;\n        var day = null;\n        var hour = Math.round((sec - 30 * 60) / (60 * 60));\n        var min = Math.round((sec - 30) / 60) % 60;\n        var seconds = sec % 60;\n        if (hour >= 24) {\n            day = Math.ceil((hour / 24));\n            time = day.toString() + \"天\";\n        }\n        else if (hour >= 1 && hour < 24 && min == 0 && seconds == 0) {\n            time = hour.toString() + \"小时\";\n        }\n        else if (hour >= 1 && hour < 24 && (min > 0 || seconds > 0)) {\n            hour++;\n            time = hour.toString() + \"小时\";\n        }\n        else if (hour == 0 && min >= 1 && seconds == 0) {\n            time = min.toString() + \"分钟\";\n        }\n        else if (hour == 0 && min >= 1 && seconds > 0) {\n            min++;\n            time = min.toString() + \"分钟\";\n        }\n        else if (hour == 0 && min == 0 && seconds > 0) {\n            min = 1;\n            time = min.toString() + \"分钟\";\n        }\n        else if (hour == 0 && min == 0 && seconds == 0) {\n            time = \"0分钟\";\n        }\n        return time;\n    };\n    Utils.pos2pos = function (src, des) {\n        var temp = src.obj.localToRoot(src.pos.x, src.pos.y);\n        return des.obj.rootToLocal(temp.x, temp.y);\n    };\n    Utils.isTwoArrEqual = function (arr1, arr2) {\n        var reVal = true;\n        if (!arr1 || !arr2) {\n            reVal = false;\n        }\n        else if (arr1.length != arr2.length) {\n            reVal = false;\n        }\n        else if (arr1.length > 0 && arr2.length > 0) {\n            arr1.forEach(function (ele) {\n                if (arr2.indexOf(ele) < 0) {\n                    reVal = false;\n                }\n            });\n        }\n        return reVal;\n    };\n    Utils.getFormulaResult = function (str) {\n        var regs = /^-?\\d+$/;\n        if (regs.test(str)) {\n            return parseInt(str);\n        }\n        var _str = str.replace('*', '×');\n        var __str = _str.replace('/', '÷');\n        var str1 = __str.split('');\n        var str2 = [];\n        for (var i = 0; i < str1.length; i++) {\n            if (!Number(str1[i]) && str1[i] != '.' && str1[i] != '0') {\n                str2.push('|', str1[i], '|');\n            }\n            else {\n                str2.push(str1[i]);\n            }\n        }\n        var arr = str2.join('').split('|');\n        var ops = '+-#×÷'.split('');\n        var result = [];\n        var temp = [];\n        arr.forEach(function (ele, ind) {\n            if (ele == '(') {\n                temp.push(ele);\n            }\n            else if (ele == ')') {\n                var flag = true;\n                while (flag) {\n                    if (temp[temp.length - 1] != '(') {\n                        result.push(temp.pop());\n                    }\n                    else {\n                        temp.pop();\n                        flag = false;\n                    }\n                }\n            }\n            else if (ops.indexOf(ele) != -1) {\n                var cmp_1 = function (x, t) {\n                    if (t.length == 0 || t[t.length - 1] == '(' ||\n                        (ops.indexOf(x) - ops.indexOf(t[t.length - 1])) > 2) {\n                        t.push(x);\n                    }\n                    else {\n                        result.push(t.pop());\n                        return cmp_1(x, t);\n                    }\n                };\n                cmp_1(ele, temp);\n            }\n            else {\n                result.push(ele);\n            }\n        });\n        while (temp.length > 0) {\n            if (temp[temp.length - 1] != '(') {\n                result.push(temp.pop());\n            }\n            else {\n                temp.pop();\n            }\n        }\n        var res = result;\n        result = [];\n        res.forEach(function (ele, ind) {\n            if (ele != '')\n                result.push(ele);\n        });\n        var s = [];\n        result.forEach(function (ele, ind) {\n            var reg = /^\\d+(\\.\\d+)?$/;\n            if (reg.test(ele)) {\n                s.push(ele);\n            }\n            else {\n                var ans = void 0;\n                var a = parseFloat(s.pop());\n                var b = parseFloat(s.pop());\n                if (ele == '+')\n                    ans = a + b;\n                if (ele == '-')\n                    ans = b - a;\n                if (ele == '×')\n                    ans = a * b;\n                if (ele == '÷')\n                    ans = b / a;\n                s.push(ans);\n            }\n        });\n        return s[0];\n    };\n    Utils.getText = function (num) {\n        var param = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            param[_i - 1] = arguments[_i];\n        }\n        return Core.StringUtils.format(Core.StringUtils.TEXT(num), param[0], param[1], param[2], param[3], param[4]);\n    };\n    Utils.prototype.fairyPosToNodePos = function (x, y) {\n        return { x: x, y: -y };\n    };\n    Utils.touchPointToGRoot = function (x, y) {\n        var _x = (fgui.GRoot.inst.width / 480) * x;\n        var _y = (((960 - y) * fgui.GRoot.inst.height) / 960);\n        return new cc.Vec2(_x, _y);\n    };\n    Utils.analyseInputNumberText = function (text) {\n        var reVal = { num: null, reason: \"\" };\n        var regs = /^-?\\d+$/;\n        if (!regs.test(text) || parseInt(text) <= 0) {\n            if (parseInt(text) == 0) {\n                reVal.reason = \"请输入的数目大于0!\";\n            }\n            else {\n                reVal.reason = \"请输入合法的数目!\";\n            }\n        }\n        else {\n            reVal.num = parseInt(text);\n        }\n        return reVal;\n    };\n    Utils.isStrPureChinese = function (str) {\n        var pattern = new RegExp(\"[\\u4E00-\\u9FA5]+\");\n        if (pattern.test(str)) {\n            return true;\n        }\n        return false;\n    };\n    Utils.isStrPureEnglish = function (str) {\n        var pattern2 = new RegExp(\"[A-Za-z]+\");\n        if (pattern2.test(str)) {\n            return true;\n        }\n        return false;\n    };\n    Utils.getByteLen = function (val) {\n        var len = 0;\n        for (var i = 0; i < val.length; i++) {\n            var a = val.charAt(i);\n            if (a.match(/[^\\x00-\\xff]/ig) != null) {\n                len += 2;\n            }\n            else {\n                len += 1;\n            }\n        }\n        return len;\n    };\n    Utils.printStack = function () {\n        var e = new Error();\n        var lines = e.stack.split('\\n');\n        lines.shift();\n        lines.forEach(function (line) {\n            cc.log('line:', line);\n        });\n    };\n    Utils.replaceStrChar = function (str, index, charStr) {\n        return str.substring(0, index) + charStr + str.substring(index + 1);\n    };\n    Utils.replaceStrInStr = function (text, start, stop, replacetext) {\n        return text.substring(0, start) + replacetext + text.substring(stop + 1);\n    };\n    Utils.hovercUnique = function (arr) {\n        var result = [];\n        var hash = {};\n        for (var i = 0, elem = null; (elem = arr[i]) != null; i++) {\n            if (!hash[elem]) {\n                result.push(elem);\n                hash[elem] = true;\n            }\n        }\n        return result;\n    };\n    Utils.printMat = function (obj) {\n        var tm = obj.m;\n        var str;\n        if (tm) {\n            str = \"openGL矩阵为:[\\n\" +\n                tm[0] + \", \" + tm[4] + \", \" + tm[8] + \", \" + tm[12] + \",\\n\" +\n                tm[1] + \", \" + tm[5] + \", \" + tm[9] + \", \" + tm[13] + \",\\n\" +\n                tm[2] + \", \" + tm[6] + \", \" + tm[10] + \", \" + tm[14] + \",\\n\" +\n                tm[3] + \", \" + tm[7] + \", \" + tm[11] + \", \" + tm[15] + \"\\n\" +\n                \"]\";\n        }\n        else {\n            str = \"[\\n\" +\n                \"1, 0, 0, 0\\n\" +\n                \"0, 1, 0, 0\\n\" +\n                \"0, 0, 1, 0\\n\" +\n                \"0, 0, 0, 1\\n\" +\n                \"]\";\n        }\n        console.log(str);\n    };\n    Utils.propertyDecorator = function (target, propertyKey) {\n        var protoVal = target[propertyKey];\n        Object.defineProperty(target, propertyKey, {\n            get: function () {\n                return protoVal;\n            },\n            set: function (val) {\n                protoVal = val;\n            }\n        });\n    };\n    return Utils;\n}());\nvar WXConfig = (function () {\n    function WXConfig() {\n        window.support = {\n            \"nativeSound\": false,\n            \"record\": false,\n            \"topMargin\": 0,\n            \"bottomMargin\": 0\n        };\n        window.support.record = false;\n        window.support.topMargin = 0;\n        window.support.bottomMargin = 0;\n        if (Core.DeviceUtils.isMiniGame()) {\n            this._systemInfo = wx.getSystemInfoSync();\n            window.support.topMargin = this._getTopMargin();\n            if (window.support.topMargin < 0) {\n                console.log(\"window.support.topMargin < 0\");\n                var liuhai = [\"iPhone X\", \"PAR-AL00\", \"MI 8\",\n                    \"ONEPLUS A6000\", \"COL-AL10\", \"EML-AL00\", \"PACM00\", \"vivo X21A\",\n                    \"vivo Y85A\", \"V1914A\", \"PBAM00\", \"LYA_AL10\"];\n                for (var i = 0; i < liuhai.length; i++) {\n                    if (this._systemInfo.model.indexOf(liuhai[i]) >= 0) {\n                        window.support.topMargin = 48;\n                        window.support.bottomMargin = 0;\n                        break;\n                    }\n                }\n                window.support.topMargin = 0;\n            }\n            else {\n                console.log(\"window.support.topMargin > 0\");\n            }\n        }\n    }\n    Object.defineProperty(WXConfig, \"inst\", {\n        get: function () {\n            if (WXConfig._inst == null) {\n                WXConfig._inst = new WXConfig();\n            }\n            return WXConfig._inst;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    WXConfig.prototype._getTopMargin = function () {\n        var safeArea = this._systemInfo.safeArea || {};\n        if (safeArea[\"top\"] == undefined) {\n            var navbarPosition = this._systemInfo[\"navbarPosition\"] || {};\n            if (navbarPosition[\"marginTop\"] == undefined) {\n                return -1;\n            }\n            else {\n                return navbarPosition[\"marginTop\"];\n            }\n        }\n        else {\n            var top_1 = safeArea[\"top\"];\n            if (top_1 > 0) {\n                var scale = cc.view.getScaleX();\n                var ratio = this._systemInfo.pixelRatio;\n                return top_1 * ratio;\n            }\n            else {\n                return top_1;\n            }\n        }\n    };\n    WXConfig._inst = null;\n    return WXConfig;\n}());\nvar MVC;\n(function (MVC) {\n    var Controller = (function () {\n        function Controller() {\n        }\n        Object.defineProperty(Controller, \"inst\", {\n            get: function () {\n                if (!Controller._inst) {\n                    Controller._inst = new Controller();\n                }\n                return Controller._inst;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Controller.prototype.__concern = function (model, view, binding, immediate) {\n            if (immediate === void 0) { immediate = true; }\n            if (!model || !view) {\n                return;\n            }\n            var __ob_mapping__ = Object.getPrototypeOf(view).__ob_mapping__;\n            if (!__ob_mapping__) {\n                console.error(\"View has no observe map: \", view);\n                return;\n            }\n            var __model_name__ = Object.getPrototypeOf(model).__model_name__;\n            if (!__model_name__) {\n                console.error(\"Model has no name: \", model);\n                return;\n            }\n            if (__ob_mapping__[__model_name__]) {\n                var __handlers__1 = __ob_mapping__[__model_name__];\n                var __prop_names__ = Object.keys(__handlers__1);\n                __prop_names__.forEach(function (__prop__name__) {\n                    var __handler__ = __handlers__1[__prop__name__];\n                    if (binding) {\n                        if (immediate) {\n                            model.watchPropImmediate(__prop__name__, __handler__, view);\n                        }\n                        else {\n                            model.watchProp(__prop__name__, __handler__, view);\n                        }\n                    }\n                    else {\n                        model.unwatchProp(__prop__name__, __handler__, view);\n                    }\n                });\n            }\n        };\n        Controller.prototype.bind = function (model, view, immediate) {\n            if (immediate === void 0) { immediate = true; }\n            this.__concern(model, view, true, immediate);\n        };\n        Controller.prototype.unbind = function (model, view) {\n            this.__concern(model, view, false);\n        };\n        return Controller;\n    }());\n    MVC.Controller = Controller;\n})(MVC || (MVC = {}));\nvar egret;\n(function (egret) {\n    function $error(code, code_point) {\n        cc.log(\"ERROR! code = \", code);\n    }\n    egret.$error = $error;\n    function $warn(code) {\n        cc.warn(\"WARN! code = \", code);\n    }\n    egret.$warn = $warn;\n    egret.localStorage = cc.sys.localStorage;\n    egret.$hashCount = 1;\n    var HashObject = (function () {\n        function HashObject() {\n            this.$hashCode = egret.$hashCount++;\n        }\n        Object.defineProperty(HashObject.prototype, \"hashCode\", {\n            get: function () {\n                return this.$hashCode;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        return HashObject;\n    }());\n    egret.HashObject = HashObject;\n    var Event = (function (_super) {\n        __extends(Event, _super);\n        function Event(type, bubble) {\n            var _this = _super.call(this, type, bubble) || this;\n            _this._hasHandled = false;\n            _this.$currentTarget = null;\n            _this.$target = null;\n            _this.$isDefaultPrevented = false;\n            _this.$type = type;\n            return _this;\n        }\n        Object.defineProperty(Event.prototype, \"currentTarget_\", {\n            get: function () {\n                return this.$currentTarget;\n            },\n            set: function (tar) {\n                this.$currentTarget = tar;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(Event.prototype, \"type_\", {\n            get: function () {\n                return this.$type;\n            },\n            set: function (t) {\n                this.$type = t;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(Event.prototype, \"target_\", {\n            get: function () {\n                return this.$target;\n            },\n            set: function (tar) {\n                this.$target = tar;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Event.prototype.$setTarget = function (target) {\n            this.$target = target;\n            return true;\n        };\n        Object.defineProperty(Event.prototype, \"data\", {\n            get: function () {\n                return _super.prototype.getUserData.call(this);\n            },\n            set: function (param) {\n                _super.prototype.setUserData.call(this, param);\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(Event.prototype, \"hasHandled\", {\n            get: function () {\n                return this._hasHandled;\n            },\n            set: function (b) {\n                this._hasHandled = b;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Event.CONNECT = \"connect\";\n        Event.CLOSE = \"close\";\n        Event.IO_ERROR = \"ioError\";\n        Event.SOCKET_DATA = \"socketData\";\n        return Event;\n    }(cc.Event.EventCustom));\n    egret.Event = Event;\n    function is(instance, typeName) {\n        if (!instance || typeof instance != \"object\") {\n            return false;\n        }\n        var prototype = Object.getPrototypeOf(instance);\n        var types = prototype ? prototype.__types__ : null;\n        if (!types) {\n            return false;\n        }\n        return (types.indexOf(typeName) !== -1);\n    }\n    egret.is = is;\n    function log(msg) {\n        var subst = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            subst[_i - 1] = arguments[_i];\n        }\n        cc.log.apply(cc, __spreadArrays([msg], subst));\n    }\n    egret.log = log;\n})(egret || (egret = {}));\n;\nvar DEBUG = false;\nvar egret;\n(function (egret) {\n    var ONCE_EVENT_LIST = [];\n    var EventDispatcher = (function (_super) {\n        __extends(EventDispatcher, _super);\n        function EventDispatcher(target) {\n            if (target === void 0) { target = null; }\n            var _this = _super.call(this) || this;\n            _this.$EventDispatcher = {\n                0: target ? target : _this,\n                1: {},\n                2: {},\n                3: 0\n            };\n            return _this;\n        }\n        EventDispatcher.prototype.$getEventMap = function (useCapture) {\n            var values = this.$EventDispatcher;\n            var eventMap = useCapture ? values[2] : values[1];\n            return eventMap;\n        };\n        EventDispatcher.prototype.addEventListener = function (type, listener, thisObject, useCapture, priority) {\n            this.$addListener(type, listener, thisObject, useCapture, priority);\n        };\n        EventDispatcher.prototype.once = function (type, listener, thisObject, useCapture, priority) {\n            this.$addListener(type, listener, thisObject, useCapture, priority, true);\n        };\n        EventDispatcher.prototype.$addListener = function (type, listener, thisObject, useCapture, priority, dispatchOnce) {\n            if (DEBUG && !listener) {\n                egret.$error(1003, \"listener\");\n            }\n            var values = this.$EventDispatcher;\n            var eventMap = useCapture ? values[2] : values[1];\n            var list = eventMap[type];\n            if (!list) {\n                list = eventMap[type] = [];\n            }\n            else if (values[3] !== 0) {\n                eventMap[type] = list = list.concat();\n            }\n            this.$insertEventBin(list, type, listener, thisObject, useCapture, priority, dispatchOnce);\n        };\n        EventDispatcher.prototype.$insertEventBin = function (list, type, listener, thisObject, useCapture, priority, dispatchOnce) {\n            priority = +priority | 0;\n            var insertIndex = -1;\n            var length = list.length;\n            for (var i = 0; i < length; i++) {\n                var bin = list[i];\n                if (bin.listener == listener && bin.thisObject == thisObject && bin.target == this) {\n                    return false;\n                }\n                if (insertIndex == -1 && bin.priority < priority) {\n                    insertIndex = i;\n                }\n            }\n            var eventBin = {\n                type: type, listener: listener, thisObject: thisObject, priority: priority,\n                target: this, useCapture: useCapture, dispatchOnce: !!dispatchOnce\n            };\n            if (insertIndex !== -1) {\n                list.splice(insertIndex, 0, eventBin);\n            }\n            else {\n                list.push(eventBin);\n            }\n            return true;\n        };\n        EventDispatcher.prototype.removeEventListener = function (type, listener, thisObject, useCapture) {\n            var values = this.$EventDispatcher;\n            var eventMap = useCapture ? values[2] : values[1];\n            var list = eventMap[type];\n            if (!list) {\n                return;\n            }\n            if (values[3] !== 0) {\n                eventMap[type] = list = list.concat();\n            }\n            this.$removeEventBin(list, listener, thisObject);\n            if (list.length == 0) {\n                eventMap[type] = null;\n            }\n        };\n        EventDispatcher.prototype.$removeEventBin = function (list, listener, thisObject) {\n            var length = list.length;\n            for (var i = 0; i < length; i++) {\n                var bin = list[i];\n                if (bin.listener == listener && bin.thisObject == thisObject && bin.target == this) {\n                    list.splice(i, 1);\n                    return true;\n                }\n            }\n            return false;\n        };\n        EventDispatcher.prototype.hasEventListener = function (type) {\n            var values = this.$EventDispatcher;\n            return !!(values[1][type] || values[2][type]);\n        };\n        EventDispatcher.prototype.willTrigger = function (type) {\n            return this.hasEventListener(type);\n        };\n        EventDispatcher.prototype.dispatchEvent = function (event) {\n            event.$currentTarget = this.$EventDispatcher[0];\n            event.$setTarget(event.$currentTarget);\n            return this.$notifyListener(event, false);\n        };\n        EventDispatcher.prototype.$notifyListener = function (event, capturePhase) {\n            var values = this.$EventDispatcher;\n            var eventMap = capturePhase ? values[2] : values[1];\n            var list = eventMap[event.$type];\n            if (!list) {\n                event.hasHandled = false;\n                return true;\n            }\n            var length = list.length;\n            if (length == 0) {\n                event.hasHandled = false;\n                return true;\n            }\n            var onceList = ONCE_EVENT_LIST;\n            values[3]++;\n            for (var i = 0; i < length; i++) {\n                var eventBin = list[i];\n                eventBin.listener.call(eventBin.thisObject, event);\n                if (eventBin.dispatchOnce) {\n                    onceList.push(eventBin);\n                }\n            }\n            event.hasHandled = true;\n            values[3]--;\n            while (onceList.length) {\n                var eventBin = onceList.pop();\n                eventBin.target.removeEventListener(eventBin.type, eventBin.listener, eventBin.thisObject, eventBin.useCapture);\n            }\n            return !event.$isDefaultPrevented;\n        };\n        EventDispatcher.prototype.dispatchEventWith = function (type, bubbles, data, cancelable) {\n            if (bubbles || this.hasEventListener(type)) {\n                var event_1 = new egret.Event(type, bubbles);\n                event_1.data = data;\n                return this.dispatchEvent(event_1);\n            }\n            return true;\n        };\n        return EventDispatcher;\n    }(egret.HashObject));\n    egret.EventDispatcher = EventDispatcher;\n})(egret || (egret = {}));\nvar Core;\n(function (Core) {\n    var BindingItem = (function () {\n        function BindingItem() {\n        }\n        BindingItem._gId = 0;\n        return BindingItem;\n    }());\n    var BindingDelegate = (function (_super) {\n        __extends(BindingDelegate, _super);\n        function BindingDelegate() {\n            var _this = _super.call(this) || this;\n            _this._watchers = new Collection.Dictionary();\n            return _this;\n        }\n        BindingDelegate.prototype.watchProp = function (prop, callback, thisArg) {\n            if (!this._watchers.containsKey(prop)) {\n                this._watchers.setValue(prop, new Collection.Dictionary());\n            }\n            else {\n            }\n            var items = this._watchers.getValue(prop);\n            var item = new BindingItem();\n            item._id = ++BindingItem._gId;\n            item._callback = callback;\n            item._thisArg = thisArg;\n            item._watch = Core.Binding.bindHandler(this, [prop], callback, thisArg);\n            items.setValue(item._id, item);\n            return item._watch;\n        };\n        BindingDelegate.prototype.watchPropImmediate = function (prop, callback, thisArg) {\n            var watch = this.watchProp(prop, callback, thisArg);\n            callback.call(thisArg, watch.getValue(), undefined);\n        };\n        BindingDelegate.prototype.unwatchProp = function (prop, callback, thisArg) {\n            if (!this._watchers.containsKey(prop)) {\n                return;\n            }\n            var items = this._watchers.getValue(prop);\n            var dels = new Array();\n            items.forEach(function (id, item) {\n                if (item._callback == callback && item._thisArg == thisArg) {\n                    item._watch.unwatch();\n                    dels.push(item);\n                }\n            });\n            dels.forEach(function (item) {\n                items.remove(item._id);\n            });\n        };\n        return BindingDelegate;\n    }(egret.EventDispatcher));\n    Core.BindingDelegate = BindingDelegate;\n})(Core || (Core = {}));\nvar MVC;\n(function (MVC) {\n    var Model = (function (_super) {\n        __extends(Model, _super);\n        function Model() {\n            return _super.call(this) || this;\n        }\n        return Model;\n    }(Core.BindingDelegate));\n    MVC.Model = Model;\n})(MVC || (MVC = {}));\nvar MVC;\n(function (MVC) {\n    var g_modelId = 0;\n    function autoModelName(constructor) {\n        g_modelId++;\n        constructor.prototype.__model_name__ = \"Model\" + g_modelId;\n        return (function (_super) {\n            __extends(class_1, _super);\n            function class_1() {\n                return _super !== null && _super.apply(this, arguments) || this;\n            }\n            return class_1;\n        }(constructor));\n    }\n    MVC.autoModelName = autoModelName;\n    function observe(cls, propName) {\n        return function (target, propertyKey, descriptor) {\n            if (!target.__ob_mapping__) {\n                target.__ob_mapping__ = {};\n            }\n            var __model_name__ = cls.prototype.__model_name__;\n            if (!__model_name__) {\n                console.error(\"Please add '@autoModelName' decorator to class \", cls);\n            }\n            else {\n                if (!target.__ob_mapping__[__model_name__]) {\n                    target.__ob_mapping__[__model_name__] = {};\n                }\n                target.__ob_mapping__[__model_name__][propName] = target[propertyKey];\n            }\n        };\n    }\n    MVC.observe = observe;\n})(MVC || (MVC = {}));\nvar Core;\n(function (Core) {\n    function joinValues(templates) {\n        var first = templates[0];\n        var value = first instanceof Core.Watcher ? first.getValue() : first;\n        var length = templates.length;\n        for (var i = 1; i < length; i++) {\n            var item = templates[i];\n            if (item instanceof Core.Watcher) {\n                item = item.getValue();\n            }\n            value += item;\n        }\n        return value;\n    }\n    var Binding = (function () {\n        function Binding() {\n        }\n        Binding.bindProperty = function (host, chain, target, prop) {\n            var watcher = Core.Watcher.watch(host, chain, null, null);\n            if (watcher) {\n                var assign = function (value) {\n                    target[prop] = value;\n                };\n                watcher.setHandler(assign, null);\n                assign(watcher.getValue());\n            }\n            return watcher;\n        };\n        Binding.bindHandler = function (host, chain, handler, thisObject) {\n            var watcher = Core.Watcher.watch(host, chain, handler, thisObject);\n            return watcher;\n        };\n        Binding.$bindProperties = function (host, templates, chainIndex, target, prop) {\n            if (templates.length == 1 && chainIndex.length == 1) {\n                return Binding.bindProperty(host, templates[0].split(\".\"), target, prop);\n            }\n            var assign = function () {\n                target[prop] = joinValues(templates);\n            };\n            var length = chainIndex.length;\n            var watcher;\n            for (var i = 0; i < length; i++) {\n                var index = chainIndex[i];\n                var chain = templates[index].split(\".\");\n                watcher = Core.Watcher.watch(host, chain, null, null);\n                if (watcher) {\n                    templates[index] = watcher;\n                    watcher.setHandler(assign, null);\n                }\n            }\n            assign();\n            return watcher;\n        };\n        return Binding;\n    }());\n    Core.Binding = Binding;\n})(Core || (Core = {}));\nvar Core;\n(function (Core) {\n    var PropertyEvent = (function (_super) {\n        __extends(PropertyEvent, _super);\n        function PropertyEvent(type, bubbles, cancelable, property, oldValue) {\n            var _this = _super.call(this, type, bubbles) || this;\n            _this.property = property;\n            _this.oldValue = oldValue;\n            return _this;\n        }\n        PropertyEvent.dispatchPropertyEvent = function (target, eventType, property, oldValue) {\n            if (!target.hasEventListener(eventType)) {\n                return true;\n            }\n            var event = new PropertyEvent(eventType, false, false, property, oldValue);\n            return target.dispatchEvent(event);\n        };\n        PropertyEvent.PROPERTY_CHANGE = \"propertyChange\";\n        return PropertyEvent;\n    }(egret.Event));\n    Core.PropertyEvent = PropertyEvent;\n})(Core || (Core = {}));\nvar Core;\n(function (Core) {\n    var listeners = \"__listeners__\";\n    var bindables = \"__bindables__\";\n    var bindableCount = 0;\n    function getPropertyDescriptor(host, property) {\n        var data = Object.getOwnPropertyDescriptor(host, property);\n        if (data) {\n            return data;\n        }\n        var prototype = Object.getPrototypeOf(host);\n        if (prototype) {\n            return getPropertyDescriptor(prototype, property);\n        }\n        return null;\n    }\n    function notifyListener(host, property, oldValue) {\n        var list = host[listeners];\n        var length = list.length;\n        for (var i = 0; i < length; i += 2) {\n            var listener = list[i];\n            var target = list[i + 1];\n            listener.call(target, property, oldValue);\n        }\n    }\n    var Watcher = (function () {\n        function Watcher(property, handler, thisObject, next) {\n            this.isExecuting = false;\n            this.property = property;\n            this.handler = handler;\n            this.next = next;\n            this.thisObject = thisObject;\n        }\n        Watcher.watch = function (host, chain, handler, thisObject) {\n            if (DEBUG) {\n                if (!chain) {\n                    egret.$error(1003, \"chain\");\n                }\n            }\n            if (chain.length > 0) {\n                var property = chain.shift();\n                var next = Watcher.watch(null, chain, handler, thisObject);\n                var watcher = new Watcher(property, handler, thisObject, next);\n                watcher.reset(host);\n                return watcher;\n            }\n            else {\n                return null;\n            }\n        };\n        Watcher.checkBindable = function (host, property) {\n            var list = host[bindables];\n            if (list && list.indexOf(property) != -1) {\n                return true;\n            }\n            var isEventDispatcher = egret.is(host, \"egret.IEventDispatcher\");\n            if (!isEventDispatcher && !host[listeners]) {\n                host[listeners] = [];\n            }\n            var data = getPropertyDescriptor(host, property);\n            if (data && data.set && data.get) {\n                var orgSet_1 = data.set;\n                data.set = function (value) {\n                    if (this[property] != value) {\n                        var oldValue = this[property];\n                        orgSet_1.call(this, value);\n                        if (isEventDispatcher) {\n                            Core.PropertyEvent.dispatchPropertyEvent(this, Core.PropertyEvent.PROPERTY_CHANGE, property, oldValue);\n                        }\n                        else {\n                            notifyListener(this, property, oldValue);\n                        }\n                    }\n                };\n            }\n            else if (!data || (!data.get && !data.set)) {\n                bindableCount++;\n                var newProp_1 = \"_\" + bindableCount + property;\n                host[newProp_1] = data ? data.value : null;\n                data = { enumerable: true, configurable: true };\n                data.get = function () {\n                    return this[newProp_1];\n                };\n                data.set = function (value) {\n                    if (this[newProp_1] != value) {\n                        var oldValue = this[newProp_1];\n                        this[newProp_1] = value;\n                        if (isEventDispatcher) {\n                            Core.PropertyEvent.dispatchPropertyEvent(this, Core.PropertyEvent.PROPERTY_CHANGE, property, oldValue);\n                        }\n                        else {\n                            notifyListener(this, property, oldValue);\n                        }\n                    }\n                };\n            }\n            else {\n                return false;\n            }\n            Object.defineProperty(host, property, data);\n            Core.registerBindable(host, property);\n        };\n        Watcher.prototype.unwatch = function () {\n            this.reset(null);\n            this.handler = null;\n            if (this.next) {\n                this.next.handler = null;\n            }\n        };\n        Watcher.prototype.getValue = function () {\n            if (this.next) {\n                return this.next.getValue();\n            }\n            return this.getHostPropertyValue();\n        };\n        Watcher.prototype.setHandler = function (handler, thisObject) {\n            this.handler = handler;\n            this.thisObject = thisObject;\n            if (this.next) {\n                this.next.setHandler(handler, thisObject);\n            }\n        };\n        Watcher.prototype.reset = function (newHost) {\n            var oldHost = this.host;\n            if (oldHost) {\n                if (egret.is(oldHost, \"egret.IEventDispatcher\")) {\n                    oldHost.removeEventListener(Core.PropertyEvent.PROPERTY_CHANGE, this.wrapHandler, this);\n                }\n                else {\n                    var list = oldHost[listeners];\n                    var index = list.indexOf(this);\n                    list.splice(index - 1, 2);\n                }\n            }\n            this.host = newHost;\n            if (newHost) {\n                Watcher.checkBindable(newHost, this.property);\n                if (egret.is(newHost, \"egret.IEventDispatcher\")) {\n                    newHost.addEventListener(Core.PropertyEvent.PROPERTY_CHANGE, this.wrapHandler, this, false, 100);\n                }\n                else {\n                    var list = newHost[listeners];\n                    list.push(this.onPropertyChange);\n                    list.push(this);\n                }\n            }\n            if (this.next)\n                this.next.reset(this.getHostPropertyValue());\n        };\n        Watcher.prototype.getHostPropertyValue = function () {\n            return this.host ? this.host[this.property] : null;\n        };\n        Watcher.prototype.wrapHandler = function (event) {\n            this.onPropertyChange(event.property, event.oldValue);\n        };\n        Watcher.prototype.onPropertyChange = function (property, oldValue) {\n            if (property == this.property && !this.isExecuting) {\n                try {\n                    this.isExecuting = true;\n                    if (this.next)\n                        this.next.reset(this.getHostPropertyValue());\n                    this.handler.call(this.thisObject, this.getValue(), oldValue);\n                }\n                finally {\n                    this.isExecuting = false;\n                }\n            }\n        };\n        return Watcher;\n    }());\n    Core.Watcher = Watcher;\n})(Core || (Core = {}));\nvar Core;\n(function (Core) {\n    var key = \"__bindables__\";\n    function registerBindable(instance, property) {\n        if (DEBUG) {\n            if (!instance) {\n                egret.$error(1003, \"instance\");\n            }\n            if (!property) {\n                egret.$error(1003, \"property\");\n            }\n        }\n        if (instance.hasOwnProperty(key)) {\n            instance[key].push(property);\n        }\n        else {\n            var list = [property];\n            if (instance[key]) {\n                list = instance[key].concat(list);\n            }\n            instance[key] = list;\n        }\n    }\n    Core.registerBindable = registerBindable;\n})(Core || (Core = {}));\nvar Collection;\n(function (Collection) {\n    var _hasOwnProperty = Object.prototype.hasOwnProperty;\n    Collection.has = function (obj, prop) {\n        return _hasOwnProperty.call(obj, prop);\n    };\n    function defaultCompare(a, b) {\n        if (a < b) {\n            return -1;\n        }\n        else if (a === b) {\n            return 0;\n        }\n        else {\n            return 1;\n        }\n    }\n    Collection.defaultCompare = defaultCompare;\n    function defaultEquals(a, b) {\n        return a === b;\n    }\n    Collection.defaultEquals = defaultEquals;\n    function defaultToString(item) {\n        if (item === null) {\n            return 'COLLECTION_NULL';\n        }\n        else if (isUndefined(item)) {\n            return 'COLLECTION_UNDEFINED';\n        }\n        else if (isString(item)) {\n            return '$s' + item;\n        }\n        else {\n            return '$o' + item.toString();\n        }\n    }\n    Collection.defaultToString = defaultToString;\n    function makeString(item, join) {\n        if (join === void 0) { join = ','; }\n        if (item === null) {\n            return 'COLLECTION_NULL';\n        }\n        else if (isUndefined(item)) {\n            return 'COLLECTION_UNDEFINED';\n        }\n        else if (item instanceof String || item instanceof Number) {\n            return item.toString();\n        }\n        else {\n            var toret = '{';\n            var first = true;\n            for (var prop in item) {\n                if (Collection.has(item, prop)) {\n                    if (first) {\n                        first = false;\n                    }\n                    else {\n                        toret = toret + join;\n                    }\n                    toret = toret + prop + ':' + item[prop];\n                }\n            }\n            return toret + '}';\n        }\n    }\n    Collection.makeString = makeString;\n    function isFunction(func) {\n        return (typeof func) === 'function';\n    }\n    Collection.isFunction = isFunction;\n    function isUndefined(obj) {\n        return (typeof obj) === 'undefined';\n    }\n    Collection.isUndefined = isUndefined;\n    function isString(obj) {\n        return Object.prototype.toString.call(obj) === '[object String]';\n    }\n    Collection.isString = isString;\n    function reverseCompareFunction(compareFunction) {\n        if (isUndefined(compareFunction) || !isFunction(compareFunction)) {\n            return function (a, b) {\n                if (a < b) {\n                    return 1;\n                }\n                else if (a === b) {\n                    return 0;\n                }\n                else {\n                    return -1;\n                }\n            };\n        }\n        else {\n            return function (d, v) {\n                return compareFunction(d, v) * -1;\n            };\n        }\n    }\n    Collection.reverseCompareFunction = reverseCompareFunction;\n    function compareToEquals(compareFunction) {\n        return function (a, b) {\n            return compareFunction(a, b) === 0;\n        };\n    }\n    Collection.compareToEquals = compareToEquals;\n})(Collection || (Collection = {}));\nvar Collection;\n(function (Collection) {\n    function indexOf(array, item, equalsFunction) {\n        var equals = equalsFunction || Collection.defaultEquals;\n        var length = array.length;\n        var i = 0;\n        for (; i < length; i++) {\n            if (equals(array[i], item)) {\n                return i;\n            }\n        }\n        return -1;\n    }\n    Collection.indexOf = indexOf;\n    function lastIndexOf(array, item, equalsFunction) {\n        var equals = equalsFunction || Collection.defaultEquals;\n        var length = array.length;\n        var i = length - 1;\n        for (; i >= 0; i--) {\n            if (equals(array[i], item)) {\n                return i;\n            }\n        }\n        return -1;\n    }\n    Collection.lastIndexOf = lastIndexOf;\n    function contains(array, item, equalsFunction) {\n        return indexOf(array, item, equalsFunction) >= 0;\n    }\n    Collection.contains = contains;\n    function remove(array, item, equalsFunction) {\n        var index = indexOf(array, item, equalsFunction);\n        if (index < 0) {\n            return false;\n        }\n        array.splice(index, 1);\n        return true;\n    }\n    Collection.remove = remove;\n    function frequency(array, item, equalsFunction) {\n        var equals = equalsFunction || Collection.defaultEquals;\n        var length = array.length;\n        var freq = 0;\n        var i = 0;\n        for (; i < length; i++) {\n            if (equals(array[i], item)) {\n                freq++;\n            }\n        }\n        return freq;\n    }\n    Collection.frequency = frequency;\n    function equals(array1, array2, equalsFunction) {\n        var equals = equalsFunction || Collection.defaultEquals;\n        if (array1.length !== array2.length) {\n            return false;\n        }\n        var length = array1.length;\n        var i = 0;\n        for (; i < length; i++) {\n            if (!equals(array1[i], array2[i])) {\n                return false;\n            }\n        }\n        return true;\n    }\n    Collection.equals = equals;\n    function copy(array) {\n        return array.concat();\n    }\n    Collection.copy = copy;\n    function swap(array, i, j) {\n        if (i < 0 || i >= array.length || j < 0 || j >= array.length) {\n            return false;\n        }\n        var temp = array[i];\n        array[i] = array[j];\n        array[j] = temp;\n        return true;\n    }\n    Collection.swap = swap;\n    function toString(array) {\n        return '[' + array.toString() + ']';\n    }\n    Collection.toString = toString;\n    function forEach(array, callback) {\n        var ele = undefined;\n        for (var _i = 0, array_1 = array; _i < array_1.length; _i++) {\n            ele = array_1[_i];\n            if (callback(ele) === false) {\n                return;\n            }\n        }\n    }\n    Collection.forEach = forEach;\n})(Collection || (Collection = {}));\nvar Collection;\n(function (Collection) {\n    function defaultDictionaryToString(item) {\n        if (item === null) {\n            return 'COLLECTION_NULL';\n        }\n        else if (Collection.isUndefined(item)) {\n            return 'COLLECTION_UNDEFINED';\n        }\n        else if (Collection.isString(item)) {\n            return '$s' + item;\n        }\n        else {\n            return '$o' + item.toString();\n        }\n    }\n    Collection.defaultDictionaryToString = defaultDictionaryToString;\n    var Dictionary = (function () {\n        function Dictionary(toStrFunction) {\n            this.table = {};\n            this.nElements = 0;\n            this.toStr = toStrFunction || defaultDictionaryToString;\n        }\n        Dictionary.prototype.getValue = function (key) {\n            var pair = this.table['$' + this.toStr(key)];\n            if (Collection.isUndefined(pair)) {\n                return undefined;\n            }\n            return pair.value;\n        };\n        Dictionary.prototype.setValue = function (key, value) {\n            if (Collection.isUndefined(key) || Collection.isUndefined(value)) {\n                return undefined;\n            }\n            var ret;\n            var k = '$' + this.toStr(key);\n            var previousElement = this.table[k];\n            if (Collection.isUndefined(previousElement)) {\n                this.nElements++;\n                ret = undefined;\n            }\n            else {\n                ret = previousElement.value;\n            }\n            this.table[k] = {\n                key: key,\n                value: value\n            };\n            return ret;\n        };\n        Dictionary.prototype.remove = function (key) {\n            var k = '$' + this.toStr(key);\n            var previousElement = this.table[k];\n            if (!Collection.isUndefined(previousElement)) {\n                this.table[k] = undefined;\n                this.nElements--;\n                delete this.table[k];\n                return previousElement.value;\n            }\n            return undefined;\n        };\n        Dictionary.prototype.keys = function () {\n            var array = [];\n            var name = undefined;\n            for (name in this.table) {\n                if (Collection.has(this.table, name)) {\n                    var pair = this.table[name];\n                    if (pair !== undefined) {\n                        array.push(pair.key);\n                    }\n                }\n            }\n            return array;\n        };\n        Dictionary.prototype.values = function () {\n            var array = [];\n            var name = undefined;\n            for (name in this.table) {\n                if (Collection.has(this.table, name)) {\n                    var pair = this.table[name];\n                    if (pair !== undefined) {\n                        array.push(pair.value);\n                    }\n                }\n            }\n            return array;\n        };\n        Dictionary.prototype.forEach = function (callback) {\n            var name = undefined;\n            for (name in this.table) {\n                if (Collection.has(this.table, name)) {\n                    if (this.table[name] == undefined) {\n                        continue;\n                    }\n                    var pair = this.table[name];\n                    var ret = callback(pair.key, pair.value);\n                    if (ret === false) {\n                        return;\n                    }\n                }\n            }\n        };\n        Dictionary.prototype.containsKey = function (key) {\n            return !Collection.isUndefined(this.getValue(key));\n        };\n        Dictionary.prototype.clear = function () {\n            this.table = {};\n            this.nElements = 0;\n        };\n        Dictionary.prototype.size = function () {\n            return this.nElements;\n        };\n        Dictionary.prototype.isEmpty = function () {\n            return this.nElements <= 0;\n        };\n        Dictionary.prototype.toString = function () {\n            var toret = '{';\n            this.forEach(function (k, v) {\n                toret += \"\\n\\t\" + k + \" : \" + v;\n            });\n            return toret + '\\n}';\n        };\n        return Dictionary;\n    }());\n    Collection.Dictionary = Dictionary;\n})(Collection || (Collection = {}));\nvar Collection;\n(function (Collection) {\n    var LinkedDictionaryPair = (function () {\n        function LinkedDictionaryPair(key, value) {\n            this.key = key;\n            this.value = value;\n        }\n        LinkedDictionaryPair.prototype.unlink = function () {\n            this.prev.next = this.next;\n            this.next.prev = this.prev;\n        };\n        return LinkedDictionaryPair;\n    }());\n    var HeadOrTailLinkedDictionaryPair = (function () {\n        function HeadOrTailLinkedDictionaryPair() {\n            this.key = null;\n            this.value = null;\n        }\n        HeadOrTailLinkedDictionaryPair.prototype.unlink = function () {\n            this.prev.next = this.next;\n            this.next.prev = this.prev;\n        };\n        return HeadOrTailLinkedDictionaryPair;\n    }());\n    function isHeadOrTailLinkedDictionaryPair(p) {\n        return p.next === null;\n    }\n    var LinkedDictionary = (function (_super) {\n        __extends(LinkedDictionary, _super);\n        function LinkedDictionary(toStrFunction) {\n            var _this = _super.call(this, toStrFunction) || this;\n            _this.head = new HeadOrTailLinkedDictionaryPair();\n            _this.tail = new HeadOrTailLinkedDictionaryPair();\n            _this.head.next = _this.tail;\n            _this.tail.prev = _this.head;\n            return _this;\n        }\n        LinkedDictionary.prototype.appendToTail = function (entry) {\n            var lastNode = this.tail.prev;\n            lastNode.next = entry;\n            entry.prev = lastNode;\n            entry.next = this.tail;\n            this.tail.prev = entry;\n        };\n        LinkedDictionary.prototype.getLinkedDictionaryPair = function (key) {\n            if (Collection.isUndefined(key)) {\n                return undefined;\n            }\n            var k = '$' + this.toStr(key);\n            var pair = (this.table[k]);\n            return pair;\n        };\n        LinkedDictionary.prototype.getValue = function (key) {\n            var pair = this.getLinkedDictionaryPair(key);\n            if (!Collection.isUndefined(pair)) {\n                return pair.value;\n            }\n            return undefined;\n        };\n        LinkedDictionary.prototype.remove = function (key) {\n            var pair = this.getLinkedDictionaryPair(key);\n            if (!Collection.isUndefined(pair)) {\n                _super.prototype.remove.call(this, key);\n                pair.unlink();\n                return pair.value;\n            }\n            return undefined;\n        };\n        LinkedDictionary.prototype.clear = function () {\n            _super.prototype.clear.call(this);\n            this.head.next = this.tail;\n            this.tail.prev = this.head;\n        };\n        LinkedDictionary.prototype.replace = function (oldPair, newPair) {\n            var k = '$' + this.toStr(newPair.key);\n            newPair.next = oldPair.next;\n            newPair.prev = oldPair.prev;\n            this.remove(oldPair.key);\n            newPair.prev.next = newPair;\n            newPair.next.prev = newPair;\n            this.table[k] = newPair;\n            ++this.nElements;\n        };\n        LinkedDictionary.prototype.setValue = function (key, value) {\n            if (Collection.isUndefined(key) || Collection.isUndefined(value)) {\n                return undefined;\n            }\n            var existingPair = this.getLinkedDictionaryPair(key);\n            var newPair = new LinkedDictionaryPair(key, value);\n            var k = '$' + this.toStr(key);\n            if (!Collection.isUndefined(existingPair)) {\n                this.replace(existingPair, newPair);\n                return existingPair.value;\n            }\n            else {\n                this.appendToTail(newPair);\n                this.table[k] = newPair;\n                ++this.nElements;\n                return undefined;\n            }\n        };\n        LinkedDictionary.prototype.keys = function () {\n            var array = [];\n            this.forEach(function (key, value) {\n                array.push(key);\n            });\n            return array;\n        };\n        LinkedDictionary.prototype.values = function () {\n            var array = [];\n            this.forEach(function (key, value) {\n                array.push(value);\n            });\n            return array;\n        };\n        LinkedDictionary.prototype.forEach = function (callback) {\n            var crawlNode = this.head.next;\n            while (!isHeadOrTailLinkedDictionaryPair(crawlNode)) {\n                var ret = callback(crawlNode.key, crawlNode.value);\n                if (ret === false) {\n                    return;\n                }\n                crawlNode = crawlNode.next;\n            }\n        };\n        return LinkedDictionary;\n    }(Collection.Dictionary));\n    Collection.LinkedDictionary = LinkedDictionary;\n})(Collection || (Collection = {}));\nvar Collection;\n(function (Collection) {\n    var Entry = (function () {\n        function Entry() {\n            this.prev = null;\n            this.next = null;\n            this.obj = null;\n        }\n        return Entry;\n    }());\n    var List = (function () {\n        function List(toStringFunc) {\n            this._head = new Entry();\n            this._head.prev = this._head;\n            this._head.next = this._head;\n            this._objMap = new Collection.Dictionary(toStringFunc);\n        }\n        List.prototype._insert = function (obj, prev, next) {\n            if (this._objMap.containsKey(obj)) {\n                if (obj == prev.obj || obj == next.obj) {\n                    return;\n                }\n                var oldElem = this._objMap.getValue(obj);\n                this._remove(oldElem);\n            }\n            var elem = new Entry();\n            elem.obj = obj;\n            this._objMap.setValue(obj, elem);\n            elem.prev = prev;\n            elem.next = next;\n            next.prev = elem;\n            prev.next = elem;\n        };\n        List.prototype._remove = function (elem) {\n            elem.next.prev = elem.prev;\n            elem.prev.next = elem.next;\n            this._objMap.remove(elem.obj);\n        };\n        List.prototype.push = function (obj, after) {\n            var entry = null;\n            if (after) {\n                entry = this._objMap.getValue(after);\n            }\n            if (!entry) {\n                entry = this._head.prev;\n            }\n            this._insert(obj, entry, entry.next);\n        };\n        List.prototype.pushFront = function (obj, before) {\n            var entry = null;\n            if (before) {\n                entry = this._objMap.getValue(before);\n            }\n            if (!entry) {\n                entry = this._head.next;\n            }\n            this._insert(obj, entry.prev, entry);\n        };\n        List.prototype.isEmpty = function () {\n            return this._head.next == this._head || this._head.prev == this._head;\n        };\n        List.prototype.getFront = function () {\n            if (this.isEmpty()) {\n                return null;\n            }\n            return this._head.next.obj;\n        };\n        List.prototype.popFront = function () {\n            if (this.isEmpty()) {\n                return null;\n            }\n            var elem = this._head.next;\n            this._remove(elem);\n            return elem.obj;\n        };\n        List.prototype.getBack = function () {\n            if (this.isEmpty()) {\n                return null;\n            }\n            return this._head.prev.obj;\n        };\n        List.prototype.popBack = function () {\n            if (this.isEmpty()) {\n                return null;\n            }\n            var elem = this._head.prev;\n            this._remove(elem);\n            return elem.obj;\n        };\n        List.prototype.getNext = function (obj) {\n            var elem = this._objMap.getValue(obj);\n            return elem.next.obj;\n        };\n        List.prototype.getPrev = function (obj) {\n            var elem = this._objMap.getValue(obj);\n            return elem.prev.obj;\n        };\n        List.prototype.reverse = function () {\n            for (var entry = this._head.next; entry != this._head;) {\n                var n = entry.next;\n                entry.next = entry.prev;\n                entry.prev = n;\n                entry = n;\n            }\n            var headNext = this._head.next;\n            var headPrev = this._head.prev;\n            this._head.next = headPrev;\n            this._head.prev = headNext;\n        };\n        List.prototype.remove = function (obj) {\n            var elem = this._objMap.getValue(obj);\n            if (elem) {\n                this._remove(elem);\n            }\n        };\n        List.prototype.forEach = function (func, reverse) {\n            if (reverse === void 0) { reverse = false; }\n            if (reverse) {\n                for (var entry = this._head.prev; entry != this._head; entry = entry.prev) {\n                    func(entry.obj);\n                }\n            }\n            else {\n                for (var entry = this._head.next; entry != this._head; entry = entry.next) {\n                    func(entry.obj);\n                }\n            }\n        };\n        Object.defineProperty(List.prototype, \"length\", {\n            get: function () {\n                return this._objMap.keys().length;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        List.prototype.clear = function () {\n            this._head.next = this._head;\n            this._head.prev = this._head;\n            this._objMap.clear();\n        };\n        return List;\n    }());\n    Collection.List = List;\n})(Collection || (Collection = {}));\nvar Collection;\n(function (Collection) {\n    var LruCache = (function () {\n        function LruCache(size, toStringFunc, onDestroyFunc) {\n            this._size = 0;\n            this._maxSize = 1;\n            this._keyToObj = {};\n            this._maxSize = size;\n            this._toStr = toStringFunc;\n            this._onDestroy = onDestroyFunc;\n            this._lruList = new Collection.List(toStringFunc);\n        }\n        LruCache.prototype.get = function (k) {\n            return this._keyToObj[k];\n        };\n        LruCache.prototype.use = function (obj) {\n            this._lruList.pushFront(obj);\n            var key = this._toStr(obj);\n            if (!this._keyToObj[key]) {\n                this._keyToObj[key] = obj;\n                this._size++;\n                if (this._size > this._maxSize) {\n                    this._tidy(this._size - this._maxSize);\n                }\n            }\n        };\n        LruCache.prototype._tidy = function (cnt) {\n            for (var i = 0; i < cnt; ++i) {\n                var obj = this._lruList.popBack();\n                if (obj) {\n                    this._onDestroy(obj);\n                    delete this._keyToObj[this._toStr(obj)];\n                    this._size--;\n                }\n            }\n        };\n        LruCache.prototype.clear = function (destroy) {\n            var _this = this;\n            if (destroy === void 0) { destroy = false; }\n            this._size = 0;\n            this._keyToObj = {};\n            if (destroy) {\n                this._lruList.forEach(function (obj) {\n                    _this._onDestroy(obj);\n                });\n            }\n            this._lruList.clear();\n        };\n        return LruCache;\n    }());\n    Collection.LruCache = LruCache;\n})(Collection || (Collection = {}));\nvar Collection;\n(function (Collection) {\n    var MultiDictionary = (function () {\n        function MultiDictionary(toStrFunction, valuesEqualsFunction, allowDuplicateValues) {\n            if (allowDuplicateValues === void 0) { allowDuplicateValues = false; }\n            this.dict = new Collection.Dictionary(toStrFunction);\n            this.equalsF = valuesEqualsFunction || Collection.defaultEquals;\n            this.allowDuplicate = allowDuplicateValues;\n        }\n        MultiDictionary.prototype.getValue = function (key) {\n            var values = this.dict.getValue(key);\n            if (Collection.isUndefined(values)) {\n                return [];\n            }\n            return Collection.copy(values);\n        };\n        MultiDictionary.prototype.setValue = function (key, value) {\n            if (Collection.isUndefined(key) || Collection.isUndefined(value)) {\n                return false;\n            }\n            var array = this.dict.getValue(key);\n            if (Collection.isUndefined(array)) {\n                this.dict.setValue(key, [value]);\n                return true;\n            }\n            if (!this.allowDuplicate) {\n                if (Collection.contains(array, value, this.equalsF)) {\n                    return false;\n                }\n            }\n            array.push(value);\n            return true;\n        };\n        MultiDictionary.prototype.remove = function (key, value) {\n            if (Collection.isUndefined(value)) {\n                var v = this.dict.remove(key);\n                return !Collection.isUndefined(v);\n            }\n            var array = this.dict.getValue(key);\n            if (!Collection.isUndefined(array) && Collection.remove(array, value, this.equalsF)) {\n                if (array.length === 0) {\n                    this.dict.remove(key);\n                }\n                return true;\n            }\n            return false;\n        };\n        MultiDictionary.prototype.keys = function () {\n            return this.dict.keys();\n        };\n        MultiDictionary.prototype.values = function () {\n            var values = this.dict.values();\n            var array = [];\n            for (var _i = 0, values_1 = values; _i < values_1.length; _i++) {\n                var v = values_1[_i];\n                for (var _a = 0, v_1 = v; _a < v_1.length; _a++) {\n                    var w = v_1[_a];\n                    array.push(w);\n                }\n            }\n            return array;\n        };\n        MultiDictionary.prototype.containsKey = function (key) {\n            return this.dict.containsKey(key);\n        };\n        MultiDictionary.prototype.clear = function () {\n            this.dict.clear();\n        };\n        MultiDictionary.prototype.size = function () {\n            return this.dict.size();\n        };\n        MultiDictionary.prototype.isEmpty = function () {\n            return this.dict.isEmpty();\n        };\n        return MultiDictionary;\n    }());\n    Collection.MultiDictionary = MultiDictionary;\n})(Collection || (Collection = {}));\nvar Collection;\n(function (Collection) {\n    var Queue = (function () {\n        function Queue() {\n            this.items = null;\n            this.items = new Array();\n        }\n        Queue.prototype.enqueue = function (data) {\n            this.items.push(data);\n        };\n        Queue.prototype.dequeue = function () {\n            return this.items.shift();\n        };\n        Queue.prototype.head = function () {\n            return this.items[0];\n        };\n        Queue.prototype.size = function () {\n            return this.items.length;\n        };\n        Queue.prototype.clear = function () {\n            this.items = new Array();\n        };\n        Queue.prototype.isEmpty = function () {\n            return this.items.length === 0;\n        };\n        Queue.prototype.tail = function () {\n            return this.items[this.items.length - 1];\n        };\n        Queue.prototype.toArray = function () {\n            return this.items;\n        };\n        return Queue;\n    }());\n    Collection.Queue = Queue;\n})(Collection || (Collection = {}));\nvar Collection;\n(function (Collection) {\n    var Set = (function () {\n        function Set(toStringFunction) {\n            this.dictionary = new Collection.Dictionary(toStringFunction);\n        }\n        Set.prototype.contains = function (element) {\n            return this.dictionary.containsKey(element);\n        };\n        Set.prototype.add = function (element) {\n            if (this.contains(element) || Collection.isUndefined(element)) {\n                return false;\n            }\n            else {\n                this.dictionary.setValue(element, element);\n                return true;\n            }\n        };\n        Set.prototype.intersection = function (otherSet) {\n            var set = this;\n            this.forEach(function (element) {\n                if (!otherSet.contains(element)) {\n                    set.remove(element);\n                }\n                return true;\n            });\n        };\n        Set.prototype.union = function (otherSet) {\n            var set = this;\n            otherSet.forEach(function (element) {\n                set.add(element);\n                return true;\n            });\n        };\n        Set.prototype.difference = function (otherSet) {\n            var set = this;\n            otherSet.forEach(function (element) {\n                set.remove(element);\n                return true;\n            });\n        };\n        Set.prototype.isSubsetOf = function (otherSet) {\n            if (this.size() > otherSet.size()) {\n                return false;\n            }\n            var isSub = true;\n            this.forEach(function (element) {\n                if (!otherSet.contains(element)) {\n                    isSub = false;\n                    return false;\n                }\n                return true;\n            });\n            return isSub;\n        };\n        Set.prototype.remove = function (element) {\n            if (!this.contains(element)) {\n                return false;\n            }\n            else {\n                this.dictionary.remove(element);\n                return true;\n            }\n        };\n        Set.prototype.forEach = function (callback) {\n            this.dictionary.forEach(function (k, v) {\n                return callback(v);\n            });\n        };\n        Set.prototype.toArray = function () {\n            return this.dictionary.values();\n        };\n        Set.prototype.isEmpty = function () {\n            return this.dictionary.isEmpty();\n        };\n        Set.prototype.size = function () {\n            return this.dictionary.size();\n        };\n        Set.prototype.clear = function () {\n            this.dictionary.clear();\n        };\n        Set.prototype.toString = function () {\n            return Collection.toString(this.toArray());\n        };\n        return Set;\n    }());\n    Collection.Set = Set;\n})(Collection || (Collection = {}));\nvar Core;\n(function (Core) {\n    var Base64 = (function () {\n        function Base64() {\n        }\n        Object.defineProperty(Base64, \"nativeBase64\", {\n            get: function () {\n                return (typeof (window.atob) === \"function\");\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Base64.decode = function (input) {\n            input = input.replace(/[^A-Za-z0-9\\+\\/\\=]/g, \"\");\n            if (this.nativeBase64) {\n                return window.atob(input);\n            }\n            else {\n                var output = [], chr1, chr2, chr3, enc1, enc2, enc3, enc4, i = 0;\n                while (i < input.length) {\n                    enc1 = this._keyStr.indexOf(input.charAt(i++));\n                    enc2 = this._keyStr.indexOf(input.charAt(i++));\n                    enc3 = this._keyStr.indexOf(input.charAt(i++));\n                    enc4 = this._keyStr.indexOf(input.charAt(i++));\n                    chr1 = (enc1 << 2) | (enc2 >> 4);\n                    chr2 = ((enc2 & 15) << 4) | (enc3 >> 2);\n                    chr3 = ((enc3 & 3) << 6) | enc4;\n                    output.push(String.fromCharCode(chr1));\n                    if (enc3 !== 64) {\n                        output.push(String.fromCharCode(chr2));\n                    }\n                    if (enc4 !== 64) {\n                        output.push(String.fromCharCode(chr3));\n                    }\n                }\n                output = output.join(\"\");\n                return output;\n            }\n        };\n        Base64.encode = function (input) {\n            input = input.replace(/\\r\\n/g, \"\\n\");\n            if (this.nativeBase64) {\n                window.btoa(input);\n            }\n            else {\n                var output = [], chr1, chr2, chr3, enc1, enc2, enc3, enc4, i = 0;\n                while (i < input.length) {\n                    chr1 = input.charCodeAt(i++);\n                    chr2 = input.charCodeAt(i++);\n                    chr3 = input.charCodeAt(i++);\n                    enc1 = chr1 >> 2;\n                    enc2 = ((chr1 & 3) << 4) | (chr2 >> 4);\n                    enc3 = ((chr2 & 15) << 2) | (chr3 >> 6);\n                    enc4 = chr3 & 63;\n                    if (isNaN(chr2)) {\n                        enc3 = enc4 = 64;\n                    }\n                    else if (isNaN(chr3)) {\n                        enc4 = 64;\n                    }\n                    output.push(this._keyStr.charAt(enc1));\n                    output.push(this._keyStr.charAt(enc2));\n                    output.push(this._keyStr.charAt(enc3));\n                    output.push(this._keyStr.charAt(enc4));\n                }\n                output = output.join(\"\");\n                return output;\n            }\n        };\n        Base64.decodeBase64AsArray = function (input, bytes) {\n            bytes = bytes || 1;\n            var dec = Base64.decode(input), i, j, len;\n            var ar = new Uint32Array(dec.length / bytes);\n            for (i = 0, len = dec.length / bytes; i < len; i++) {\n                ar[i] = 0;\n                for (j = bytes - 1; j >= 0; --j) {\n                    ar[i] += dec.charCodeAt((i * bytes) + j) << (j << 3);\n                }\n            }\n            return ar;\n        };\n        Base64.decompress = function (data, decoded, compression) {\n            throw new Error(\"GZIP/ZLIB compressed TMX Tile Map not supported!\");\n        };\n        Base64.decodeCSV = function (input) {\n            var entries = input.replace(\"\\n\", \"\").trim().split(\",\");\n            var result = [];\n            for (var i = 0; i < entries.length; i++) {\n                result.push(+entries[i]);\n            }\n            return result;\n        };\n        Base64._keyStr = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\n        return Base64;\n    }());\n    Core.Base64 = Base64;\n})(Core || (Core = {}));\nvar Core;\n(function (Core) {\n    var ColorType;\n    (function (ColorType) {\n        ColorType[\"None\"] = \"\";\n        ColorType[\"Red\"] = \"red\";\n        ColorType[\"Green\"] = \"green\";\n        ColorType[\"Yellow\"] = \"yellow\";\n        ColorType[\"Gray\"] = \"gray\";\n        ColorType[\"Blue\"] = \"blue\";\n        ColorType[\"Black\"] = \"black\";\n        ColorType[\"White\"] = \"white\";\n        ColorType[\"Orange\"] = \"orange\";\n    })(ColorType = Core.ColorType || (Core.ColorType = {}));\n    function str2ColorStrText(type, str) {\n        if (type != \"\") {\n            return \"[color=\" + type + \"]\" + str + \"[/color]\";\n        }\n        return \"\" + str;\n    }\n    Core.str2ColorStrText = str2ColorStrText;\n    function toColor(colorValue) {\n        return cc.color((colorValue >> 16) & 0xFF, (colorValue >> 8) & 0xFF, colorValue & 0xFF);\n    }\n    Core.toColor = toColor;\n    Core.TextColors = {\n        white: toColor(0xFFFFFF),\n        milkWhite: toColor(0xfbf1af),\n        grayWhite: toColor(0xceb6a2),\n        gray: toColor(0x333333),\n        yellow: toColor(0xfcdb00),\n        lightYellow: toColor(0xffd375),\n        orangeYellow: toColor(0xff9900),\n        orange: toColor(0xe08328),\n        red: toColor(0xd33737),\n        green: toColor(0x2fb431),\n        blue: toColor(0x38a5e4),\n        grayBlue: toColor(0x2f5177),\n        purple: toColor(0xf13ad1),\n        pink: toColor(0xFF3030),\n        black: toColor(0x000000),\n        golden: toColor(0xFFD700),\n        brownness: toColor(0x691313)\n    };\n    Core.ColorsCode = {\n        \"g\": 0x2fb431,\n        \"b\": 0x38a5e4,\n        \"p\": 0xf13ad1,\n        \"o\": 0xe08328,\n        \"r\": 0xd33737,\n        \"y\": 0xFF9900,\n        \"m\": 0xffd4a9,\n        \"z\": 0x3b3421,\n        \"B\": 0x000000,\n        \"w\": 0xffffff,\n        \"l\": 0x691313,\n        \"R\": 0x5b2b0e,\n        \"G\": 0x645c4d,\n    };\n    Core.ColorsPrefix = {\n        \"g\": \"2fb431\",\n        \"b\": \"38a5e4\",\n        \"p\": \"f13ad1\",\n        \"o\": \"e08328\",\n        \"r\": \"d33737\",\n        \"y\": \"ff9900\",\n        \"m\": \"ffd4a9\",\n        \"z\": \"3b3421\",\n        \"B\": \"000000\",\n        \"w\": \"ffffff\",\n        \"l\": \"691313\",\n        \"R\": \"5b2b0e\",\n        \"G\": \"645c4d\",\n    };\n})(Core || (Core = {}));\nvar Core;\n(function (Core) {\n    var EventCenter = (function (_super) {\n        __extends(EventCenter, _super);\n        function EventCenter() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        Object.defineProperty(EventCenter, \"inst\", {\n            get: function () {\n                if (!EventCenter._inst) {\n                    EventCenter._inst = new EventCenter();\n                }\n                return EventCenter._inst;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        return EventCenter;\n    }(egret.EventDispatcher));\n    Core.EventCenter = EventCenter;\n    var Event = (function () {\n        function Event() {\n        }\n        Event.CloseViewEvt = \"CloseViewEvt\";\n        Event.OpenViewEvt = \"OpenViewEvt\";\n        Event.OpenEnvChangeView = \"OpenEnvChangeView\";\n        Event.CloseEnvChangeView = \"CloseEnvChangeView\";\n        Event.LoginOnceEv = \"LoginOnceEv\";\n        Event.ReLoginEv = \"ReLoginEv\";\n        Event.AddTreasureEvt = \"AddTreasureEv\";\n        Event.DelTreasureEvt = \"DelTreasureEv\";\n        Event.UpdateTreasureEvt = \"UpdateTreasureEvt\";\n        Event.UpdateDailyTreasureEvt = \"UpdateDailyTreasureEvt\";\n        Event.UpdateADTreasureEvt = \"UpdateADTreasureEvt\";\n        Event.HomeListChangedEvt = \"HomeListChangeEvt\";\n        Event.CardHintNumChangeEv = \"CardHintNumChangeEv\";\n        Event.LevelHintNumChangeEv = \"LevelHintNumChangeEv\";\n        Event.AvatarHintNumChangeEv = \"AvatarHintNumChangeEv\";\n        Event.ReConnectEv = \"ReConnectEv\";\n        return Event;\n    }());\n    Core.Event = Event;\n})(Core || (Core = {}));\nvar Core;\n(function (Core) {\n    function callJS(message) {\n        console.log(\"callJS:\" + message);\n        var data = JSON.parse(message);\n        var msg = data.msg;\n        var items = NativeMsgCenter.inst.getListeners(msg);\n        if (items) {\n            items.forEach(function (item, _) {\n                if (item.callback) {\n                    if (item.thisArg) {\n                        item.callback.apply(item.thisArg, [data.args]);\n                    }\n                    else {\n                        item.callback(data.args);\n                    }\n                    if (item.resolve) {\n                        item.resolve(data.args);\n                    }\n                }\n            });\n        }\n    }\n    Core.callJS = callJS;\n    var NativeMessage = (function () {\n        function NativeMessage() {\n        }\n        NativeMessage.GET_GAME_CONFIG = \"getGameConfig\";\n        NativeMessage.INIT_SDK = \"initSDK\";\n        NativeMessage.INIT_SDK_DONE = \"initSDKDone\";\n        NativeMessage.LOGIN = \"login\";\n        NativeMessage.LOGIN_DONE = \"loginDone\";\n        NativeMessage.REPORT_USER_INFO = \"reportUserInfo\";\n        NativeMessage.LOGOUT = \"logout\";\n        NativeMessage.LOGOUT_DONE = \"logoutDone\";\n        NativeMessage.IS_TOURIST = \"isTourist\";\n        NativeMessage.BIND_ACC = \"bindAcc\";\n        NativeMessage.BIND_ACC_DONE = \"bindAccDone\";\n        NativeMessage.ON_START = \"onStart\";\n        NativeMessage.ON_STOP = \"onStop\";\n        NativeMessage.ON_RESUME = \"onResume\";\n        NativeMessage.ON_PAUSE = \"onPause\";\n        NativeMessage.ON_TICK = \"onTick\";\n        NativeMessage.USE_NATIVE_SOUND = \"useNativeSound\";\n        NativeMessage.PLAY_SOUND = \"playSound\";\n        NativeMessage.STOP_SOUND = \"stopSound\";\n        NativeMessage.PLAY_MUSIC = \"playMusic\";\n        NativeMessage.STOP_MUSIC = \"stopMusic\";\n        NativeMessage.SET_MUSIC_VOLUME = \"setMusicVolume\";\n        NativeMessage.RELEASE_ALL_SOUND = \"releaseAllSound\";\n        NativeMessage.ON_ENTER_GAME = \"onEnterGame\";\n        NativeMessage.ON_CREATE_ROLE = \"onCreateRole\";\n        NativeMessage.ON_LEVEL_UP = \"onLevelUp\";\n        NativeMessage.GET_TD_CHANNEL_ID = \"getTDChannelID\";\n        NativeMessage.START_RECORD = \"startRecord\";\n        NativeMessage.STOP_RECORD = \"stopRecord\";\n        NativeMessage.START_RECORD_COMPLETE = \"startRecordComplete\";\n        NativeMessage.ADS_INIT = \"initAds\";\n        NativeMessage.ADS_SHOW_RWD = \"showRwdAds\";\n        NativeMessage.ADS_FINISH_RWD = \"finishRwdAds\";\n        NativeMessage.ADS_IS_READY = \"adsIsReady\";\n        NativeMessage.ADS_READY = \"adsReady\";\n        NativeMessage.ON_START_MATCH = \"onStartMatch\";\n        NativeMessage.SAVE_TO_PHOTO = \"saveToPhoto\";\n        NativeMessage.SHARE_VIDEO = \"shareVideo\";\n        NativeMessage.SHARE_LINK = \"shareLink\";\n        NativeMessage.SHARE_LINK_COMPLETE = \"shareLinkComplete\";\n        NativeMessage.SHARE_IMAGE = \"shareImage\";\n        NativeMessage.SHARE_IMAGE_COMPLETE = \"shareImageComplete\";\n        NativeMessage.INIT_APPSTORE_PAY = \"initAppstorePay\";\n        NativeMessage.APPSTORE_REQ_PRODUCTS = \"appstoreRequestProducts\";\n        NativeMessage.APPSTORE_GET_PRODUCTS = \"appstoreGetProducts\";\n        NativeMessage.START_PAY = \"startPay\";\n        NativeMessage.FINISH_PAY = \"finishPay\";\n        NativeMessage.SET_SUPPORT_RECORD = \"setSupportRecord\";\n        NativeMessage.OPEN_APP_COMMENT = \"openAppComment\";\n        NativeMessage.ON_SHOW_LOADING = \"onShowLoading\";\n        NativeMessage.SHARE_APP2WECHAT = \"shareApp2Wechat\";\n        NativeMessage.SHARE_BY_PARAM = \"shareByParam\";\n        NativeMessage.SHARE_IMG2WECHAT = \"shareImage2Wechat\";\n        NativeMessage.LOGIN_GAME_CENTER = \"loginGameCenter\";\n        NativeMessage.SCORE_TO_GAME_CENTER = \"scoreToGameCenter\";\n        NativeMessage.SHOW_GAME_CENTER_RANK = \"showGameCenterRank\";\n        NativeMessage.SHOW_GAME_CENTER_ACHIEVE = \"showGameCenterAchievement\";\n        NativeMessage.PLATFORM_ACHIEVE_DONE = \"platformAchieveDone\";\n        NativeMessage.CREATE_NOTIFY = \"createNotify\";\n        NativeMessage.REMOVE_NOTIFY = \"removeNotify\";\n        NativeMessage.SET_LOADING_PERCENT = \"setLoadingPercent\";\n        NativeMessage.GOOGLEPLAY_REQ_PRODUCTS = \"googleplayReqProducts\";\n        NativeMessage.GOOGLEPLAY_GET_PRODUCTS = \"googleplayGetProducts\";\n        NativeMessage.SHARE_MINIPROGRAM2WECHAT = \"shareMiniProgram2Wechat\";\n        NativeMessage.TD_ACCOUNT = \"td_Account\";\n        NativeMessage.TD_ONPAGELEAVE = \"td_onPageLeave\";\n        NativeMessage.TD_ONMISSIONBEGIN = \"td_onMissionBegin\";\n        NativeMessage.TD_ONMISSIONCOMPLETED = \"td_onMissionCompleted\";\n        NativeMessage.TD_ONMISSIONFAILED = \"td_onMissionFailed\";\n        NativeMessage.TD_ONITEMPURCHASE = \"td_onItemPurchase\";\n        NativeMessage.TD_ONITEMUSE = \"td_onItemUse\";\n        NativeMessage.TD_ONEVENT = \"td_onEvent\";\n        NativeMessage.TD_SETLEVEL = \"td_setLevel\";\n        NativeMessage.SDK_STATISTIC = \"sdkStatistic\";\n        NativeMessage.GET_LOCALE = \"getLocale\";\n        NativeMessage.APPSTORE_CHECK_VERSION = \"appStoreCheckVersion\";\n        NativeMessage.OPEN_URL = \"openUrl\";\n        NativeMessage.VIBRATE = \"vibrate\";\n        NativeMessage.PATCH = \"patch\";\n        NativeMessage.PATCH_PROGRESS = \"patchProgress\";\n        NativeMessage.PATCH_UNZIP_PROGRESS = \"patchUnzipProgress\";\n        NativeMessage.PATCH_FINISH = \"patchFinish\";\n        NativeMessage.APK_UPDATE_READY = \"apkUpdateReady\";\n        NativeMessage.APK_UPDATE = \"apkUpdate\";\n        NativeMessage.APK_UPDATE_PROGRESS = \"apkUpdateProgress\";\n        NativeMessage.APK_UPDATE_FINISH = \"apkUpdateFinish\";\n        NativeMessage.PUSH_SILENT_TIME = \"pushSilentTime\";\n        NativeMessage.PUSH_CID = \"pushCid\";\n        NativeMessage.COPY_TO_CLIPBOARD = \"copyToClipboard\";\n        NativeMessage.IOS_ATT_REQ = \"iOSAttReq\";\n        NativeMessage.ANDROID_DELAY_INIT_SDK = \"delayInitSDK\";\n        return NativeMessage;\n    }());\n    Core.NativeMessage = NativeMessage;\n    var ListenerItem = (function () {\n        function ListenerItem() {\n        }\n        return ListenerItem;\n    }());\n    Core.ListenerItem = ListenerItem;\n    var NativeMsgCenter = (function () {\n        function NativeMsgCenter() {\n            this._listeners = new Collection.Dictionary();\n        }\n        Object.defineProperty(NativeMsgCenter, \"inst\", {\n            get: function () {\n                if (!NativeMsgCenter._inst) {\n                    NativeMsgCenter._inst = new NativeMsgCenter();\n                }\n                return NativeMsgCenter._inst;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        NativeMsgCenter.prototype.getListeners = function (msg) {\n            return this._listeners.getValue(msg);\n        };\n        NativeMsgCenter.prototype.addListener = function (name, callback, thisArg) {\n            var item = new ListenerItem();\n            item.callback = callback;\n            item.thisArg = thisArg;\n            item.resolve = null;\n            if (!this._listeners.containsKey(name)) {\n                this._listeners.setValue(name, new Collection.Dictionary());\n            }\n            var items = this._listeners.getValue(name);\n            items.setValue(item, true);\n            return item;\n        };\n        NativeMsgCenter.prototype.removeListener = function (name, callback, thisArg) {\n            var items = this._listeners.getValue(name);\n            if (items) {\n                var dels_1 = Array();\n                items.forEach(function (item, _) {\n                    if (item.callback == callback && item.thisArg == thisArg) {\n                        dels_1.push(item);\n                    }\n                });\n                dels_1.forEach(function (item) {\n                    items.remove(item);\n                });\n            }\n        };\n        NativeMsgCenter.prototype.callNative = function (name, args) {\n            if (args === void 0) { args = {}; }\n            if (!Core.DeviceUtils.isNative()) {\n                return;\n            }\n            var callArgs = {\n                \"msg\": name,\n                \"args\": args\n            };\n            var message = JSON.stringify(callArgs);\n            try {\n                return window[\"GameLogic\"][\"callNative\"](message);\n            }\n            catch (e) {\n                console.error(\"callNative error \", e);\n            }\n        };\n        NativeMsgCenter.prototype._waitMessageCallback = function (arg) {\n        };\n        NativeMsgCenter.prototype.sendAndWaitNativeMessage = function (sendName, waitName, args) {\n            return __awaiter(this, void 0, void 0, function () {\n                var listener, self, ret;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            listener = this.addListener(waitName, this._waitMessageCallback, this);\n                            self = this;\n                            return [4, new Promise(function (resolve) {\n                                    listener.resolve = resolve;\n                                    self.callNative(sendName, args);\n                                })];\n                        case 1:\n                            ret = _a.sent();\n                            this.removeListener(waitName, this._waitMessageCallback, this);\n                            return [2, ret];\n                    }\n                });\n            });\n        };\n        NativeMsgCenter._inst = null;\n        return NativeMsgCenter;\n    }());\n    Core.NativeMsgCenter = NativeMsgCenter;\n})(Core || (Core = {}));\nvar fgui;\n(function (fgui) {\n    fgui.NEW_ENGINE_VERSION = \"2.2.2\";\n    var GObject = (function () {\n        function GObject() {\n            this._x = 0;\n            this._y = 0;\n            this._alpha = 1;\n            this._visible = true;\n            this._originVisible = true;\n            this._touchable = true;\n            this._grayed = false;\n            this._draggable = false;\n            this._skewX = 0;\n            this._skewY = 0;\n            this._pivotAsAnchor = false;\n            this._sortingOrder = 0;\n            this._internalVisible = true;\n            this._handlingController = false;\n            this._pixelSnapping = false;\n            this._dragTesting = false;\n            this.sourceWidth = 0;\n            this.sourceHeight = 0;\n            this.initWidth = 0;\n            this.initHeight = 0;\n            this.minWidth = 0;\n            this.minHeight = 0;\n            this.maxWidth = 0;\n            this.maxHeight = 0;\n            this._width = 0;\n            this._height = 0;\n            this._rawWidth = 0;\n            this._rawHeight = 0;\n            this._sizePercentInGroup = 0;\n            this._touchDisabled = false;\n            this._delayAddFlag = false;\n            this._node = new cc.Node();\n            if (GObject._defaultGroupIndex == -1) {\n                GObject._defaultGroupIndex = 0;\n                var groups = cc.game.groupList;\n                var cnt = groups.length;\n                for (var i = 0; i < cnt; i++) {\n                    if (groups[i].toLowerCase() == fgui.UIConfig.defaultUIGroup.toLowerCase()) {\n                        GObject._defaultGroupIndex = i;\n                        break;\n                    }\n                }\n            }\n            this._node[\"$gobj\"] = this;\n            this._node.groupIndex = GObject._defaultGroupIndex;\n            this._node.setAnchorPoint(0, 1);\n            this._node.on(cc.Node.EventType.ANCHOR_CHANGED, this.handleAnchorChanged, this);\n            this._id = this._node.uuid;\n            this._name = \"\";\n            this._relations = new fgui.Relations(this);\n            this._gears = new Array(10);\n            this._blendMode = fgui.BlendMode.Normal;\n            this._hashIdx = ++GObject._gHashIdx;\n            this.genPartner();\n        }\n        GObject.addTouchEventListener = function (cbFunc, thisObj) {\n            GObject._touchEventListener.push({ callback: cbFunc, obj: thisObj });\n        };\n        GObject.onDispatchEvent = function (event) {\n            console.log(\"fgui.touch eventType\", event);\n            GObject._touchEventListener.forEach(function (listener) {\n                var func = listener.callback;\n                var obj = listener.thisObj;\n                if (event == GObject._lastEvent) {\n                    return;\n                }\n                else {\n                    console.log(\"fgui.touch inner eventType\", event);\n                    func(event, event.touch.getLocation().x, event.touch.getLocation().y);\n                }\n                GObject._lastEvent = event;\n            });\n        };\n        GObject.doDispatchEvent = function (event) {\n            fgui.GRoot.inst._node.dispatchEvent(event);\n        };\n        GObject.prototype.genPartner = function () {\n            this._partner = this._node.addComponent(GObjectPartner);\n        };\n        GObject.prototype.once = function (type, callback, target, useCapture) {\n            this.node.once(type, callback, target, useCapture);\n        };\n        GObject.prototype.dispatchEventWith = function (type, bubble, data) {\n            var event = new cc.Event.EventCustom(type, bubble);\n            event.setUserData(data);\n            this.node.dispatchEvent(event);\n        };\n        Object.defineProperty(GObject.prototype, \"id\", {\n            get: function () {\n                return this._id;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GObject.prototype, \"hashIdx\", {\n            get: function () {\n                return this._hashIdx;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GObject.prototype, \"name\", {\n            get: function () {\n                return this._name;\n            },\n            set: function (value) {\n                this._name = value;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GObject.prototype, \"x\", {\n            get: function () {\n                return this._x;\n            },\n            set: function (value) {\n                this.setPosition(value, this._y);\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GObject.prototype, \"y\", {\n            get: function () {\n                return this._y;\n            },\n            set: function (value) {\n                this.setPosition(this._x, value);\n            },\n            enumerable: false,\n            configurable: true\n        });\n        GObject.prototype.setPosition = function (xv, yv) {\n            if (this._x != xv || this._y != yv) {\n                var dx = xv - this._x;\n                var dy = yv - this._y;\n                this._x = xv;\n                this._y = yv;\n                this.handlePositionChanged();\n                if (this instanceof fgui.GGroup)\n                    this.moveChildren(dx, dy);\n                this.updateGear(1);\n                if (this._parent && !(this._parent instanceof fgui.GList)) {\n                    this._parent.setBoundsChangedFlag();\n                    if (this._group != null)\n                        this._group.setBoundsChangedFlag(true);\n                    this._node.emit(fgui.Event.XY_CHANGED, this);\n                }\n                if (GObject.draggingObject == this && !GObject.sUpdateInDragging)\n                    this.localToGlobalRect(0, 0, this._width, this._height, GObject.sGlobalRect);\n            }\n        };\n        Object.defineProperty(GObject.prototype, \"xMin\", {\n            get: function () {\n                return this._pivotAsAnchor ? (this._x - this._width * this.node.anchorX) : this._x;\n            },\n            set: function (value) {\n                if (this._pivotAsAnchor)\n                    this.setPosition(value + this._width * this.node.anchorX, this._y);\n                else\n                    this.setPosition(value, this._y);\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GObject.prototype, \"yMin\", {\n            get: function () {\n                return this._pivotAsAnchor ? (this._y - this._height * (1 - this.node.anchorY)) : this._y;\n            },\n            set: function (value) {\n                if (this._pivotAsAnchor)\n                    this.setPosition(this._x, value + this._height * (1 - this.node.anchorY));\n                else\n                    this.setPosition(this._x, value);\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GObject.prototype, \"pixelSnapping\", {\n            get: function () {\n                return this._pixelSnapping;\n            },\n            set: function (value) {\n                if (this._pixelSnapping != value) {\n                    this._pixelSnapping = value;\n                    this.handlePositionChanged();\n                }\n            },\n            enumerable: false,\n            configurable: true\n        });\n        GObject.prototype.center = function (restraint) {\n            var r;\n            if (this._parent != null)\n                r = this.parent;\n            else\n                r = this.root;\n            this.setPosition((r.width - this._width) / 2, (r.height - this._height) / 2);\n            if (restraint) {\n                this.addRelation(r, fgui.RelationType.Center_Center);\n                this.addRelation(r, fgui.RelationType.Middle_Middle);\n            }\n        };\n        Object.defineProperty(GObject.prototype, \"width\", {\n            get: function () {\n                this.ensureSizeCorrect();\n                if (this._relations.sizeDirty)\n                    this._relations.ensureRelationsSizeCorrect();\n                return this._width;\n            },\n            set: function (value) {\n                this.setSize(value, this._rawHeight);\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GObject.prototype, \"height\", {\n            get: function () {\n                this.ensureSizeCorrect();\n                if (this._relations.sizeDirty)\n                    this._relations.ensureRelationsSizeCorrect();\n                return this._height;\n            },\n            set: function (value) {\n                this.setSize(this._rawWidth, value);\n            },\n            enumerable: false,\n            configurable: true\n        });\n        GObject.prototype.setSize = function (wv, hv, ignorePivot) {\n            if (this._rawWidth != wv || this._rawHeight != hv) {\n                this._rawWidth = wv;\n                this._rawHeight = hv;\n                if (wv < this.minWidth)\n                    wv = this.minWidth;\n                if (hv < this.minHeight)\n                    hv = this.minHeight;\n                if (this.maxWidth > 0 && wv > this.maxWidth)\n                    wv = this.maxWidth;\n                if (this.maxHeight > 0 && hv > this.maxHeight)\n                    hv = this.maxHeight;\n                var dWidth = wv - this._width;\n                var dHeight = hv - this._height;\n                this._width = wv;\n                this._height = hv;\n                this.handleSizeChanged();\n                if ((this.node.anchorX != 0 || this.node.anchorY != 1) && !this._pivotAsAnchor && !ignorePivot)\n                    this.setPosition(this.x - this.node.anchorX * dWidth, this.y - (1 - this.node.anchorY) * dHeight);\n                else\n                    this.handlePositionChanged();\n                if (this instanceof fgui.GGroup)\n                    this.resizeChildren(dWidth, dHeight);\n                this.updateGear(2);\n                if (this._parent) {\n                    this._relations.onOwnerSizeChanged(dWidth, dHeight, this._pivotAsAnchor || !ignorePivot);\n                    this._parent.setBoundsChangedFlag();\n                    if (this._group != null)\n                        this._group.setBoundsChangedFlag();\n                }\n                this._node.emit(fgui.Event.SIZE_CHANGED, this);\n            }\n        };\n        GObject.prototype.makeFullScreen = function () {\n            this.setSize(fgui.GRoot.inst.width, fgui.GRoot.inst.height);\n        };\n        GObject.prototype.ensureSizeCorrect = function () {\n        };\n        Object.defineProperty(GObject.prototype, \"actualWidth\", {\n            get: function () {\n                return this.width * Math.abs(this._node.scaleX);\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GObject.prototype, \"actualHeight\", {\n            get: function () {\n                return this.height * Math.abs(this._node.scaleY);\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GObject.prototype, \"scaleX\", {\n            get: function () {\n                return this._node.scaleX;\n            },\n            set: function (value) {\n                this.setScale(value, this._node.scaleY);\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GObject.prototype, \"scaleY\", {\n            get: function () {\n                return this._node.scaleY;\n            },\n            set: function (value) {\n                this.setScale(this._node.scaleX, value);\n            },\n            enumerable: false,\n            configurable: true\n        });\n        GObject.prototype.setScale = function (sx, sy) {\n            if (this._node.scaleX != sx || this._node.scaleY != sy) {\n                this._node.setScale(sx, sy);\n                this.updateGear(2);\n            }\n        };\n        Object.defineProperty(GObject.prototype, \"skewX\", {\n            get: function () {\n                return this._skewX;\n            },\n            set: function (value) {\n                this.setSkew(value, this._skewY);\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GObject.prototype, \"skewY\", {\n            get: function () {\n                return this._skewY;\n            },\n            set: function (value) {\n                this.setSkew(this._skewX, value);\n            },\n            enumerable: false,\n            configurable: true\n        });\n        GObject.prototype.setSkew = function (xv, yv) {\n            if (this._skewX != xv || this._skewY != yv) {\n                this._skewX = xv;\n                this._skewY = yv;\n                this._node.skewX = xv;\n                this._node.skewY = yv;\n            }\n        };\n        Object.defineProperty(GObject.prototype, \"pivotX\", {\n            get: function () {\n                return this.node.anchorX;\n            },\n            set: function (value) {\n                this.node.anchorX = value;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GObject.prototype, \"pivotY\", {\n            get: function () {\n                return 1 - this.node.anchorY;\n            },\n            set: function (value) {\n                this.node.anchorY = 1 - value;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        GObject.prototype.setPivot = function (xv, yv, asAnchor) {\n            if (this.node.anchorX != xv || this.node.anchorY != 1 - yv) {\n                this._pivotAsAnchor = asAnchor;\n                this.node.setAnchorPoint(xv, 1 - yv);\n            }\n            else if (this._pivotAsAnchor != asAnchor) {\n                this._pivotAsAnchor = asAnchor;\n                this.handlePositionChanged();\n            }\n        };\n        Object.defineProperty(GObject.prototype, \"pivotAsAnchor\", {\n            get: function () {\n                return this._pivotAsAnchor;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GObject.prototype, \"touchable\", {\n            get: function () {\n                return this._touchable;\n            },\n            set: function (value) {\n                if (this._touchable != value) {\n                    this._touchable = value;\n                    this.updateGear(3);\n                }\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GObject.prototype, \"grayed\", {\n            get: function () {\n                return this._grayed;\n            },\n            set: function (value) {\n                if (this._grayed != value) {\n                    this._grayed = value;\n                    this.handleGrayedChanged();\n                    this.updateGear(3);\n                }\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GObject.prototype, \"enabled\", {\n            get: function () {\n                return !this._grayed && this._touchable;\n            },\n            set: function (value) {\n                this.grayed = !value;\n                this.touchable = value;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GObject.prototype, \"rotation\", {\n            get: function () {\n                return -this._node.angle;\n            },\n            set: function (value) {\n                value = -value;\n                if (this._node.angle != value) {\n                    this._node.angle = value;\n                    this.updateGear(3);\n                }\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GObject.prototype, \"alpha\", {\n            get: function () {\n                return this._alpha;\n            },\n            set: function (value) {\n                if (this._alpha != value) {\n                    this._alpha = value;\n                    this._node.opacity = this._alpha * 255;\n                    if (this instanceof fgui.GGroup)\n                        this.handleAlphaChanged();\n                    this.updateGear(3);\n                }\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GObject.prototype, \"visible\", {\n            get: function () {\n                return this._visible;\n            },\n            set: function (value) {\n                if (this._visible != value) {\n                    this._visible = value;\n                    this._originVisible = value;\n                    this.handleVisibleChanged();\n                    if (this._group && this._group.excludeInvisibles)\n                        this._group.setBoundsChangedFlag();\n                }\n            },\n            enumerable: false,\n            configurable: true\n        });\n        GObject.prototype.saveAndSetVisible = function (value) {\n            this._originVisible = this._visible;\n            if (this._visible != value) {\n                this._visible = value;\n                this.handleVisibleChanged();\n                if (this._group && this._group.excludeInvisibles)\n                    this._group.setBoundsChangedFlag();\n            }\n        };\n        GObject.prototype.recoverVisible = function () {\n            this.visible = this._originVisible;\n        };\n        Object.defineProperty(GObject.prototype, \"_finalVisible\", {\n            get: function () {\n                return this._visible && this._internalVisible && (!this._group || this._group._finalVisible);\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GObject.prototype, \"internalVisible3\", {\n            get: function () {\n                return this._visible && this._internalVisible;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GObject.prototype, \"sortingOrder\", {\n            get: function () {\n                return this._sortingOrder;\n            },\n            set: function (value) {\n                if (value < 0)\n                    value = 0;\n                if (this._sortingOrder != value) {\n                    var old = this._sortingOrder;\n                    this._sortingOrder = value;\n                    if (this._parent != null)\n                        this._parent.childSortingOrderChanged(this, old, this._sortingOrder);\n                }\n            },\n            enumerable: false,\n            configurable: true\n        });\n        GObject.prototype.requestFocus = function () {\n        };\n        Object.defineProperty(GObject.prototype, \"tooltips\", {\n            get: function () {\n                return this._tooltips;\n            },\n            set: function (value) {\n                if (this._tooltips) {\n                    this._node.off(fgui.Event.ROLL_OVER, this.onRollOver, this);\n                    this._node.off(fgui.Event.ROLL_OUT, this.onRollOut, this);\n                }\n                this._tooltips = value;\n                if (this._tooltips) {\n                    this._node.on(fgui.Event.ROLL_OVER, this.onRollOver, this);\n                    this._node.on(fgui.Event.ROLL_OUT, this.onRollOut, this);\n                }\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GObject.prototype, \"blendMode\", {\n            get: function () {\n                return this._blendMode;\n            },\n            set: function (value) {\n                if (this._blendMode != value) {\n                    this._blendMode = value;\n                    fgui.BlendModeUtils.apply(this._node, value);\n                }\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GObject.prototype, \"onStage\", {\n            get: function () {\n                return this._node.activeInHierarchy;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GObject.prototype, \"resourceURL\", {\n            get: function () {\n                if (this.packageItem != null)\n                    return \"ui://\" + this.packageItem.owner.id + this.packageItem.id;\n                else\n                    return null;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GObject.prototype, \"group\", {\n            get: function () {\n                return this._group;\n            },\n            set: function (value) {\n                if (this._group != value) {\n                    if (this._group != null)\n                        this._group.setBoundsChangedFlag();\n                    this._group = value;\n                    if (this._group != null)\n                        this._group.setBoundsChangedFlag();\n                }\n            },\n            enumerable: false,\n            configurable: true\n        });\n        GObject.prototype.getGear = function (index) {\n            var gear = this._gears[index];\n            if (gear == null)\n                this._gears[index] = gear = fgui.GearBase.create(this, index);\n            return gear;\n        };\n        GObject.prototype.updateGear = function (index) {\n            if (this._underConstruct || this._gearLocked)\n                return;\n            var gear = this._gears[index];\n            if (gear != null && gear.controller != null)\n                gear.updateState();\n        };\n        GObject.prototype.checkGearController = function (index, c) {\n            return this._gears[index] != null && this._gears[index].controller == c;\n        };\n        GObject.prototype.updateGearFromRelations = function (index, dx, dy) {\n            if (this._gears[index] != null)\n                this._gears[index].updateFromRelations(dx, dy);\n        };\n        GObject.prototype.addDisplayLock = function () {\n            var gearDisplay = this._gears[0];\n            if (gearDisplay && gearDisplay.controller) {\n                var ret = gearDisplay.addLock();\n                this.checkGearDisplay();\n                return ret;\n            }\n            else\n                return 0;\n        };\n        GObject.prototype.releaseDisplayLock = function (token) {\n            var gearDisplay = this._gears[0];\n            if (gearDisplay && gearDisplay.controller) {\n                gearDisplay.releaseLock(token);\n                this.checkGearDisplay();\n            }\n        };\n        GObject.prototype.applyGearDisplay = function (connected) {\n            if (connected != this._internalVisible) {\n                this._internalVisible = connected;\n                this.handleVisibleChanged();\n                if (this._group && this._group.excludeInvisibles)\n                    this._group.setBoundsChangedFlag();\n            }\n        };\n        GObject.prototype.checkGearDisplay = function () {\n            if (this._handlingController)\n                return;\n            var connected = this._gears[0] == null || this._gears[0].connected;\n            if (this._gears[8])\n                connected = this._gears[8].evaluate(connected);\n            this.applyGearDisplay(connected);\n        };\n        Object.defineProperty(GObject.prototype, \"gearXY\", {\n            get: function () {\n                return this.getGear(1);\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GObject.prototype, \"gearSize\", {\n            get: function () {\n                return this.getGear(2);\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GObject.prototype, \"gearLook\", {\n            get: function () {\n                return this.getGear(3);\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GObject.prototype, \"relations\", {\n            get: function () {\n                return this._relations;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        GObject.prototype.addRelation = function (target, relationType, usePercent) {\n            this._relations.add(target, relationType, usePercent);\n        };\n        GObject.prototype.removeRelation = function (target, relationType) {\n            this._relations.remove(target, relationType);\n        };\n        Object.defineProperty(GObject.prototype, \"node\", {\n            get: function () {\n                return this._node;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GObject.prototype, \"parent\", {\n            get: function () {\n                return this._parent;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        GObject.prototype.removeFromParent = function () {\n            if (this._parent)\n                this._parent.removeChild(this);\n        };\n        GObject.prototype.findParent = function () {\n            if (this._parent)\n                return this._parent;\n            var pn = this._node.parent;\n            while (pn) {\n                var gobj = pn[\"$gobj\"];\n                if (gobj)\n                    return gobj;\n                pn = pn.parent;\n            }\n            return null;\n        };\n        Object.defineProperty(GObject.prototype, \"root\", {\n            get: function () {\n                if (this instanceof fgui.GRoot)\n                    return this;\n                var p = this._parent;\n                while (p) {\n                    if (p instanceof fgui.GRoot)\n                        return p;\n                    p = p.parent;\n                }\n                return fgui.GRoot.inst;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GObject.prototype, \"asCom\", {\n            get: function () {\n                return this;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GObject.prototype, \"asButton\", {\n            get: function () {\n                return this;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GObject.prototype, \"asLabel\", {\n            get: function () {\n                return this;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GObject.prototype, \"asProgress\", {\n            get: function () {\n                return this;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GObject.prototype, \"asTextField\", {\n            get: function () {\n                return this;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GObject.prototype, \"asRichTextField\", {\n            get: function () {\n                return this;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GObject.prototype, \"asTextInput\", {\n            get: function () {\n                return this;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GObject.prototype, \"asLoader\", {\n            get: function () {\n                return this;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GObject.prototype, \"asList\", {\n            get: function () {\n                return this;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GObject.prototype, \"asTree\", {\n            get: function () {\n                return this;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GObject.prototype, \"asGraph\", {\n            get: function () {\n                return this;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GObject.prototype, \"asGroup\", {\n            get: function () {\n                return this;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GObject.prototype, \"asSlider\", {\n            get: function () {\n                return this;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GObject.prototype, \"asComboBox\", {\n            get: function () {\n                return this;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GObject.prototype, \"asImage\", {\n            get: function () {\n                return this;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GObject.prototype, \"asMovieClip\", {\n            get: function () {\n                return this;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        GObject.cast = function (obj) {\n            return obj[\"$gobj\"];\n        };\n        Object.defineProperty(GObject.prototype, \"text\", {\n            get: function () {\n                return null;\n            },\n            set: function (value) {\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GObject.prototype, \"icon\", {\n            get: function () {\n                return null;\n            },\n            set: function (value) {\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GObject.prototype, \"treeNode\", {\n            get: function () {\n                return this._treeNode;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        GObject.prototype.dispose = function () {\n            var n = this._node;\n            if (!n)\n                return;\n            this.removeFromParent();\n            this._relations.dispose();\n            this._node = null;\n            n.destroy();\n            for (var i = 0; i < 10; i++) {\n                var gear = this._gears[i];\n                if (gear != null)\n                    gear.dispose();\n            }\n        };\n        GObject.prototype.onEnable = function () {\n        };\n        GObject.prototype.onDisable = function () {\n        };\n        GObject.prototype.onUpdate = function () {\n        };\n        GObject.prototype.onDestroy = function () {\n        };\n        GObject.prototype.onClick = function (listener, target) {\n            this._node.on(fgui.Event.CLICK, listener, target);\n        };\n        GObject.prototype.offClick = function (listener, target) {\n            this._node.off(fgui.Event.CLICK, listener, target);\n        };\n        GObject.prototype.hasClickListener = function () {\n            return this._node.hasEventListener(fgui.Event.CLICK);\n        };\n        GObject.prototype.on = function (type, listener, target) {\n            if (type == fgui.Event.DISPLAY || type == fgui.Event.UNDISPLAY)\n                this._partner._emitDisplayEvents = true;\n            this._node.on(type, listener, target);\n        };\n        GObject.prototype.off = function (type, listener, target) {\n            this._node.off(type, listener, target);\n        };\n        Object.defineProperty(GObject.prototype, \"draggable\", {\n            get: function () {\n                return this._draggable;\n            },\n            set: function (value) {\n                if (this._draggable != value) {\n                    this._draggable = value;\n                    this.initDrag();\n                }\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GObject.prototype, \"dragBounds\", {\n            get: function () {\n                return this._dragBounds;\n            },\n            set: function (value) {\n                this._dragBounds = value;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        GObject.prototype.startDrag = function (touchId) {\n            if (!this._node.activeInHierarchy)\n                return;\n            this.dragBegin(touchId);\n        };\n        GObject.prototype.stopDrag = function () {\n            this.dragEnd();\n        };\n        Object.defineProperty(GObject.prototype, \"dragging\", {\n            get: function () {\n                return GObject.draggingObject == this;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        GObject.prototype.localToGlobal = function (ax, ay, resultPoint) {\n            if (ax == undefined)\n                ax = 0;\n            if (ay == undefined)\n                ay = 0;\n            var pt = resultPoint || new cc.Vec2();\n            pt.x = ax;\n            pt.y = ay;\n            pt.y = -pt.y;\n            pt.x -= this.node.anchorX * this._width;\n            pt.y += (1 - this.node.anchorY) * this._height;\n            var v3 = this._node.convertToWorldSpaceAR(pt);\n            pt.x = v3.x;\n            pt.y = fgui.GRoot.inst.height * fgui.GRoot.contentScaleFactor - v3.y;\n            return pt;\n        };\n        GObject.prototype.globalToLocal = function (ax, ay, resultPoint) {\n            if (ax == undefined)\n                ax = 0;\n            if (ay == undefined)\n                ay = 0;\n            var pt = resultPoint || new cc.Vec2();\n            pt.x = ax;\n            pt.y = fgui.GRoot.inst.height * fgui.GRoot.contentScaleFactor - ay;\n            var v3 = this._node.convertToNodeSpaceAR(pt);\n            pt.x = v3.x;\n            pt.y = v3.y;\n            pt.x -= this._node.anchorX * this._width;\n            pt.y += (1 - this._node.anchorY) * this._height;\n            pt.y = -pt.y;\n            return pt;\n        };\n        GObject.prototype.localToRoot = function (ax, ay, resultPoint) {\n            var pt = this.localToGlobal(ax, ay, resultPoint);\n            pt.x /= fgui.GRoot.contentScaleFactor;\n            pt.y /= fgui.GRoot.contentScaleFactor;\n            pt.x -= (fgui.GRoot.inst.x / fgui.GRoot.contentScaleFactor);\n            pt.y -= fgui.GRoot.inst.y;\n            return pt;\n        };\n        GObject.prototype.rootToLocal = function (ax, ay, resultPoint) {\n            ax += (fgui.GRoot.inst.x / fgui.GRoot.contentScaleFactor);\n            ay += fgui.GRoot.inst.y;\n            ax *= fgui.GRoot.contentScaleFactor;\n            ay *= fgui.GRoot.contentScaleFactor;\n            var pt = this.globalToLocal(ax, ay, resultPoint);\n            return pt;\n        };\n        GObject.prototype.localToGlobalRect = function (ax, ay, aw, ah, resultRect) {\n            if (ax == undefined)\n                ax = 0;\n            if (ay == undefined)\n                ay = 0;\n            if (aw == undefined)\n                aw = 0;\n            if (ah == undefined)\n                ah = 0;\n            var ret = resultRect || new cc.Rect();\n            var pt = this.localToGlobal(ax, ay);\n            ret.x = pt.x;\n            ret.y = pt.y;\n            pt = this.localToGlobal(ax + aw, ay + ah, pt);\n            ret.xMax = pt.x;\n            ret.yMax = pt.y;\n            return ret;\n        };\n        GObject.prototype.globalToLocalRect = function (ax, ay, aw, ah, resultRect) {\n            if (ax == undefined)\n                ax = 0;\n            if (ay == undefined)\n                ay = 0;\n            if (aw == undefined)\n                aw = 0;\n            if (ah == undefined)\n                ah = 0;\n            var ret = resultRect || new cc.Rect();\n            var pt = this.globalToLocal(ax, ay);\n            ret.x = pt.x;\n            ret.y = pt.y;\n            pt = this.globalToLocal(ax + aw, ay + ah, pt);\n            ret.xMax = pt.x;\n            ret.yMax = pt.y;\n            return ret;\n        };\n        GObject.prototype.handleControllerChanged = function (c) {\n            this._handlingController = true;\n            for (var i = 0; i < 10; i++) {\n                var gear = this._gears[i];\n                if (gear != null && gear.controller == c)\n                    gear.apply();\n            }\n            this._handlingController = false;\n            this.checkGearDisplay();\n        };\n        GObject.prototype.handleAnchorChanged = function () {\n            this.handlePositionChanged();\n        };\n        GObject.prototype.handlePositionChanged = function () {\n            var xv = this._x;\n            var yv = -this._y;\n            if (!this._pivotAsAnchor) {\n                xv += this.node.anchorX * this._width;\n                yv -= (1 - this.node.anchorY) * this._height;\n            }\n            if (this._pixelSnapping) {\n                xv = Math.round(xv);\n                yv = Math.round(yv);\n            }\n            this._node.setPosition(xv, yv, this._node.z);\n        };\n        GObject.prototype.handleSizeChanged = function () {\n            this._node.setContentSize(this._width, this._height);\n        };\n        GObject.prototype.handleGrayedChanged = function () {\n        };\n        GObject.prototype.handleVisibleChanged = function () {\n            this._node.active = this._finalVisible;\n            if (this instanceof fgui.GGroup)\n                this.handleVisibleChanged();\n            if (this._parent)\n                this._parent.setBoundsChangedFlag();\n        };\n        GObject.prototype.hitTest = function (globalPt) {\n            if (this._touchDisabled || !this._touchable || !this._node.activeInHierarchy)\n                return null;\n            var pt = this._node.convertToNodeSpaceAR(globalPt);\n            pt.x += this._node.anchorX * this._width;\n            pt.y += this._node.anchorY * this._height;\n            if (pt.x >= 0 && pt.y >= 0 && pt.x < this._width && pt.y < this._height)\n                return this;\n            else\n                return null;\n        };\n        GObject.prototype.getProp = function (index) {\n            switch (index) {\n                case fgui.ObjectPropID.Text:\n                    return this.text;\n                case fgui.ObjectPropID.Icon:\n                    return this.icon;\n                case fgui.ObjectPropID.Color:\n                    return null;\n                case fgui.ObjectPropID.OutlineColor:\n                    return null;\n                case fgui.ObjectPropID.Playing:\n                    return false;\n                case fgui.ObjectPropID.Frame:\n                    return 0;\n                case fgui.ObjectPropID.DeltaTime:\n                    return 0;\n                case fgui.ObjectPropID.TimeScale:\n                    return 1;\n                case fgui.ObjectPropID.FontSize:\n                    return 0;\n                case fgui.ObjectPropID.Selected:\n                    return false;\n                default:\n                    return undefined;\n            }\n        };\n        GObject.prototype.setProp = function (index, value) {\n            switch (index) {\n                case fgui.ObjectPropID.Text:\n                    this.text = value;\n                    break;\n                case fgui.ObjectPropID.Icon:\n                    this.icon = value;\n                    break;\n            }\n        };\n        GObject.prototype.constructFromResource = function () {\n        };\n        GObject.prototype.setup_beforeAdd = function (buffer, beginPos) {\n            buffer.seek(beginPos, 0);\n            buffer.skip(5);\n            var f1;\n            var f2;\n            this._id = buffer.readS();\n            this._name = buffer.readS();\n            f1 = buffer.readInt();\n            f2 = buffer.readInt();\n            this.setPosition(f1, f2);\n            if (buffer.readBool()) {\n                this.initWidth = buffer.readInt();\n                this.initHeight = buffer.readInt();\n                this.setSize(this.initWidth, this.initHeight, true);\n            }\n            if (buffer.readBool()) {\n                this.minWidth = buffer.readInt();\n                this.maxWidth = buffer.readInt();\n                this.minHeight = buffer.readInt();\n                this.maxHeight = buffer.readInt();\n            }\n            if (buffer.readBool()) {\n                f1 = buffer.readFloat();\n                f2 = buffer.readFloat();\n                this.setScale(f1, f2);\n            }\n            if (buffer.readBool()) {\n                f1 = buffer.readFloat();\n                f2 = buffer.readFloat();\n                this.setSkew(f1, f2);\n            }\n            if (buffer.readBool()) {\n                f1 = buffer.readFloat();\n                f2 = buffer.readFloat();\n                this.setPivot(f1, f2, buffer.readBool());\n            }\n            f1 = buffer.readFloat();\n            if (f1 != 1)\n                this.alpha = f1;\n            f1 = buffer.readFloat();\n            if (f1 != 0)\n                this.rotation = f1;\n            if (!buffer.readBool())\n                this.visible = false;\n            if (!buffer.readBool())\n                this.touchable = false;\n            if (buffer.readBool())\n                this.grayed = true;\n            this.blendMode = buffer.readByte();\n            var filter = buffer.readByte();\n            if (filter == 1) {\n            }\n            var str = buffer.readS();\n            if (str != null)\n                this.data = str;\n        };\n        GObject.prototype.setup_afterAdd = function (buffer, beginPos) {\n            buffer.seek(beginPos, 1);\n            var str = buffer.readS();\n            if (str != null)\n                this.tooltips = str;\n            var groupId = buffer.readShort();\n            if (groupId >= 0)\n                this.group = this.parent.getChildAt(groupId);\n            buffer.seek(beginPos, 2);\n            var cnt = buffer.readShort();\n            for (var i = 0; i < cnt; i++) {\n                var nextPos = buffer.readShort();\n                nextPos += buffer.position;\n                var gear = this.getGear(buffer.readByte());\n                gear.setup(buffer);\n                buffer.position = nextPos;\n            }\n        };\n        GObject.prototype.onRollOver = function () {\n            this.root.showTooltips(this.tooltips);\n        };\n        ;\n        GObject.prototype.onRollOut = function () {\n            this.root.hideTooltips();\n        };\n        ;\n        GObject.prototype.initDrag = function () {\n            if (this._draggable) {\n                this.on(fgui.Event.TOUCH_BEGIN, this.onTouchBegin_0, this);\n                this.on(fgui.Event.TOUCH_MOVE, this.onTouchMove_0, this);\n                this.on(fgui.Event.TOUCH_END, this.onTouchEnd_0, this);\n            }\n            else {\n                this.off(fgui.Event.TOUCH_BEGIN, this.onTouchBegin_0, this);\n                this.off(fgui.Event.TOUCH_MOVE, this.onTouchMove_0, this);\n                this.off(fgui.Event.TOUCH_END, this.onTouchEnd_0, this);\n            }\n        };\n        GObject.prototype.dragBegin = function (touchId) {\n            if (GObject.draggingObject != null) {\n                var tmp = GObject.draggingObject;\n                tmp.stopDrag();\n                GObject.draggingObject = null;\n                tmp._node.emit(fgui.Event.DRAG_END);\n            }\n            if (touchId == undefined)\n                touchId = fgui.GRoot.inst.inputProcessor.getAllTouches()[0];\n            GObject.sGlobalDragStart.set(fgui.GRoot.inst.getTouchPosition(touchId));\n            this.localToGlobalRect(0, 0, this._width, this._height, GObject.sGlobalRect);\n            GObject.draggingObject = this;\n            this._dragTesting = true;\n            fgui.GRoot.inst.inputProcessor.addTouchMonitor(touchId, this);\n            this.on(fgui.Event.TOUCH_MOVE, this.onTouchMove_0, this);\n            this.on(fgui.Event.TOUCH_END, this.onTouchEnd_0, this);\n        };\n        GObject.prototype.dragEnd = function () {\n            if (GObject.draggingObject == this) {\n                this._dragTesting = false;\n                GObject.draggingObject = null;\n            }\n            GObject.sDragQuery = false;\n        };\n        GObject.prototype.onTouchBegin_0 = function (evt) {\n            if (this._dragStartPoint == null && evt.pos)\n                this._dragStartPoint = new cc.Vec2();\n            if (this._dragStartPoint) {\n                this._dragStartPoint.set(evt.pos);\n                this._dragTesting = true;\n                evt.captureTouch();\n            }\n        };\n        GObject.prototype.onTouchMove_0 = function (evt) {\n            if (GObject.draggingObject != this && this._draggable && this._dragTesting) {\n                var sensitivity = fgui.UIConfig.touchDragSensitivity;\n                if (Math.abs(this._dragStartPoint.x - evt.pos.x) < sensitivity\n                    && Math.abs(this._dragStartPoint.y - evt.pos.y) < sensitivity)\n                    return;\n                this._dragTesting = false;\n                GObject.sDragQuery = true;\n                this._node.emit(fgui.Event.DRAG_START, evt);\n                if (GObject.sDragQuery)\n                    this.dragBegin(evt.touchId);\n            }\n            if (GObject.draggingObject == this) {\n                var xx = evt.pos.x - GObject.sGlobalDragStart.x + GObject.sGlobalRect.x;\n                var yy = evt.pos.y - GObject.sGlobalDragStart.y + GObject.sGlobalRect.y;\n                if (this._dragBounds != null) {\n                    var rect = fgui.GRoot.inst.localToGlobalRect(this._dragBounds.x, this._dragBounds.y, this._dragBounds.width, this._dragBounds.height, GObject.sDragHelperRect);\n                    if (xx < rect.x)\n                        xx = rect.x;\n                    else if (xx + GObject.sGlobalRect.width > rect.xMax) {\n                        xx = rect.xMax - GObject.sGlobalRect.width;\n                        if (xx < rect.x)\n                            xx = rect.x;\n                    }\n                    if (yy < rect.y)\n                        yy = rect.y;\n                    else if (yy + GObject.sGlobalRect.height > rect.yMax) {\n                        yy = rect.yMax - GObject.sGlobalRect.height;\n                        if (yy < rect.y)\n                            yy = rect.y;\n                    }\n                }\n                GObject.sUpdateInDragging = true;\n                var pt = this.parent.globalToLocal(xx, yy, GObject.sHelperPoint);\n                this.setPosition(Math.round(pt.x), Math.round(pt.y));\n                GObject.sUpdateInDragging = false;\n                this._node.emit(fgui.Event.DRAG_MOVE, evt);\n            }\n        };\n        GObject.prototype.onTouchEnd_0 = function (evt) {\n            if (GObject.draggingObject == this) {\n                GObject.draggingObject = null;\n                this._node.emit(fgui.Event.DRAG_END, evt);\n            }\n            this._dragStartPoint = null;\n        };\n        GObject._eventListener = [];\n        GObject._defaultGroupIndex = -1;\n        GObject._gHashIdx = 0;\n        GObject._touchEventListener = [];\n        GObject._lastEvent = null;\n        GObject.sGlobalDragStart = new cc.Vec2();\n        GObject.sGlobalRect = new cc.Rect();\n        GObject.sHelperPoint = new cc.Vec2();\n        GObject.sDragHelperRect = new cc.Rect();\n        GObject.sDragQuery = false;\n        return GObject;\n    }());\n    fgui.GObject = GObject;\n    var GObjectPartner = (function (_super) {\n        __extends(GObjectPartner, _super);\n        function GObjectPartner() {\n            var _this = _super !== null && _super.apply(this, arguments) || this;\n            _this._emitDisplayEvents = false;\n            return _this;\n        }\n        GObjectPartner.prototype.callLater = function (callback, delay) {\n            if (!cc.director.getScheduler().isScheduled(callback, this))\n                this.scheduleOnce(callback, delay);\n        };\n        GObjectPartner.prototype.onClickLink = function (evt, text) {\n            this.node.emit(fgui.Event.LINK, text, evt);\n        };\n        GObjectPartner.prototype.onEnable = function () {\n        };\n        GObjectPartner.prototype.onDisable = function () {\n            this.node[\"$gobj\"].onDisable();\n            if (this._emitDisplayEvents)\n                this.node.emit(fgui.Event.UNDISPLAY);\n        };\n        GObjectPartner.prototype.update = function (dt) {\n        };\n        GObjectPartner.prototype.onDestroy = function () {\n            this.node[\"$gobj\"].onDestroy();\n        };\n        return GObjectPartner;\n    }(cc.Component));\n    fgui.GObjectPartner = GObjectPartner;\n    var GActivatePartner = (function (_super) {\n        __extends(GActivatePartner, _super);\n        function GActivatePartner() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        GActivatePartner.prototype.onEnable = function () {\n            _super.prototype.onEnable.call(this);\n            this.node[\"$gobj\"].onEnable();\n            if (this._emitDisplayEvents)\n                this.node.emit(fgui.Event.DISPLAY);\n        };\n        return GActivatePartner;\n    }(GObjectPartner));\n    fgui.GActivatePartner = GActivatePartner;\n})(fgui || (fgui = {}));\nvar fgui;\n(function (fgui) {\n    var GComponent = (function (_super) {\n        __extends(GComponent, _super);\n        function GComponent() {\n            var _this = _super.call(this) || this;\n            _this._sortingChildCount = 0;\n            _this._childrenRenderOrder = fgui.ChildrenRenderOrder.Ascent;\n            _this._apexIndex = 0;\n            _this._node.name = \"GComponent\";\n            _this._children = [];\n            _this._childrenHash = {};\n            _this._controllers = [];\n            _this._transitions = [];\n            _this._margin = new fgui.Margin();\n            _this._alignOffset = new cc.Vec2();\n            _this._container = new cc.Node(\"Container\");\n            _this._container.setAnchorPoint(0, 1);\n            _this._node.addChild(_this._container);\n            return _this;\n        }\n        GComponent.prototype.genPartner = function () {\n            this._partner = this._node.addComponent(fgui.GActivatePartner);\n        };\n        GComponent.prototype.dispose = function () {\n            var i;\n            var cnt;\n            cnt = this._transitions.length;\n            for (i = 0; i < cnt; ++i) {\n                var trans = this._transitions[i];\n                trans.dispose();\n            }\n            cnt = this._controllers.length;\n            for (i = 0; i < cnt; ++i) {\n                var cc = this._controllers[i];\n                cc.dispose();\n            }\n            if (this._scrollPane)\n                this._scrollPane.destroy();\n            cnt = this._children.length;\n            for (i = cnt - 1; i >= 0; --i) {\n                var obj = this._children[i];\n                obj._parent = null;\n                obj.dispose();\n            }\n            this._children = [];\n            this._childrenHash = {};\n            this._boundsChanged = false;\n            _super.prototype.dispose.call(this);\n        };\n        Object.defineProperty(GComponent.prototype, \"hidden\", {\n            get: function () {\n                return this.alpha == 0 && !this.touchable;\n            },\n            set: function (b) {\n                this.alpha = b ? 0 : 1;\n                this.touchable = !b;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GComponent.prototype, \"displayListContainer\", {\n            get: function () {\n                return this._container;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        GComponent.prototype.addChildren = function (children) {\n            if (!children)\n                return;\n            var len = children.length;\n            if (len <= 0)\n                return;\n            var i = 0;\n            for (i = 0; i < len; ++i) {\n                var child = children[i];\n                if (child.parent != this) {\n                    child.removeFromParent();\n                    child._parent = this;\n                    this._children.push(child);\n                    if (child.name != \"\") {\n                        this._childrenHash[child.name] = child;\n                    }\n                    child.node.parent = this._container;\n                    child.node.active = child._finalVisible;\n                }\n                else {\n                    this.setChildIndex(child, this._children.length);\n                }\n            }\n            this.setBoundsChangedFlag();\n        };\n        GComponent.prototype.addChild = function (child) {\n            this.addChildAt(child, this._children.length);\n            return child;\n        };\n        GComponent.prototype.addChildAt = function (child, index) {\n            if (!child)\n                throw \"child is null\";\n            var numChildren = this._children.length;\n            if (index >= 0 && index <= numChildren) {\n                if (child.parent == this) {\n                    this.setChildIndex(child, index);\n                }\n                else {\n                    child.removeFromParent();\n                    child._parent = this;\n                    var cnt = this._children.length;\n                    if (child.sortingOrder != 0) {\n                        this._sortingChildCount++;\n                        index = this.getInsertPosForSortingChild(child);\n                    }\n                    else if (this._sortingChildCount > 0) {\n                        if (index > (cnt - this._sortingChildCount))\n                            index = cnt - this._sortingChildCount;\n                    }\n                    if (index == cnt) {\n                        this._children.push(child);\n                        ++index;\n                    }\n                    else {\n                        this._children.splice(index, 0, child);\n                    }\n                    this.onChildAdd(child, index);\n                    if (child.name != \"\") {\n                        this._childrenHash[child.name] = child;\n                    }\n                    this.setBoundsChangedFlag();\n                }\n                return child;\n            }\n            else {\n                throw \"Invalid child index\";\n            }\n        };\n        GComponent.prototype.getInsertPosForSortingChild = function (target) {\n            var cnt = this._children.length;\n            var i = 0;\n            for (i = 0; i < cnt; i++) {\n                var child = this._children[i];\n                if (child == target)\n                    continue;\n                if (target.sortingOrder < child.sortingOrder)\n                    break;\n            }\n            return i;\n        };\n        GComponent.prototype.removeChild = function (child, dispose) {\n            var childIndex = this._children.indexOf(child);\n            if (childIndex != -1) {\n                this.removeChildAt(childIndex, dispose);\n            }\n            return child;\n        };\n        GComponent.prototype.removeChildAt = function (index, dispose) {\n            if (index >= 0 && index < this.numChildren) {\n                var child = this._children[index];\n                child._parent = null;\n                if (child.sortingOrder != 0)\n                    this._sortingChildCount--;\n                this._children.splice(index, 1);\n                child.group = null;\n                this._container.removeChild(child.node);\n                if (this._childrenRenderOrder == fgui.ChildrenRenderOrder.Arch)\n                    this._partner.callLater(this.buildNativeDisplayList);\n                if (dispose)\n                    child.dispose();\n                else\n                    child.node.parent = null;\n                this.setBoundsChangedFlag();\n                if (child.name != \"\") {\n                    delete (this._childrenHash[child.name]);\n                    this._childrenHash[child.name] = null;\n                }\n                return child;\n            }\n            else {\n                throw \"Invalid child index\";\n            }\n        };\n        GComponent.prototype.removeChildren = function (beginIndex, endIndex, dispose) {\n            if (beginIndex == undefined)\n                beginIndex = 0;\n            if (endIndex == undefined)\n                endIndex = -1;\n            if (endIndex < 0 || endIndex >= this.numChildren)\n                endIndex = this.numChildren - 1;\n            for (var i = beginIndex; i <= endIndex; ++i)\n                this.removeChildAt(beginIndex, dispose);\n        };\n        GComponent.prototype.getChildAt = function (index) {\n            if (index >= 0 && index < this.numChildren)\n                return this._children[index];\n            else\n                throw \"Invalid child index\";\n        };\n        GComponent.prototype.getChild = function (name) {\n            if (this._childrenHash[name]) {\n                return this._childrenHash[name];\n            }\n            var cnt = this._children.length;\n            for (var i = 0; i < cnt; ++i) {\n                if (this._children[i].name == name) {\n                    this._childrenHash[name] = this._children[i];\n                    return this._children[i];\n                }\n            }\n            return null;\n        };\n        GComponent.prototype.getChildByPath = function (path) {\n            var arr = path.split(\".\");\n            var cnt = arr.length;\n            var gcom = this;\n            var obj;\n            for (var i = 0; i < cnt; ++i) {\n                obj = gcom.getChild(arr[i]);\n                if (!obj)\n                    break;\n                if (i != cnt - 1) {\n                    if (!(gcom instanceof GComponent)) {\n                        obj = null;\n                        break;\n                    }\n                    else\n                        gcom = obj;\n                }\n            }\n            return obj;\n        };\n        GComponent.prototype.getVisibleChild = function (name) {\n            if (this._childrenHash[name]) {\n                var child = this._childrenHash[name];\n                if (child._finalVisible) {\n                    return child;\n                }\n            }\n            var cnt = this._children.length;\n            for (var i = 0; i < cnt; ++i) {\n                var child = this._children[i];\n                if (child._finalVisible && child.name == name)\n                    return child;\n            }\n            return null;\n        };\n        GComponent.prototype.getChildInGroup = function (name, group) {\n            var cnt = this._children.length;\n            for (var i = 0; i < cnt; ++i) {\n                var child = this._children[i];\n                if (child.group == group && child.name == name)\n                    return child;\n            }\n            return null;\n        };\n        GComponent.prototype.getChildById = function (id) {\n            var cnt = this._children.length;\n            for (var i = 0; i < cnt; ++i) {\n                if (this._children[i]._id == id)\n                    return this._children[i];\n            }\n            return null;\n        };\n        GComponent.prototype.getChildIndex = function (child) {\n            return this._children.indexOf(child);\n        };\n        GComponent.prototype.setChildIndex = function (child, index) {\n            var oldIndex = this._children.indexOf(child);\n            if (oldIndex == -1)\n                throw \"Not a child of this container\";\n            if (child.sortingOrder != 0)\n                return;\n            var cnt = this._children.length;\n            if (this._sortingChildCount > 0) {\n                if (index > (cnt - this._sortingChildCount - 1))\n                    index = cnt - this._sortingChildCount - 1;\n            }\n            this._setChildIndex(child, oldIndex, index);\n        };\n        GComponent.prototype.setChildIndexBefore = function (child, index) {\n            var oldIndex = this._children.indexOf(child);\n            if (oldIndex == -1)\n                throw \"Not a child of this container\";\n            if (child.sortingOrder != 0)\n                return oldIndex;\n            var cnt = this._children.length;\n            if (this._sortingChildCount > 0) {\n                if (index > (cnt - this._sortingChildCount - 1))\n                    index = cnt - this._sortingChildCount - 1;\n            }\n            if (oldIndex < index)\n                return this._setChildIndex(child, oldIndex, index - 1);\n            else\n                return this._setChildIndex(child, oldIndex, index);\n        };\n        GComponent.prototype._setChildIndex = function (child, oldIndex, index) {\n            var cnt = this._children.length;\n            if (index > cnt)\n                index = cnt;\n            if (oldIndex == index)\n                return oldIndex;\n            this._children.splice(oldIndex, 1);\n            this._children.splice(index, 0, child);\n            if (this._childrenRenderOrder == fgui.ChildrenRenderOrder.Ascent)\n                child.node.setSiblingIndex(index);\n            else if (this._childrenRenderOrder == fgui.ChildrenRenderOrder.Descent)\n                child.node.setSiblingIndex(cnt - index);\n            else\n                this._partner.callLater(this.buildNativeDisplayList);\n            this.setBoundsChangedFlag();\n            return index;\n        };\n        GComponent.prototype.swapChildren = function (child1, child2) {\n            var index1 = this._children.indexOf(child1);\n            var index2 = this._children.indexOf(child2);\n            if (index1 == -1 || index2 == -1)\n                throw \"Not a child of this container\";\n            this.swapChildrenAt(index1, index2);\n        };\n        GComponent.prototype.swapChildrenAt = function (index1, index2) {\n            var child1 = this._children[index1];\n            var child2 = this._children[index2];\n            this.setChildIndex(child1, index2);\n            this.setChildIndex(child2, index1);\n        };\n        Object.defineProperty(GComponent.prototype, \"numChildren\", {\n            get: function () {\n                return this._children.length;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        GComponent.prototype.isAncestorOf = function (child) {\n            if (child == null)\n                return false;\n            var p = child.parent;\n            while (p) {\n                if (p == this)\n                    return true;\n                p = p.parent;\n            }\n            return false;\n        };\n        GComponent.prototype.addController = function (controller) {\n            this._controllers.push(controller);\n            controller.parent = this;\n            this.applyController(controller);\n        };\n        GComponent.prototype.getControllerAt = function (index) {\n            return this._controllers[index];\n        };\n        GComponent.prototype.getController = function (name) {\n            var cnt = this._controllers.length;\n            for (var i = 0; i < cnt; ++i) {\n                var c = this._controllers[i];\n                if (c.name == name)\n                    return c;\n            }\n            return null;\n        };\n        GComponent.prototype.removeController = function (c) {\n            var index = this._controllers.indexOf(c);\n            if (index == -1)\n                throw \"controller not exists\";\n            c.parent = null;\n            this._controllers.splice(index, 1);\n            var length = this._children.length;\n            for (var i = 0; i < length; i++) {\n                var child = this._children[i];\n                child.handleControllerChanged(c);\n            }\n        };\n        Object.defineProperty(GComponent.prototype, \"controllers\", {\n            get: function () {\n                return this._controllers;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        GComponent.prototype.onChildAdd = function (child, index) {\n            child.node.parent = this._container;\n            child.node.active = child._finalVisible;\n            if (this._buildingDisplayList)\n                return;\n            var cnt = this._children.length;\n            if (this._childrenRenderOrder == fgui.ChildrenRenderOrder.Ascent)\n                child.node.setSiblingIndex(index);\n            else if (this._childrenRenderOrder == fgui.ChildrenRenderOrder.Descent)\n                child.node.setSiblingIndex(cnt - index);\n            else\n                this._partner.callLater(this.buildNativeDisplayList);\n        };\n        GComponent.prototype.buildNativeDisplayList = function (dt) {\n            if (!isNaN(dt)) {\n                var _t = (this.node[\"$gobj\"]);\n                _t.buildNativeDisplayList();\n                return;\n            }\n            var cnt = this._children.length;\n            if (cnt == 0)\n                return;\n            var child;\n            switch (this._childrenRenderOrder) {\n                case fgui.ChildrenRenderOrder.Ascent:\n                    {\n                        var j = 0;\n                        for (var i = 0; i < cnt; i++) {\n                            child = this._children[i];\n                            child.node.setSiblingIndex(j++);\n                        }\n                    }\n                    break;\n                case fgui.ChildrenRenderOrder.Descent:\n                    {\n                        var j = 0;\n                        for (var i = cnt - 1; i >= 0; i--) {\n                            child = this._children[i];\n                            child.node.setSiblingIndex(j++);\n                        }\n                    }\n                    break;\n                case fgui.ChildrenRenderOrder.Arch:\n                    {\n                        var j = 0;\n                        for (var i = 0; i < this._apexIndex; i++) {\n                            child = this._children[i];\n                            child.node.setSiblingIndex(j++);\n                        }\n                        for (var i = cnt - 1; i >= this._apexIndex; i--) {\n                            child = this._children[i];\n                            child.node.setSiblingIndex(j++);\n                        }\n                    }\n                    break;\n            }\n        };\n        GComponent.prototype.applyController = function (c, callback) {\n            this._applyingController = c;\n            var child;\n            var length = this._children.length;\n            for (var i = 0; i < length; i++) {\n                child = this._children[i];\n                child.handleControllerChanged(c);\n            }\n            this._applyingController = null;\n            c.runActions(callback);\n        };\n        GComponent.prototype.applyAllControllers = function () {\n            var cnt = this._controllers.length;\n            for (var i = 0; i < cnt; ++i) {\n                this.applyController(this._controllers[i]);\n            }\n        };\n        GComponent.prototype.adjustRadioGroupDepth = function (obj, c) {\n            var cnt = this._children.length;\n            var i;\n            var child;\n            var myIndex = -1, maxIndex = -1;\n            for (i = 0; i < cnt; i++) {\n                child = this._children[i];\n                if (child == obj) {\n                    myIndex = i;\n                }\n                else if ((child instanceof fgui.GButton)\n                    && child.relatedController == c) {\n                    if (i > maxIndex)\n                        maxIndex = i;\n                }\n            }\n            if (myIndex < maxIndex) {\n                if (this._applyingController != null)\n                    this._children[maxIndex].handleControllerChanged(this._applyingController);\n                this.swapChildrenAt(myIndex, maxIndex);\n            }\n        };\n        GComponent.prototype.getTransitionAt = function (index) {\n            return this._transitions[index];\n        };\n        GComponent.prototype.getTransition = function (transName) {\n            var cnt = this._transitions.length;\n            for (var i = 0; i < cnt; ++i) {\n                var trans = this._transitions[i];\n                if (trans.name == transName)\n                    return trans;\n            }\n            return null;\n        };\n        GComponent.prototype.isChildInView = function (child) {\n            if (this._rectMask != null) {\n                return child.x + child.width >= 0 && child.x <= this.width\n                    && child.y + child.height >= 0 && child.y <= this.height;\n            }\n            else if (this._scrollPane != null) {\n                return this._scrollPane.isChildInView(child);\n            }\n            else\n                return true;\n        };\n        GComponent.prototype.getFirstChildInView = function () {\n            var cnt = this._children.length;\n            for (var i = 0; i < cnt; ++i) {\n                var child = this._children[i];\n                if (this.isChildInView(child))\n                    return i;\n            }\n            return -1;\n        };\n        Object.defineProperty(GComponent.prototype, \"scrollPane\", {\n            get: function () {\n                return this._scrollPane;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GComponent.prototype, \"opaque\", {\n            get: function () {\n                return this._opaque;\n            },\n            set: function (value) {\n                this._opaque = value;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GComponent.prototype, \"margin\", {\n            get: function () {\n                return this._margin;\n            },\n            set: function (value) {\n                this._margin.copy(value);\n                this.handleSizeChanged();\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GComponent.prototype, \"childrenRenderOrder\", {\n            get: function () {\n                return this._childrenRenderOrder;\n            },\n            set: function (value) {\n                if (this._childrenRenderOrder != value) {\n                    this._childrenRenderOrder = value;\n                    this.buildNativeDisplayList();\n                }\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GComponent.prototype, \"apexIndex\", {\n            get: function () {\n                return this._apexIndex;\n            },\n            set: function (value) {\n                if (this._apexIndex != value) {\n                    this._apexIndex = value;\n                    if (this._childrenRenderOrder == fgui.ChildrenRenderOrder.Arch)\n                        this.buildNativeDisplayList();\n                }\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GComponent.prototype, \"mask\", {\n            get: function () {\n                return this._maskContent;\n            },\n            set: function (value) {\n                this.setMask(value, false);\n            },\n            enumerable: false,\n            configurable: true\n        });\n        GComponent.prototype.setMask = function (value, inverted) {\n            if (this._maskContent) {\n                this._maskContent.node.off(cc.Node.EventType.POSITION_CHANGED, this.onMaskContentChanged, this);\n                this._maskContent.node.off(cc.Node.EventType.SIZE_CHANGED, this.onMaskContentChanged, this);\n                this._maskContent.node.off(cc.Node.EventType.SCALE_CHANGED, this.onMaskContentChanged, this);\n                this._maskContent.node.off(cc.Node.EventType.ANCHOR_CHANGED, this.onMaskContentChanged, this);\n                this._maskContent.visible = true;\n            }\n            this._maskContent = value;\n            if (this._maskContent) {\n                if (!(value instanceof fgui.GImage) && !(value instanceof fgui.GGraph))\n                    return;\n                if (!this._customMask) {\n                    var maskNode = new cc.Node(\"Mask\");\n                    maskNode.parent = this._node;\n                    if (this._scrollPane)\n                        this._container.parent.parent = maskNode;\n                    else\n                        this._container.parent = maskNode;\n                    this._customMask = maskNode.addComponent(cc.Mask);\n                }\n                value.visible = false;\n                value.node.on(cc.Node.EventType.POSITION_CHANGED, this.onMaskContentChanged, this);\n                value.node.on(cc.Node.EventType.SIZE_CHANGED, this.onMaskContentChanged, this);\n                value.node.on(cc.Node.EventType.SCALE_CHANGED, this.onMaskContentChanged, this);\n                value.node.on(cc.Node.EventType.ANCHOR_CHANGED, this.onMaskContentChanged, this);\n                this._customMask.inverted = inverted;\n                if (this._node.activeInHierarchy)\n                    this.onMaskReady();\n                else\n                    this.on(fgui.Event.DISPLAY, this.onMaskReady, this);\n                this.onMaskContentChanged();\n                if (this._scrollPane)\n                    this._scrollPane.adjustMaskContainer();\n                else\n                    this._container.setPosition(0, 0);\n            }\n            else if (this._customMask) {\n                if (this._scrollPane)\n                    this._container.parent.parent = this._node;\n                else\n                    this._container.parent = this._node;\n                this._customMask.node.destroy();\n                this._customMask = null;\n                if (this._scrollPane)\n                    this._scrollPane.adjustMaskContainer();\n                else\n                    this._container.setPosition(this._pivotCorrectX, this._pivotCorrectY);\n            }\n        };\n        GComponent.prototype.onMaskReady = function () {\n            this.off(fgui.Event.DISPLAY, this.onMaskReady, this);\n            if (this._maskContent instanceof fgui.GImage) {\n                this._customMask.type = cc.Mask.Type.IMAGE_STENCIL;\n                this._customMask.alphaThreshold = 0.0001;\n                this._customMask.spriteFrame = this._maskContent._content.spriteFrame;\n            }\n            else {\n                if (this._maskContent.type == fgui.GraphType.Ellipse)\n                    this._customMask.type = cc.Mask.Type.ELLIPSE;\n                else\n                    this._customMask.type = cc.Mask.Type.RECT;\n            }\n        };\n        GComponent.prototype.onMaskContentChanged = function () {\n            var maskNode = this._customMask.node;\n            var contentNode = this._maskContent.node;\n            var w = contentNode.width * contentNode.scaleX;\n            var h = contentNode.height * contentNode.scaleY;\n            maskNode.setContentSize(w, h);\n            var left = contentNode.x - contentNode.anchorX * w;\n            var top = contentNode.y - contentNode.anchorY * h;\n            maskNode.setAnchorPoint(-left / maskNode.width, -top / maskNode.height);\n            maskNode.setPosition(this._pivotCorrectX, this._pivotCorrectY);\n        };\n        Object.defineProperty(GComponent.prototype, \"_pivotCorrectX\", {\n            get: function () {\n                return -this.pivotX * this._width + this._margin.left;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GComponent.prototype, \"_pivotCorrectY\", {\n            get: function () {\n                return this.pivotY * this._height - this._margin.top;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GComponent.prototype, \"baseUserData\", {\n            get: function () {\n                var buffer = this.packageItem.rawData;\n                buffer.seek(0, 4);\n                return buffer.readS();\n            },\n            enumerable: false,\n            configurable: true\n        });\n        GComponent.prototype.setupScroll = function (buffer) {\n            this._scrollPane = this._node.addComponent(fgui.ScrollPane);\n            this._scrollPane.setup(buffer);\n        };\n        GComponent.prototype.setupOverflow = function (overflow) {\n            if (overflow == fgui.OverflowType.Hidden)\n                this._rectMask = this._container.addComponent(cc.Mask);\n            if (!this._margin.isNone)\n                this.handleSizeChanged();\n        };\n        GComponent.prototype.handleAnchorChanged = function () {\n            _super.prototype.handleAnchorChanged.call(this);\n            if (this._customMask)\n                this._customMask.node.setPosition(this._pivotCorrectX, this._pivotCorrectY);\n            else if (this._scrollPane)\n                this._scrollPane.adjustMaskContainer();\n            else\n                this._container.setPosition(this._pivotCorrectX + this._alignOffset.x, this._pivotCorrectY - this._alignOffset.y);\n        };\n        GComponent.prototype.handleSizeChanged = function () {\n            _super.prototype.handleSizeChanged.call(this);\n            if (this._customMask)\n                this._customMask.node.setPosition(this._pivotCorrectX, this._pivotCorrectY);\n            else if (!this._scrollPane)\n                this._container.setPosition(this._pivotCorrectX, this._pivotCorrectY);\n            if (this._scrollPane)\n                this._scrollPane.onOwnerSizeChanged();\n            else\n                this._container.setContentSize(this.viewWidth, this.viewHeight);\n        };\n        GComponent.prototype.handleGrayedChanged = function () {\n            var c = this.getController(\"grayed\");\n            if (c != null) {\n                c.selectedIndex = this.grayed ? 1 : 0;\n                return;\n            }\n            var v = this.grayed;\n            var cnt = this._children.length;\n            for (var i = 0; i < cnt; ++i) {\n                this._children[i].grayed = v;\n            }\n        };\n        GComponent.prototype.handleControllerChanged = function (c) {\n            _super.prototype.handleControllerChanged.call(this, c);\n            if (this._scrollPane != null)\n                this._scrollPane.handleControllerChanged(c);\n        };\n        GComponent.prototype.hitTest = function (globalPt) {\n            if (this._touchDisabled || !this._touchable || !this._node.activeInHierarchy)\n                return null;\n            var target;\n            if (this._customMask) {\n                var b = this._customMask[\"_hitTest\"](globalPt) || false;\n                if (!b)\n                    return null;\n            }\n            var flag = 0;\n            if (this.hitArea || this._rectMask) {\n                var pt = this._node.convertToNodeSpaceAR(globalPt);\n                pt.x += this._node.anchorX * this._width;\n                pt.y += this._node.anchorY * this._height;\n                if (pt.x >= 0 && pt.y >= 0 && pt.x < this._width && pt.y < this._height)\n                    flag = 1;\n                else\n                    flag = 2;\n                if (this.hitArea && !this.hitArea.hitTest(this, pt.x, pt.y))\n                    return null;\n                if (this._rectMask) {\n                    var clippingSize = this._container.getContentSize();\n                    if (pt.x < 0 || pt.y < 0 || pt.x >= clippingSize.width || pt.y >= clippingSize.height)\n                        return null;\n                }\n            }\n            if (this._scrollPane) {\n                target = this._scrollPane.hitTest(globalPt);\n                if (!target)\n                    return null;\n                if (target != this)\n                    return target;\n            }\n            var cnt = this._children.length;\n            for (var i = cnt - 1; i >= 0; i--) {\n                target = this._children[i].hitTest(globalPt);\n                if (target)\n                    return target;\n            }\n            if (this._opaque) {\n                if (flag == 0) {\n                    var pt = this._node.convertToNodeSpaceAR(globalPt);\n                    pt.x += this._node.anchorX * this._width;\n                    pt.y += this._node.anchorY * this._height;\n                    if (pt.x >= 0 && pt.y >= 0 && pt.x < this._width && pt.y < this._height)\n                        flag = 1;\n                    else\n                        flag = 2;\n                }\n                if (flag == 1)\n                    return this;\n                else\n                    return null;\n            }\n            else\n                return null;\n        };\n        GComponent.prototype.setBoundsChangedFlag = function () {\n            if (!this._scrollPane && !this._trackBounds)\n                return;\n            if (!this._boundsChanged) {\n                this._boundsChanged = true;\n                this._partner.callLater(this.refresh);\n            }\n        };\n        GComponent.prototype.refresh = function (dt) {\n            if (!isNaN(dt)) {\n                var _t = (this.node[\"$gobj\"]);\n                _t.refresh();\n                return;\n            }\n            if (this._boundsChanged) {\n                var len = this._children.length;\n                if (len > 0) {\n                    for (var i = 0; i < len; i++) {\n                        var child = this._children[i];\n                        child.ensureSizeCorrect();\n                    }\n                }\n                this.updateBounds();\n            }\n        };\n        GComponent.prototype.ensureBoundsCorrect = function () {\n            var len = this._children.length;\n            if (len > 0) {\n                for (var i = 0; i < len; i++) {\n                    var child = this._children[i];\n                    child.ensureSizeCorrect();\n                }\n            }\n            if (this._boundsChanged)\n                this.updateBounds();\n        };\n        GComponent.prototype.updateBounds = function () {\n            var ax = 0, ay = 0, aw = 0, ah = 0;\n            var len = this._children.length;\n            if (len > 0) {\n                ax = Number.POSITIVE_INFINITY, ay = Number.POSITIVE_INFINITY;\n                var ar = Number.NEGATIVE_INFINITY, ab = Number.NEGATIVE_INFINITY;\n                var tmp = 0;\n                var i = 0;\n                for (var i = 0; i < len; i++) {\n                    var child = this._children[i];\n                    tmp = child.x;\n                    if (tmp < ax)\n                        ax = tmp;\n                    tmp = child.y;\n                    if (tmp < ay)\n                        ay = tmp;\n                    tmp = child.x + child.actualWidth;\n                    if (tmp > ar)\n                        ar = tmp;\n                    tmp = child.y + child.actualHeight;\n                    if (tmp > ab)\n                        ab = tmp;\n                }\n                aw = ar - ax;\n                ah = ab - ay;\n            }\n            this.setBounds(ax, ay, aw, ah);\n        };\n        GComponent.prototype.setBounds = function (ax, ay, aw, ah) {\n            if (ah === void 0) { ah = 0; }\n            this._boundsChanged = false;\n            if (this._scrollPane)\n                this._scrollPane.setContentSize(Math.round(ax + aw), Math.round(ay + ah));\n        };\n        Object.defineProperty(GComponent.prototype, \"viewWidth\", {\n            get: function () {\n                if (this._scrollPane != null)\n                    return this._scrollPane.viewWidth;\n                else\n                    return this.width - this._margin.left - this._margin.right;\n            },\n            set: function (value) {\n                if (this._scrollPane != null)\n                    this._scrollPane.viewWidth = value;\n                else\n                    this.width = value + this._margin.left + this._margin.right;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GComponent.prototype, \"viewHeight\", {\n            get: function () {\n                if (this._scrollPane != null)\n                    return this._scrollPane.viewHeight;\n                else\n                    return this.height - this._margin.top - this._margin.bottom;\n            },\n            set: function (value) {\n                if (this._scrollPane != null)\n                    this._scrollPane.viewHeight = value;\n                else\n                    this.height = value + this._margin.top + this._margin.bottom;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        GComponent.prototype.getSnappingPosition = function (xValue, yValue, resultPoint) {\n            if (!resultPoint)\n                resultPoint = new cc.Vec2();\n            var cnt = this._children.length;\n            if (cnt == 0) {\n                resultPoint.x = 0;\n                resultPoint.y = 0;\n                return resultPoint;\n            }\n            this.ensureBoundsCorrect();\n            var obj = null;\n            var prev = null;\n            var i = 0;\n            if (yValue != 0) {\n                for (; i < cnt; i++) {\n                    obj = this._children[i];\n                    if (yValue < obj.y) {\n                        if (i == 0) {\n                            yValue = 0;\n                            break;\n                        }\n                        else {\n                            prev = this._children[i - 1];\n                            if (yValue < prev.y + prev.actualHeight / 2)\n                                yValue = prev.y;\n                            else\n                                yValue = obj.y;\n                            break;\n                        }\n                    }\n                }\n                if (i == cnt)\n                    yValue = obj.y;\n            }\n            if (xValue != 0) {\n                if (i > 0)\n                    i--;\n                for (; i < cnt; i++) {\n                    obj = this._children[i];\n                    if (xValue < obj.x) {\n                        if (i == 0) {\n                            xValue = 0;\n                            break;\n                        }\n                        else {\n                            prev = this._children[i - 1];\n                            if (xValue < prev.x + prev.actualWidth / 2)\n                                xValue = prev.x;\n                            else\n                                xValue = obj.x;\n                            break;\n                        }\n                    }\n                }\n                if (i == cnt)\n                    xValue = obj.x;\n            }\n            resultPoint.x = xValue;\n            resultPoint.y = yValue;\n            return resultPoint;\n        };\n        GComponent.prototype.childSortingOrderChanged = function (child, oldValue, newValue) {\n            if (newValue === void 0) { newValue = 0; }\n            if (newValue == 0) {\n                this._sortingChildCount--;\n                this.setChildIndex(child, this._children.length);\n            }\n            else {\n                if (oldValue == 0)\n                    this._sortingChildCount++;\n                var oldIndex = this._children.indexOf(child);\n                var index = this.getInsertPosForSortingChild(child);\n                if (oldIndex < index)\n                    this._setChildIndex(child, oldIndex, index - 1);\n                else\n                    this._setChildIndex(child, oldIndex, index);\n            }\n        };\n        GComponent.prototype.constructFromResource = function () {\n            this.constructFromResource2(null, 0);\n        };\n        GComponent.prototype.constructFromResource2 = function (objectPool, poolIndex) {\n            if (!this.packageItem.decoded) {\n                this.packageItem.decoded = true;\n                fgui.TranslationHelper.translateComponent(this.packageItem);\n            }\n            var i;\n            var dataLen;\n            var curPos;\n            var nextPos;\n            var f1;\n            var f2;\n            var i1;\n            var i2;\n            var buffer = this.packageItem.rawData;\n            buffer.seek(0, 0);\n            this._underConstruct = true;\n            this.sourceWidth = buffer.readInt();\n            this.sourceHeight = buffer.readInt();\n            this.initWidth = this.sourceWidth;\n            this.initHeight = this.sourceHeight;\n            this.setSize(this.sourceWidth, this.sourceHeight);\n            if (buffer.readBool()) {\n                this.minWidth = buffer.readInt();\n                this.maxWidth = buffer.readInt();\n                this.minHeight = buffer.readInt();\n                this.maxHeight = buffer.readInt();\n            }\n            if (buffer.readBool()) {\n                f1 = buffer.readFloat();\n                f2 = buffer.readFloat();\n                this.setPivot(f1, f2, buffer.readBool());\n            }\n            if (buffer.readBool()) {\n                this._margin.top = buffer.readInt();\n                this._margin.bottom = buffer.readInt();\n                this._margin.left = buffer.readInt();\n                this._margin.right = buffer.readInt();\n            }\n            var overflow = buffer.readByte();\n            if (overflow == fgui.OverflowType.Scroll) {\n                var savedPos = buffer.position;\n                buffer.seek(0, 7);\n                this.setupScroll(buffer);\n                buffer.position = savedPos;\n            }\n            else\n                this.setupOverflow(overflow);\n            if (buffer.readBool())\n                buffer.skip(8);\n            this._buildingDisplayList = true;\n            buffer.seek(0, 1);\n            var controllerCount = buffer.readShort();\n            for (i = 0; i < controllerCount; i++) {\n                nextPos = buffer.readShort();\n                nextPos += buffer.position;\n                var controller = new fgui.Controller();\n                this._controllers.push(controller);\n                controller.parent = this;\n                controller.setup(buffer);\n                buffer.position = nextPos;\n            }\n            buffer.seek(0, 2);\n            var child;\n            var childCount = buffer.readShort();\n            for (i = 0; i < childCount; i++) {\n                dataLen = buffer.readShort();\n                curPos = buffer.position;\n                if (objectPool != null)\n                    child = objectPool[poolIndex + i];\n                else {\n                    buffer.seek(curPos, 0);\n                    var type = buffer.readByte();\n                    var src = buffer.readS();\n                    var pkgId = buffer.readS();\n                    var pi = null;\n                    if (src != null) {\n                        var pkg;\n                        if (pkgId != null)\n                            pkg = fgui.UIPackage.getById(pkgId);\n                        else\n                            pkg = this.packageItem.owner;\n                        pi = pkg != null ? pkg.getItemById(src) : null;\n                    }\n                    if (pi != null) {\n                        child = fgui.UIObjectFactory.newObject(pi);\n                        child.packageItem = pi;\n                        child.constructFromResource();\n                    }\n                    else\n                        child = fgui.UIObjectFactory.newObject2(type);\n                }\n                child._underConstruct = true;\n                child.setup_beforeAdd(buffer, curPos);\n                child._parent = this;\n                child.node.parent = this._container;\n                this._children.push(child);\n                if (child.name != \"\") {\n                    this._childrenHash[child.name] = child;\n                }\n                buffer.position = curPos + dataLen;\n            }\n            buffer.seek(0, 3);\n            this.relations.setup(buffer, true);\n            buffer.seek(0, 2);\n            buffer.skip(2);\n            for (i = 0; i < childCount; i++) {\n                nextPos = buffer.readShort();\n                nextPos += buffer.position;\n                buffer.seek(buffer.position, 3);\n                this._children[i].relations.setup(buffer, false);\n                buffer.position = nextPos;\n            }\n            buffer.seek(0, 2);\n            buffer.skip(2);\n            for (i = 0; i < childCount; i++) {\n                nextPos = buffer.readShort();\n                nextPos += buffer.position;\n                child = this._children[i];\n                child.setup_afterAdd(buffer, buffer.position);\n                child._underConstruct = false;\n                buffer.position = nextPos;\n            }\n            buffer.seek(0, 4);\n            buffer.skip(2);\n            this.opaque = buffer.readBool();\n            var maskId = buffer.readShort();\n            if (maskId != -1) {\n                this.setMask(this.getChildAt(maskId), buffer.readBool());\n            }\n            buffer.seek(0, 5);\n            var transitionCount = buffer.readShort();\n            for (i = 0; i < transitionCount; i++) {\n                nextPos = buffer.readShort();\n                nextPos += buffer.position;\n                var trans = new fgui.Transition(this);\n                trans.setup(buffer);\n                this._transitions.push(trans);\n                buffer.position = nextPos;\n            }\n            this.applyAllControllers();\n            this._buildingDisplayList = false;\n            this._underConstruct = false;\n            this.buildNativeDisplayList();\n            this.setBoundsChangedFlag();\n            if (this.packageItem.objectType != fgui.ObjectType.Component)\n                this.constructExtension(buffer);\n            this.onConstruct();\n        };\n        GComponent.prototype.constructExtension = function (buffer) {\n        };\n        GComponent.prototype.onConstruct = function () {\n        };\n        GComponent.prototype.setup_afterAdd = function (buffer, beginPos) {\n            _super.prototype.setup_afterAdd.call(this, buffer, beginPos);\n            buffer.seek(beginPos, 4);\n            var pageController = buffer.readShort();\n            if (pageController != null && this._scrollPane != null)\n                this._scrollPane.pageController = this._parent.getControllerAt(pageController);\n            var cnt = buffer.readShort();\n            for (var i = 0; i < cnt; i++) {\n                var cc = this.getController(buffer.readS());\n                var pageId = buffer.readS();\n                if (cc != null)\n                    cc.selectedPageId = pageId;\n            }\n            if (buffer.version >= 2) {\n                cnt = buffer.readShort();\n                for (i = 0; i < cnt; i++) {\n                    var target = buffer.readS();\n                    var propertyId = buffer.readShort();\n                    var value = buffer.readS();\n                    var obj = this.getChildByPath(target);\n                    if (obj)\n                        obj.setProp(propertyId, value);\n                }\n            }\n        };\n        GComponent.prototype.onEnable = function () {\n            var cnt = this._transitions.length;\n            for (var i = 0; i < cnt; ++i)\n                this._transitions[i].onEnable();\n        };\n        GComponent.prototype.onDisable = function () {\n            var cnt = this._transitions.length;\n            for (var i = 0; i < cnt; ++i)\n                this._transitions[i].onDisable();\n        };\n        return GComponent;\n    }(fgui.GObject));\n    fgui.GComponent = GComponent;\n})(fgui || (fgui = {}));\nvar UI;\n(function (UI) {\n    var ListOrientation;\n    (function (ListOrientation) {\n        ListOrientation[ListOrientation[\"HORIZONTAL\"] = 1] = \"HORIZONTAL\";\n        ListOrientation[ListOrientation[\"VERTICAL\"] = 2] = \"VERTICAL\";\n    })(ListOrientation = UI.ListOrientation || (UI.ListOrientation = {}));\n    var ListType;\n    (function (ListType) {\n        ListType[ListType[\"NORMAL\"] = 1] = \"NORMAL\";\n        ListType[ListType[\"PAGE\"] = 2] = \"PAGE\";\n    })(ListType = UI.ListType || (UI.ListType = {}));\n    var DragInfo = (function () {\n        function DragInfo() {\n            this.start = null;\n            this.last = null;\n            this.cur = null;\n            this.end = null;\n            this.minPos = null;\n            this.maxPos = new cc.Vec2(0, 0);\n        }\n        DragInfo.prototype.dragStart = function (pos) {\n            this.start = pos;\n            this.last = pos;\n            this.cur = pos;\n        };\n        DragInfo.prototype.dragMove = function (pos) {\n            this.last = this.cur;\n            this.cur = pos;\n        };\n        DragInfo.prototype.dragEnd = function (pos) {\n            this.end = pos;\n        };\n        DragInfo.prototype.getDelta = function () {\n            return new cc.Vec2(this.cur.x - this.last.x, this.cur.y - this.last.y);\n        };\n        DragInfo.prototype.cleanup = function () {\n            this.start = null;\n            this.end = null;\n        };\n        return DragInfo;\n    }());\n    var ListItem = (function () {\n        function ListItem() {\n            this.width = 0;\n            this.height = 0;\n            this.row = -1;\n            this.col = -1;\n            this.obj = null;\n            this.index = -1;\n            this.expired = true;\n            this.orientation = ListOrientation.VERTICAL;\n            this.hostList = null;\n            this.advance = 0;\n            this._x = -1;\n            this._y = -1;\n        }\n        ListItem.prototype.setExpire = function (b) {\n            if (this.expired == b)\n                return;\n            this.expired = b;\n            if (b) {\n                if (this.obj) {\n                    this.obj.off(fgui.Event.CLICK, this._onClick, this);\n                    this.obj.off(fgui.Event.TOUCH_BEGIN, this._onTouch, this);\n                    this.parent.removeChild(this.obj);\n                    this.pool.returnObject(this.obj);\n                    this.obj = null;\n                }\n            }\n            else {\n                var t1 = new Date().getTime();\n                this.obj = this.pool.getObject(\"\");\n                var t2 = new Date().getTime();\n                this._render();\n                var t3 = new Date().getTime();\n                this.hostList.profiler.getObject += t2 - t1;\n                this.hostList.profiler.renderItem += t3 - t2;\n                this.width = this.obj.width;\n                this.height = this.obj.height;\n                if (this._x >= 0 && this._y >= 0) {\n                    this.obj.setPosition(this._x, this._y);\n                }\n                this.parent.addChild(this.obj);\n                this.obj.on(fgui.Event.CLICK, this._onClick, this);\n                this.obj.on(fgui.Event.TOUCH_BEGIN, this._onTouch, this);\n            }\n        };\n        ListItem.prototype._render = function () {\n            this.obj.name = \"$index_\" + this.index;\n            this.itemRenderer(this.index, this.obj);\n        };\n        ListItem.prototype._onClick = function (evt) {\n            if (this.hostList) {\n                this.hostList.node.emit(fgui.Event.CLICK_ITEM, this.obj, evt);\n            }\n        };\n        ListItem.prototype._onTouch = function (evt) {\n            if (this.hostList) {\n                this.hostList.node.emit(fgui.Event.TOUCH, this.obj, evt);\n            }\n        };\n        ListItem.prototype.checkInView = function (vw, vh) {\n            var parent = this.parent;\n            var px = parent.x, py = parent.y;\n            if (this.orientation == ListOrientation.VERTICAL) {\n                var my = 0;\n                if (this.hostList) {\n                    my = this.hostList.getTotalSizeToRowOrCol(this.row) + this.advance;\n                }\n                else {\n                    my = this.row * (this.height + this.advance);\n                }\n                if (my + py + this.height > 0 &&\n                    my + py < vh) {\n                    return true;\n                }\n                else {\n                    return false;\n                }\n            }\n            else {\n                var mx = 0;\n                if (this.hostList) {\n                    mx = this.hostList.getTotalSizeToRowOrCol(this.col) + this.advance;\n                }\n                else {\n                    mx = this.col * (this.width + this.advance);\n                }\n                if (mx + px - this.width > 0 &&\n                    mx + px < vw) {\n                    return true;\n                }\n                else {\n                    return false;\n                }\n            }\n        };\n        Object.defineProperty(ListItem.prototype, \"x\", {\n            get: function () {\n                return this._x;\n            },\n            set: function (val) {\n                this._x = val;\n                if (this.obj) {\n                    this.obj.x = val;\n                }\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(ListItem.prototype, \"y\", {\n            get: function () {\n                return this._y;\n            },\n            set: function (val) {\n                this._y = val;\n                if (this.obj) {\n                    this.obj.y = val;\n                }\n            },\n            enumerable: false,\n            configurable: true\n        });\n        return ListItem;\n    }());\n    var VirtualList = (function (_super) {\n        __extends(VirtualList, _super);\n        function VirtualList(parent, holder) {\n            var _this = _super.call(this) || this;\n            _this.profiler = { getObject: 0, renderItem: 0 };\n            _this.name = \"$vlist\";\n            parent.addChild(_this);\n            holder.enabled = false;\n            _this.setPosition(holder.x, holder.y);\n            _this.setSize(holder.width, holder.height);\n            _this.addRelation(holder, fgui.RelationType.Width);\n            _this.addRelation(holder, fgui.RelationType.Height);\n            _this.displayListContainer.addComponent(cc.Mask);\n            _this._conf = {\n                orientation: ListOrientation.VERTICAL,\n                type: ListType.NORMAL,\n                xalign: fgui.AlignType.Center,\n                yalign: fgui.VertAlignType.Middle,\n                row: 1,\n                rowGap: 10,\n                col: 1,\n                colGap: 10,\n                itemSize: null,\n                itemClass: fgui.GObject,\n                itemPool: null,\n                itemRenderer: null,\n                inertia: true,\n                resilience: true,\n                loop: false,\n            };\n            _this._numItems = 0;\n            _this._listItems = [];\n            _this._headCursor = -1;\n            _this._tailCursor = -1;\n            _this._dragInfo = new DragInfo();\n            _this._itemHolder = new fgui.GComponent();\n            _this._itemHolder.name = \"$holder\";\n            _this.addChild(_this._itemHolder);\n            _this._itemHolder.setPosition(0, 0);\n            _this._itemHolder.setSize(0, 0);\n            var self = _this;\n            _this._itemHolder.hitTest = function (globalPt) {\n                var itemHolder = self._itemHolder;\n                var pt = itemHolder.node.convertToNodeSpaceAR(globalPt);\n                pt.x += itemHolder.node.anchorX * itemHolder._width;\n                pt.y += itemHolder.node.anchorY * itemHolder._height;\n                pt.y = itemHolder.height - pt.y;\n                if (pt.x + itemHolder.x > 0 && pt.x + itemHolder.x < self.width\n                    && pt.y + itemHolder.y > 0 && pt.y + itemHolder.y < self.height) {\n                    var children = itemHolder._children;\n                    var i = 0;\n                    var numChildren = children.length;\n                    for (; i < numChildren; ++i) {\n                        var target = children[i].hitTest(globalPt);\n                        if (target) {\n                            return target;\n                        }\n                    }\n                    return null;\n                }\n                else {\n                    return null;\n                }\n            };\n            _this._start = new cc.Vec2(0, 0);\n            _this._rowOrCol2Size = {};\n            _this._rowOrCol2TotalSize = {};\n            _this._itemHolder.on(fgui.Event.TOUCH_BEGIN, _this._onDragStart, _this);\n            _this._itemHolder.on(fgui.Event.TOUCH_MOVE, _this._onDragMove, _this);\n            _this._itemHolder.on(fgui.Event.TOUCH_END, _this._onDragEnd, _this);\n            _this._itemHolder.node.on(cc.Node.EventType.MOUSE_WHEEL, _this._onMouseWheel, _this);\n            return _this;\n        }\n        VirtualList.prototype.getTotalSizeToRowOrCol = function (idx) {\n            if (!this._rowOrCol2TotalSize[idx]) {\n                var ret = 0;\n                for (var i = 0; i < idx; ++i) {\n                    ret += this._rowOrCol2Size[i] || 0;\n                    if (i > 0) {\n                        if (this._conf.orientation == ListOrientation.VERTICAL) {\n                            ret += this._conf.rowGap;\n                        }\n                        else {\n                            ret += this._conf.colGap;\n                        }\n                    }\n                }\n                this._rowOrCol2TotalSize[idx] = ret;\n            }\n            return this._rowOrCol2TotalSize[idx];\n        };\n        VirtualList.prototype.enableEvent = function (b) {\n            if (b) {\n                this.node.resumeSystemEvents(true);\n            }\n            else {\n                this.node.pauseSystemEvents(true);\n            }\n        };\n        VirtualList.prototype.getItem = function (index) {\n            return this._listItems[index];\n        };\n        VirtualList.prototype.getLastItem = function () {\n            return this._listItems[this._numItems - 1];\n        };\n        Object.defineProperty(VirtualList.prototype, \"conf\", {\n            set: function (conf) {\n                var _this = this;\n                var keys = Object.keys(conf);\n                keys.forEach(function (k) {\n                    _this._conf[k] = conf[k];\n                });\n                this._calcMetaInfo();\n            },\n            enumerable: false,\n            configurable: true\n        });\n        VirtualList.prototype._calcMetaInfo = function () {\n            var conf = this._conf;\n            var orientation = conf.orientation, itemSize = conf.itemSize;\n            if (orientation == ListOrientation.VERTICAL) {\n                var col = conf.col;\n                var colGap = conf.colGap;\n                if (conf.xalign == fgui.AlignType.Center) {\n                    this._start.x = (this.width - itemSize.width * col - colGap * (col - 1)) / 2;\n                }\n                else if (conf.xalign == fgui.AlignType.Left) {\n                    this._start.x = 0;\n                }\n                else {\n                    this._start.x = this.width - itemSize.width * col - colGap * (col - 1);\n                }\n                if (this._itemHolder.width == 0) {\n                    this._itemHolder.setSize(this.width, 0);\n                }\n            }\n            else {\n                var row = conf.row;\n                var rowGap = conf.rowGap;\n                if (conf.yalign == fgui.VertAlignType.Middle) {\n                    this._start.y = (this.height - itemSize.height * row - rowGap * (row - 1)) / 2;\n                }\n                else if (conf.yalign == fgui.VertAlignType.Top) {\n                    this._start.y = 0;\n                }\n                else {\n                    this._start.y = this.height - itemSize.height * row - rowGap * (row - 1);\n                }\n                if (this._itemHolder.height == 0) {\n                    this._itemHolder.setSize(0, this.height);\n                }\n            }\n        };\n        VirtualList.prototype._calcNumItemInfo = function () {\n            var numItems = this._numItems;\n            if (this._conf.orientation == ListOrientation.VERTICAL) {\n                this._totalRow = Math.ceil(numItems / this._conf.col);\n                this._itemHolder.setSize(this.width, this._conf.itemSize.height * this._totalRow + this._conf.rowGap * (this._totalRow - 1));\n                this._dragInfo.minPos = new cc.Vec2(0, Math.min(0, -(this._itemHolder.height - this.height)));\n            }\n            else {\n                this._totalCol = Math.ceil(numItems / this._conf.row);\n                this._itemHolder.setSize(this._conf.itemSize.width * this._totalCol + this._conf.colGap * (this._totalCol - 1), this.height);\n                this._dragInfo.minPos = new cc.Vec2(Math.min(0, -(this._itemHolder.width - this.width)), 0);\n            }\n        };\n        VirtualList.prototype._expireItemsWithSameRowOrCol = function (item, expired) {\n            var orientation = this._conf.orientation;\n            var itemSize = this._conf.itemSize;\n            var self = this;\n            function adjustPos(item) {\n                if (item.x < 0 || item.y < 0) {\n                    var rowOrColIdx = -1;\n                    var itemWidthOrHeight = -1;\n                    if (item.index == 0) {\n                        item.x = self._start.x;\n                        item.y = self._start.y;\n                        if (orientation == ListOrientation.VERTICAL) {\n                            self._itemHolder.height += item.height - itemSize.height;\n                            self._dragInfo.minPos.y = Math.min(0, -(self._itemHolder.height - self.height));\n                            rowOrColIdx = item.row;\n                            itemWidthOrHeight = item.height;\n                        }\n                        else {\n                            self._itemHolder.width += item.width - itemSize.width;\n                            self._dragInfo.minPos.x = Math.min(0, -(self._itemHolder.width - self.width));\n                            rowOrColIdx = item.col;\n                            itemWidthOrHeight = item.width;\n                        }\n                    }\n                    else {\n                        var prevItem = self._listItems[item.index - 1];\n                        if (orientation == ListOrientation.VERTICAL) {\n                            if (prevItem.row == item.row) {\n                                item.x = prevItem.x + prevItem.width + self._conf.colGap;\n                                item.y = prevItem.y;\n                            }\n                            else {\n                                item.x = self._start.x;\n                                item.y = prevItem.y + self._rowOrCol2Size[prevItem.row] + self._conf.rowGap;\n                                self._itemHolder.height += item.height - itemSize.height;\n                                self._dragInfo.minPos.y = Math.min(0, -(self._itemHolder.height - self.height));\n                            }\n                            rowOrColIdx = item.row;\n                            itemWidthOrHeight = item.height;\n                        }\n                        else {\n                            if (prevItem.col == item.col) {\n                                item.x = prevItem.x;\n                                item.y = prevItem.y + prevItem.height + self._conf.rowGap;\n                            }\n                            else {\n                                item.x = prevItem.x + self._rowOrCol2Size[prevItem.col] + self._conf.colGap;\n                                item.y = self._start.y;\n                                self._itemHolder.width += item.width - itemSize.width;\n                                self._dragInfo.minPos.x = Math.min(0, -(self._itemHolder.width - self.width));\n                            }\n                            rowOrColIdx = item.col;\n                            itemWidthOrHeight = item.width;\n                        }\n                    }\n                    var size = self._rowOrCol2Size[rowOrColIdx] || 0;\n                    self._rowOrCol2Size[rowOrColIdx] = Math.max(size, itemWidthOrHeight);\n                }\n            }\n            function handle(idx) {\n                var li = self._listItems[idx];\n                if (!li) {\n                    return false;\n                }\n                if (li.expired == false && expired == false)\n                    return true;\n                if (orientation == ListOrientation.VERTICAL) {\n                    if (li.row == item.row) {\n                        li.setExpire(expired);\n                        if (!expired) {\n                            adjustPos(li);\n                        }\n                        return true;\n                    }\n                    else {\n                        return false;\n                    }\n                }\n                else {\n                    if (li.col == item.col) {\n                        li.setExpire(expired);\n                        if (!expired) {\n                            adjustPos(li);\n                        }\n                        return true;\n                    }\n                    else {\n                        return false;\n                    }\n                }\n            }\n            handle(item.index);\n            if (orientation == ListOrientation.VERTICAL && this._conf.col == 1)\n                return;\n            else if (orientation == ListOrientation.HORIZONTAL && this._conf.row == 1)\n                return;\n            var i = item.index - 1;\n            for (; i >= 0; --i) {\n                if (!handle(i)) {\n                    break;\n                }\n            }\n            i = item.index + 1;\n            for (; i < this._numItems; ++i) {\n                if (!handle(i)) {\n                    break;\n                }\n            }\n        };\n        VirtualList.prototype._checkList = function () {\n            var orientation = this._conf.orientation;\n            var vw = this.width;\n            var vh = this.height;\n            var itemSize = this._conf.itemSize;\n            var realWidth = 0, realHeight = 0;\n            var sizeDirty = false;\n            var row = this._conf.row, col = this._conf.col;\n            var numItems = this._numItems;\n            var step = 0, step1;\n            if (orientation == ListOrientation.VERTICAL) {\n                step = col;\n                step1 = this._totalRow;\n            }\n            else {\n                step = row;\n                step1 = this._totalCol;\n            }\n            function moveHeadForwardCursor(i) {\n                return i + step;\n            }\n            function moveHeadBackwardCursor(i) {\n                return i - step;\n            }\n            function moveTailForwardCursor(i) {\n                return Math.min(numItems, i + step);\n            }\n            function moveTailBackwardCursor(i) {\n                if (orientation == ListOrientation.VERTICAL) {\n                    return Math.floor((i - col) / col) * (row - 1) + col;\n                }\n                else {\n                    return Math.floor((i - row) / row) * (col - 1) + row;\n                }\n            }\n            if (this._headCursor < 0 || this._tailCursor < 0) {\n                this._headCursor = this._tailCursor = 0;\n                var i = 0;\n                for (; i < this._numItems; ++i) {\n                    var li = this._listItems[i];\n                    if (i == 0 || li.checkInView(vw, vh)) {\n                        if (li.expired) {\n                            this._expireItemsWithSameRowOrCol(li, false);\n                        }\n                        this._headCursor = Math.min(this._headCursor, i);\n                        this._tailCursor = Math.max(this._tailCursor, i);\n                        if (itemSize.width != li.width || itemSize.height != li.height) {\n                            sizeDirty = true;\n                            realWidth = li.width;\n                            realHeight = li.height;\n                        }\n                        if (sizeDirty) {\n                            var j = i, cnt = this._listItems.length;\n                            for (; j < cnt; ++j) {\n                                var li_1 = this._listItems[j];\n                                li_1.width = realWidth;\n                                li_1.height = realHeight;\n                            }\n                            sizeDirty = false;\n                        }\n                    }\n                    else {\n                        break;\n                    }\n                }\n            }\n            else {\n                var i1 = this._headCursor;\n                for (; i1 < this._numItems;) {\n                    var li = this._listItems[i1];\n                    if (li.checkInView(vw, vh)) {\n                        this._expireItemsWithSameRowOrCol(li, false);\n                        this._headCursor = i1;\n                        break;\n                    }\n                    else {\n                        this._expireItemsWithSameRowOrCol(li, true);\n                        i1 = moveHeadForwardCursor(i1);\n                    }\n                }\n                var firstHitInViewItem = false;\n                var i2 = this._headCursor;\n                for (; i2 >= 0;) {\n                    var li = this._listItems[i2];\n                    if (li.checkInView(vw, vh)) {\n                        this._expireItemsWithSameRowOrCol(li, false);\n                        this._headCursor = i2;\n                        firstHitInViewItem = true;\n                    }\n                    else {\n                        this._expireItemsWithSameRowOrCol(li, true);\n                        if (firstHitInViewItem) {\n                            break;\n                        }\n                    }\n                    i2 = moveHeadBackwardCursor(i2);\n                }\n                var i3 = Math.floor(this._tailCursor / step) * step;\n                for (; i3 >= 0;) {\n                    var li = this._listItems[i3];\n                    if (li.checkInView(vw, vh)) {\n                        this._expireItemsWithSameRowOrCol(li, false);\n                        this._tailCursor = Math.min(numItems - 1, i3 + step - 1);\n                        break;\n                    }\n                    else {\n                        this._expireItemsWithSameRowOrCol(li, true);\n                        i3 = moveHeadBackwardCursor(i3);\n                    }\n                }\n                firstHitInViewItem = false;\n                var i4 = Math.floor(this._tailCursor / step) * step;\n                for (; i4 < this._numItems;) {\n                    var li = this._listItems[i4];\n                    if (li.checkInView(vw, vh)) {\n                        this._expireItemsWithSameRowOrCol(li, false);\n                        this._tailCursor = Math.min(numItems - 1, i4 + step - 1);\n                        firstHitInViewItem = true;\n                    }\n                    else {\n                        this._expireItemsWithSameRowOrCol(li, true);\n                        if (firstHitInViewItem) {\n                            break;\n                        }\n                    }\n                    i4 = moveHeadForwardCursor(i4);\n                }\n            }\n        };\n        Object.defineProperty(VirtualList.prototype, \"numItems\", {\n            get: function () {\n                return this._numItems;\n            },\n            set: function (n) {\n                if (!this._conf.itemRenderer) {\n                    throw Error(\"You have to provide item renderer callback func!!\");\n                }\n                if (!this._conf.itemPool) {\n                    throw Error(\"You have to provide item pool object!!\");\n                }\n                if (n < 0) {\n                    throw Error(\"are you kidding me?\");\n                }\n                if (this._numItems != n) {\n                    var conf = this._conf;\n                    var oldNum = this._listItems.length;\n                    this._numItems = n;\n                    var col = conf.col, row = conf.row;\n                    var isVertical = conf.orientation == ListOrientation.VERTICAL;\n                    if (oldNum < this._numItems) {\n                        for (var i = oldNum; i < this._numItems; ++i) {\n                            var item = new ListItem();\n                            item.width = conf.itemSize.width;\n                            item.height = conf.itemSize.height;\n                            item.pool = conf.itemPool;\n                            item.parent = this._itemHolder;\n                            item.index = i;\n                            item.itemRenderer = conf.itemRenderer;\n                            item.orientation = conf.orientation;\n                            item.hostList = this;\n                            if (isVertical) {\n                                item.row = Math.floor(i / col);\n                                item.col = i % col;\n                                item.advance = this._conf.rowGap;\n                            }\n                            else {\n                                item.row = i % row;\n                                item.col = Math.floor(i / row);\n                                item.advance = this._conf.colGap;\n                            }\n                            this._listItems.push(item);\n                        }\n                    }\n                    else {\n                        for (var i = this._numItems; i < oldNum; ++i) {\n                            var item = this._listItems[i];\n                            if (item) {\n                                item.setExpire(true);\n                                item.x = -1;\n                                item.y = -1;\n                            }\n                        }\n                        if (this._numItems == 0) {\n                            this._reset();\n                            return;\n                        }\n                    }\n                    this._calcNumItemInfo();\n                    this._checkList();\n                }\n            },\n            enumerable: false,\n            configurable: true\n        });\n        VirtualList.prototype._reset = function () {\n            this._listItems = [];\n            this._headCursor = this._tailCursor = -1;\n            this._itemHolder.setPosition(0, 0);\n            this._dragInfo.minPos = null;\n            this.profiler.getObject = this.profiler.renderItem = 0;\n            this._rowOrCol2Size = {};\n            this._rowOrCol2TotalSize = {};\n        };\n        VirtualList.prototype._onMouseWheel = function (evt) {\n            console.log(\"virtual list mouse wheel1\", evt);\n            var scroll = evt.getScrollY() / Math.abs(evt.getScrollY()) * 120 * 0.10;\n            this._moveListByOffset(new cc.Vec2(0, scroll));\n            this._rollBack();\n            evt.stopPropagation();\n        };\n        VirtualList.prototype._onDragStart = function (evt) {\n            var touch = evt.touch;\n            if (this.numItems <= 0 || !touch)\n                return;\n            this._dragInfo.dragStart(touch.getLocation());\n            evt.captureTouch();\n            egret.Tween.removeTweens(this._itemHolder);\n        };\n        VirtualList.prototype._moveListByOffset = function (offset) {\n            if (this._conf.orientation == ListOrientation.VERTICAL) {\n                var diffy = -offset.y / fgui.GRoot.contentScaleFactor;\n                if (diffy != 0) {\n                    if (this._conf.resilience) {\n                        var y = this._itemHolder.y + diffy;\n                        if (y > this._dragInfo.maxPos.y) {\n                            this._itemHolder.y = this._itemHolder.y + diffy / 3;\n                        }\n                        else if (y < this._dragInfo.minPos.y) {\n                            this._itemHolder.y = this._itemHolder.y + diffy / 3;\n                        }\n                        else {\n                            this._itemHolder.y = y;\n                            this._checkList();\n                        }\n                    }\n                    else {\n                        var y = this._itemHolder.y + diffy;\n                        this._itemHolder.y = Math.min(Math.max(this._dragInfo.minPos.y, y), this._dragInfo.maxPos.y);\n                        this._checkList();\n                    }\n                }\n            }\n            else {\n                var diffx = -offset.x / fgui.GRoot.contentScaleFactor;\n                if (diffx != 0) {\n                    if (this._conf.resilience) {\n                        var x = this._itemHolder.y + diffx;\n                        if (x > this._dragInfo.maxPos.x) {\n                            this._itemHolder.x = this._itemHolder.x + diffx / 3;\n                        }\n                        else if (x < this._dragInfo.minPos.y) {\n                            this._itemHolder.x = this._itemHolder.x + diffx / 3;\n                        }\n                        else {\n                            this._itemHolder.x = x;\n                            this._checkList();\n                        }\n                    }\n                    else {\n                        var x = this._itemHolder.x + diffx;\n                        this._itemHolder.x = Math.min(Math.max(this._dragInfo.minPos.x, x), this._dragInfo.maxPos.x);\n                        this._checkList();\n                    }\n                }\n            }\n        };\n        VirtualList.prototype._onDragMove = function (evt) {\n            var touch = evt.touch;\n            if (this.numItems <= 0 || !touch)\n                return;\n            this._dragInfo.dragMove(touch.getLocation());\n            this._moveListByOffset(this._dragInfo.getDelta());\n        };\n        VirtualList.prototype._onDragEnd = function (evt) {\n            var touch = evt.touch;\n            if (this.numItems <= 0 || !touch)\n                return;\n            this._dragInfo.dragEnd(touch.getLocation());\n            this._rollBack();\n            this._dragInfo.cleanup();\n        };\n        VirtualList.prototype._rollBack = function () {\n            if (this._conf.resilience) {\n                if (this._conf.orientation == ListOrientation.VERTICAL) {\n                    var y = this._itemHolder.y;\n                    if (y > this._dragInfo.maxPos.y) {\n                        egret.Tween.get(this._itemHolder).to({ y: this._dragInfo.maxPos.y }, 100);\n                    }\n                    else if (y < this._dragInfo.minPos.y) {\n                        egret.Tween.get(this._itemHolder).to({ y: this._dragInfo.minPos.y }, 100);\n                    }\n                }\n                else {\n                    var x = this._itemHolder.x;\n                    if (x > this._dragInfo.maxPos.x) {\n                        egret.Tween.get(this._itemHolder).to({ x: this._dragInfo.maxPos.x }, 100);\n                    }\n                    else if (x < this._dragInfo.minPos.x) {\n                        egret.Tween.get(this._itemHolder).to({ x: this._dragInfo.minPos.x }, 100);\n                    }\n                }\n            }\n        };\n        VirtualList.prototype.scrollToView = function (idx) {\n            if (this.numItems <= 0)\n                return;\n            var targetCursor = 0, maxTailCursor = this._numItems - 1, orientation = this._conf.orientation;\n            if (orientation == ListOrientation.VERTICAL) {\n                targetCursor = idx / this._conf.col;\n            }\n            else {\n                targetCursor = idx / this._conf.row;\n            }\n            this._checkList();\n            if (this._headCursor < targetCursor) {\n                while (this._headCursor < targetCursor && this._tailCursor < maxTailCursor) {\n                    var item = this._listItems[this._headCursor];\n                    if (orientation == ListOrientation.VERTICAL) {\n                        this._moveListByOffset(cc.v2(0, (item.height + this._conf.rowGap) * fgui.GRoot.contentScaleFactor));\n                    }\n                    else {\n                        this._moveListByOffset(cc.v2((item.width + this._conf.colGap) * fgui.GRoot.contentScaleFactor, 0));\n                    }\n                    this._checkList();\n                }\n                if (this._tailCursor == maxTailCursor && idx == maxTailCursor) {\n                    if (orientation == ListOrientation.VERTICAL) {\n                        this._itemHolder.y = this._dragInfo.minPos.y;\n                    }\n                    else {\n                        this._itemHolder.x = this._dragInfo.minPos.x;\n                    }\n                }\n            }\n            else if (this._headCursor > targetCursor) {\n                while (this._headCursor > targetCursor && this._headCursor > 0) {\n                    var item = this._listItems[this._headCursor - 1];\n                    if (orientation == ListOrientation.VERTICAL) {\n                        this._moveListByOffset(cc.v2(0, -(item.height + this._conf.rowGap) * fgui.GRoot.contentScaleFactor));\n                    }\n                    else {\n                        this._moveListByOffset(cc.v2(-(item.width + this._conf.colGap) * fgui.GRoot.contentScaleFactor, 0));\n                    }\n                    this._checkList();\n                }\n                if (this._headCursor == 0) {\n                    if (orientation == ListOrientation.VERTICAL) {\n                        this._itemHolder.y = this._dragInfo.maxPos.y;\n                    }\n                    else {\n                        this._itemHolder.x = this._dragInfo.maxPos.x;\n                    }\n                }\n                else if (this._headCursor == targetCursor) {\n                    if (orientation == ListOrientation.VERTICAL) {\n                        var y = this._listItems[targetCursor].y;\n                        var offset = this._itemHolder.y + y;\n                        this._moveListByOffset(cc.v2(0, offset * fgui.GRoot.contentScaleFactor));\n                    }\n                    else {\n                        var x = this._listItems[targetCursor].x;\n                        var offset = this._itemHolder.x + x;\n                        this._moveListByOffset(cc.v2(offset * fgui.GRoot.contentScaleFactor, 0));\n                    }\n                    this._checkList();\n                }\n            }\n            else {\n                if (orientation == ListOrientation.VERTICAL) {\n                    var y = this._listItems[targetCursor].y;\n                    var offset = this._itemHolder.y + y;\n                    this._moveListByOffset(cc.v2(0, offset * fgui.GRoot.contentScaleFactor));\n                }\n                else {\n                    var x = this._listItems[targetCursor].x;\n                    var offset = this._itemHolder.x + x;\n                    this._moveListByOffset(cc.v2(offset * fgui.GRoot.contentScaleFactor, 0));\n                }\n                this._checkList();\n            }\n        };\n        VirtualList.prototype._cleanupItems = function () {\n            this._listItems.forEach(function (item) {\n                item.setExpire(true);\n            });\n            this._listItems = [];\n            this._tailCursor = this._headCursor = 0;\n            this.profiler.getObject = this.profiler.renderItem = 0;\n        };\n        VirtualList.prototype.dispose = function () {\n            this._cleanupItems();\n            _super.prototype.dispose.call(this);\n        };\n        return VirtualList;\n    }(fgui.GComponent));\n    UI.VirtualList = VirtualList;\n})(UI || (UI = {}));\nvar egret;\n(function (egret) {\n    var Endian = (function () {\n        function Endian() {\n        }\n        Endian.LITTLE_ENDIAN = \"littleEndian\";\n        Endian.BIG_ENDIAN = \"bigEndian\";\n        return Endian;\n    }());\n    egret.Endian = Endian;\n    var ByteArray = (function () {\n        function ByteArray(buffer, bufferExtSize) {\n            if (bufferExtSize === void 0) { bufferExtSize = 0; }\n            this.bufferExtSize = 0;\n            this.EOF_byte = -1;\n            this.EOF_code_point = -1;\n            if (bufferExtSize < 0) {\n                bufferExtSize = 0;\n            }\n            this.bufferExtSize = bufferExtSize;\n            var bytes, wpos = 0;\n            if (buffer) {\n                var uint8 = void 0;\n                if (buffer instanceof Uint8Array) {\n                    uint8 = buffer;\n                    wpos = buffer.length;\n                }\n                else {\n                    wpos = buffer.byteLength;\n                    uint8 = new Uint8Array(buffer);\n                }\n                if (bufferExtSize == 0) {\n                    bytes = new Uint8Array(wpos);\n                }\n                else {\n                    var multi = (wpos / bufferExtSize | 0) + 1;\n                    bytes = new Uint8Array(multi * bufferExtSize);\n                }\n                bytes.set(uint8);\n            }\n            else {\n                bytes = new Uint8Array(bufferExtSize);\n            }\n            this.write_position = wpos;\n            this._position = 0;\n            this._bytes = bytes;\n            this.data = new DataView(bytes.buffer);\n            this.endian = Endian.BIG_ENDIAN;\n        }\n        Object.defineProperty(ByteArray.prototype, \"endian\", {\n            get: function () {\n                return this.$endian == 0 ? Endian.LITTLE_ENDIAN : Endian.BIG_ENDIAN;\n            },\n            set: function (value) {\n                this.$endian = value == Endian.LITTLE_ENDIAN ? 0 : 1;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        ByteArray.prototype.setArrayBuffer = function (buffer) {\n        };\n        Object.defineProperty(ByteArray.prototype, \"readAvailable\", {\n            get: function () {\n                return this.write_position - this._position;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(ByteArray.prototype, \"buffer\", {\n            get: function () {\n                return this.data.buffer.slice(0, this.write_position);\n            },\n            set: function (value) {\n                var wpos = value.byteLength;\n                var uint8 = new Uint8Array(value);\n                var bufferExtSize = this.bufferExtSize;\n                var bytes;\n                if (bufferExtSize == 0) {\n                    bytes = new Uint8Array(wpos);\n                }\n                else {\n                    var multi = (wpos / bufferExtSize | 0) + 1;\n                    bytes = new Uint8Array(multi * bufferExtSize);\n                }\n                bytes.set(uint8);\n                this.write_position = wpos;\n                this._bytes = bytes;\n                this.data = new DataView(bytes.buffer);\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(ByteArray.prototype, \"rawBuffer\", {\n            get: function () {\n                return this.data.buffer;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(ByteArray.prototype, \"bytes\", {\n            get: function () {\n                return this._bytes;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(ByteArray.prototype, \"dataView\", {\n            get: function () {\n                return this.data;\n            },\n            set: function (value) {\n                this.buffer = value.buffer;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(ByteArray.prototype, \"bufferOffset\", {\n            get: function () {\n                return this.data.byteOffset;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(ByteArray.prototype, \"position\", {\n            get: function () {\n                return this._position;\n            },\n            set: function (value) {\n                this._position = value;\n                if (value > this.write_position) {\n                    this.write_position = value;\n                }\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(ByteArray.prototype, \"length\", {\n            get: function () {\n                return this.write_position;\n            },\n            set: function (value) {\n                this.write_position = value;\n                if (this.data.byteLength > value) {\n                    this._position = value;\n                }\n                this._validateBuffer(value);\n            },\n            enumerable: false,\n            configurable: true\n        });\n        ByteArray.prototype._validateBuffer = function (value) {\n            if (this.data.byteLength < value) {\n                var be = this.bufferExtSize;\n                var tmp = void 0;\n                if (be == 0) {\n                    tmp = new Uint8Array(value);\n                }\n                else {\n                    var nLen = ((value / be >> 0) + 1) * be;\n                    tmp = new Uint8Array(nLen);\n                }\n                tmp.set(this._bytes);\n                this._bytes = tmp;\n                this.data = new DataView(tmp.buffer);\n            }\n        };\n        Object.defineProperty(ByteArray.prototype, \"bytesAvailable\", {\n            get: function () {\n                return this.data.byteLength - this._position;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        ByteArray.prototype.clear = function () {\n            var buffer = new ArrayBuffer(this.bufferExtSize);\n            this.data = new DataView(buffer);\n            this._bytes = new Uint8Array(buffer);\n            this._position = 0;\n            this.write_position = 0;\n        };\n        ByteArray.prototype.readBoolean = function () {\n            if (this.validate(1))\n                return !!this._bytes[this.position++];\n        };\n        ByteArray.prototype.readByte = function () {\n            if (this.validate(1))\n                return this.data.getInt8(this.position++);\n        };\n        ByteArray.prototype.readBytes = function (bytes, offset, length) {\n            if (offset === void 0) { offset = 0; }\n            if (length === void 0) { length = 0; }\n            if (!bytes) {\n                return;\n            }\n            var pos = this._position;\n            var available = this.write_position - pos;\n            if (available < 0) {\n                egret.$error(1025);\n                return;\n            }\n            if (length == 0) {\n                length = available;\n            }\n            else if (length > available) {\n                egret.$error(1025);\n                return;\n            }\n            var position = bytes._position;\n            bytes._position = 0;\n            bytes.validateBuffer(offset + length);\n            bytes._position = position;\n            bytes._bytes.set(this._bytes.subarray(pos, pos + length), offset);\n            this.position += length;\n        };\n        ByteArray.prototype.readDouble = function () {\n            if (this.validate(8)) {\n                var value = this.data.getFloat64(this._position, this.$endian == 0);\n                this.position += 8;\n                return value;\n            }\n        };\n        ByteArray.prototype.readFloat = function () {\n            if (this.validate(4)) {\n                var value = this.data.getFloat32(this._position, this.$endian == 0);\n                this.position += 4;\n                return value;\n            }\n        };\n        ByteArray.prototype.readInt = function () {\n            if (this.validate(4)) {\n                var value = this.data.getInt32(this._position, this.$endian == 0);\n                this.position += 4;\n                return value;\n            }\n        };\n        ByteArray.prototype.readShort = function () {\n            if (this.validate(2)) {\n                var value = this.data.getInt16(this._position, this.$endian == 0);\n                this.position += 2;\n                return value;\n            }\n        };\n        ByteArray.prototype.readUnsignedByte = function () {\n            if (this.validate(1))\n                return this._bytes[this.position++];\n        };\n        ByteArray.prototype.readUnsignedInt = function () {\n            if (this.validate(4)) {\n                var value = this.data.getUint32(this._position, this.$endian == 0);\n                this.position += 4;\n                return value;\n            }\n        };\n        ByteArray.prototype.readUnsignedShort = function () {\n            if (this.validate(2)) {\n                var value = this.data.getUint16(this._position, this.$endian == 0);\n                this.position += 2;\n                return value;\n            }\n        };\n        ByteArray.prototype.readUTF = function () {\n            var length = this.readUnsignedShort();\n            if (length > 0) {\n                return this.readUTFBytes(length);\n            }\n            else {\n                return \"\";\n            }\n        };\n        ByteArray.prototype.readUTFBytes = function (length) {\n            if (!this.validate(length)) {\n                return;\n            }\n            var data = this.data;\n            var bytes = new Uint8Array(data.buffer, data.byteOffset + this._position, length);\n            this.position += length;\n            return this.decodeUTF8(bytes);\n        };\n        ByteArray.prototype.writeBoolean = function (value) {\n            this.validateBuffer(1);\n            this._bytes[this.position++] = +value;\n        };\n        ByteArray.prototype.writeByte = function (value) {\n            this.validateBuffer(1);\n            this._bytes[this.position++] = value & 0xff;\n        };\n        ByteArray.prototype.writeBytes = function (bytes, offset, length) {\n            if (offset === void 0) { offset = 0; }\n            if (length === void 0) { length = 0; }\n            var writeLength;\n            if (offset < 0) {\n                return;\n            }\n            if (length < 0) {\n                return;\n            }\n            else if (length == 0) {\n                writeLength = bytes.length - offset;\n            }\n            else {\n                writeLength = Math.min(bytes.length - offset, length);\n            }\n            if (writeLength > 0) {\n                this.validateBuffer(writeLength);\n                this._bytes.set(bytes._bytes.subarray(offset, offset + writeLength), this._position);\n                this.position = this._position + writeLength;\n            }\n        };\n        ByteArray.prototype.writeDouble = function (value) {\n            this.validateBuffer(8);\n            this.data.setFloat64(this._position, value, this.$endian == 0);\n            this.position += 8;\n        };\n        ByteArray.prototype.writeFloat = function (value) {\n            this.validateBuffer(4);\n            this.data.setFloat32(this._position, value, this.$endian == 0);\n            this.position += 4;\n        };\n        ByteArray.prototype.writeInt = function (value) {\n            this.validateBuffer(4);\n            this.data.setInt32(this._position, value, this.$endian == 0);\n            this.position += 4;\n        };\n        ByteArray.prototype.writeShort = function (value) {\n            this.validateBuffer(2);\n            this.data.setInt16(this._position, value, this.$endian == 0);\n            this.position += 2;\n        };\n        ByteArray.prototype.writeUnsignedInt = function (value) {\n            this.validateBuffer(4);\n            this.data.setUint32(this._position, value, this.$endian == 0);\n            this.position += 4;\n        };\n        ByteArray.prototype.writeUnsignedShort = function (value) {\n            this.validateBuffer(2);\n            this.data.setUint16(this._position, value, this.$endian == 0);\n            this.position += 2;\n        };\n        ByteArray.prototype.writeUTF = function (value) {\n            var utf8bytes = this.encodeUTF8(value);\n            var length = utf8bytes.length;\n            this.validateBuffer(2 + length);\n            this.data.setUint16(this._position, length, this.$endian == 0);\n            this.position += 2;\n            this._writeUint8Array(utf8bytes, false);\n        };\n        ByteArray.prototype.writeUTFBytes = function (value) {\n            this._writeUint8Array(this.encodeUTF8(value));\n        };\n        ByteArray.prototype.toString = function () {\n            return \"[ByteArray] length:\" + this.length + \", bytesAvailable:\" + this.bytesAvailable;\n        };\n        ByteArray.prototype._writeUint8Array = function (bytes, validateBuffer) {\n            if (validateBuffer === void 0) { validateBuffer = true; }\n            var pos = this._position;\n            var npos = pos + bytes.length;\n            if (validateBuffer) {\n                this.validateBuffer(npos);\n            }\n            this.bytes.set(bytes, pos);\n            this.position = npos;\n        };\n        ByteArray.prototype.validate = function (len) {\n            var bl = this._bytes.length;\n            if (bl > 0 && this._position + len <= bl) {\n                return true;\n            }\n            else {\n                egret.$error(1025);\n            }\n        };\n        ByteArray.prototype.validateBuffer = function (len) {\n            this.write_position = len > this.write_position ? len : this.write_position;\n            len += this._position;\n            this._validateBuffer(len);\n        };\n        ByteArray.prototype.encodeUTF8 = function (str) {\n            var pos = 0;\n            var codePoints = this.stringToCodePoints(str);\n            var outputBytes = [];\n            while (codePoints.length > pos) {\n                var code_point = codePoints[pos++];\n                if (this.inRange(code_point, 0xD800, 0xDFFF)) {\n                    this.encoderError(code_point);\n                }\n                else if (this.inRange(code_point, 0x0000, 0x007f)) {\n                    outputBytes.push(code_point);\n                }\n                else {\n                    var count = void 0, offset = void 0;\n                    if (this.inRange(code_point, 0x0080, 0x07FF)) {\n                        count = 1;\n                        offset = 0xC0;\n                    }\n                    else if (this.inRange(code_point, 0x0800, 0xFFFF)) {\n                        count = 2;\n                        offset = 0xE0;\n                    }\n                    else if (this.inRange(code_point, 0x10000, 0x10FFFF)) {\n                        count = 3;\n                        offset = 0xF0;\n                    }\n                    outputBytes.push(this.div(code_point, Math.pow(64, count)) + offset);\n                    while (count > 0) {\n                        var temp = this.div(code_point, Math.pow(64, count - 1));\n                        outputBytes.push(0x80 + (temp % 64));\n                        count -= 1;\n                    }\n                }\n            }\n            return new Uint8Array(outputBytes);\n        };\n        ByteArray.prototype.decodeUTF8 = function (data) {\n            var fatal = false;\n            var pos = 0;\n            var result = \"\";\n            var code_point;\n            var utf8_code_point = 0;\n            var utf8_bytes_needed = 0;\n            var utf8_bytes_seen = 0;\n            var utf8_lower_boundary = 0;\n            while (data.length > pos) {\n                var _byte = data[pos++];\n                if (_byte == this.EOF_byte) {\n                    if (utf8_bytes_needed != 0) {\n                        code_point = this.decoderError(fatal);\n                    }\n                    else {\n                        code_point = this.EOF_code_point;\n                    }\n                }\n                else {\n                    if (utf8_bytes_needed == 0) {\n                        if (this.inRange(_byte, 0x00, 0x7F)) {\n                            code_point = _byte;\n                        }\n                        else {\n                            if (this.inRange(_byte, 0xC2, 0xDF)) {\n                                utf8_bytes_needed = 1;\n                                utf8_lower_boundary = 0x80;\n                                utf8_code_point = _byte - 0xC0;\n                            }\n                            else if (this.inRange(_byte, 0xE0, 0xEF)) {\n                                utf8_bytes_needed = 2;\n                                utf8_lower_boundary = 0x800;\n                                utf8_code_point = _byte - 0xE0;\n                            }\n                            else if (this.inRange(_byte, 0xF0, 0xF4)) {\n                                utf8_bytes_needed = 3;\n                                utf8_lower_boundary = 0x10000;\n                                utf8_code_point = _byte - 0xF0;\n                            }\n                            else {\n                                this.decoderError(fatal);\n                            }\n                            utf8_code_point = utf8_code_point * Math.pow(64, utf8_bytes_needed);\n                            code_point = null;\n                        }\n                    }\n                    else if (!this.inRange(_byte, 0x80, 0xBF)) {\n                        utf8_code_point = 0;\n                        utf8_bytes_needed = 0;\n                        utf8_bytes_seen = 0;\n                        utf8_lower_boundary = 0;\n                        pos--;\n                        code_point = this.decoderError(fatal, _byte);\n                    }\n                    else {\n                        utf8_bytes_seen += 1;\n                        utf8_code_point = utf8_code_point + (_byte - 0x80) * Math.pow(64, utf8_bytes_needed - utf8_bytes_seen);\n                        if (utf8_bytes_seen !== utf8_bytes_needed) {\n                            code_point = null;\n                        }\n                        else {\n                            var cp = utf8_code_point;\n                            var lower_boundary = utf8_lower_boundary;\n                            utf8_code_point = 0;\n                            utf8_bytes_needed = 0;\n                            utf8_bytes_seen = 0;\n                            utf8_lower_boundary = 0;\n                            if (this.inRange(cp, lower_boundary, 0x10FFFF) && !this.inRange(cp, 0xD800, 0xDFFF)) {\n                                code_point = cp;\n                            }\n                            else {\n                                code_point = this.decoderError(fatal, _byte);\n                            }\n                        }\n                    }\n                }\n                if (code_point !== null && code_point !== this.EOF_code_point) {\n                    if (code_point <= 0xFFFF) {\n                        if (code_point > 0)\n                            result += String.fromCharCode(code_point);\n                    }\n                    else {\n                        code_point -= 0x10000;\n                        result += String.fromCharCode(0xD800 + ((code_point >> 10) & 0x3ff));\n                        result += String.fromCharCode(0xDC00 + (code_point & 0x3ff));\n                    }\n                }\n            }\n            return result;\n        };\n        ByteArray.prototype.encoderError = function (code_point) {\n            egret.$error(1026, code_point);\n        };\n        ByteArray.prototype.decoderError = function (fatal, opt_code_point) {\n            if (fatal) {\n                egret.$error(1027);\n            }\n            return opt_code_point || 0xFFFD;\n        };\n        ByteArray.prototype.inRange = function (a, min, max) {\n            return min <= a && a <= max;\n        };\n        ByteArray.prototype.div = function (n, d) {\n            return Math.floor(n / d);\n        };\n        ByteArray.prototype.stringToCodePoints = function (string) {\n            var cps = [];\n            var i = 0, n = string.length;\n            while (i < string.length) {\n                var c = string.charCodeAt(i);\n                if (!this.inRange(c, 0xD800, 0xDFFF)) {\n                    cps.push(c);\n                }\n                else if (this.inRange(c, 0xDC00, 0xDFFF)) {\n                    cps.push(0xFFFD);\n                }\n                else {\n                    if (i == n - 1) {\n                        cps.push(0xFFFD);\n                    }\n                    else {\n                        var d = string.charCodeAt(i + 1);\n                        if (this.inRange(d, 0xDC00, 0xDFFF)) {\n                            var a = c & 0x3FF;\n                            var b = d & 0x3FF;\n                            i += 1;\n                            cps.push(0x10000 + (a << 10) + b);\n                        }\n                        else {\n                            cps.push(0xFFFD);\n                        }\n                    }\n                }\n                i += 1;\n            }\n            return cps;\n        };\n        return ByteArray;\n    }());\n    egret.ByteArray = ByteArray;\n})(egret || (egret = {}));\nvar egret;\n(function (egret) {\n    egret.$callLaterFunctionList = [];\n    egret.$callLaterThisList = [];\n    egret.$callLaterArgsList = [];\n    function callLater(method, thisObject) {\n        var args = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            args[_i - 2] = arguments[_i];\n        }\n        egret.$callLaterFunctionList.push(method);\n        egret.$callLaterThisList.push(thisObject);\n        egret.$callLaterArgsList.push(args);\n    }\n    egret.callLater = callLater;\n})(egret || (egret = {}));\nvar egret;\n(function (egret) {\n})(egret || (egret = {}));\nvar egret;\n(function (egret) {\n    var pointPool = [];\n    var DEG_TO_RAD = Math.PI / 180;\n    var Point = (function (_super) {\n        __extends(Point, _super);\n        function Point(x, y) {\n            if (x === void 0) { x = 0; }\n            if (y === void 0) { y = 0; }\n            var _this = _super.call(this) || this;\n            _this.x = x;\n            _this.y = y;\n            return _this;\n        }\n        Point.release = function (point) {\n            if (!point) {\n                return;\n            }\n            pointPool.push(point);\n        };\n        Point.create = function (x, y) {\n            var point = pointPool.pop();\n            if (!point) {\n                point = new Point();\n            }\n            return point.setTo(x, y);\n        };\n        Object.defineProperty(Point.prototype, \"length\", {\n            get: function () {\n                return Math.sqrt(this.x * this.x + this.y * this.y);\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Point.prototype.setTo = function (x, y) {\n            this.x = x;\n            this.y = y;\n            return this;\n        };\n        Point.prototype.clone = function () {\n            return new Point(this.x, this.y);\n        };\n        Point.prototype.equals = function (toCompare) {\n            return this.x == toCompare.x && this.y == toCompare.y;\n        };\n        Point.distance = function (p1, p2) {\n            return Math.sqrt((p1.x - p2.x) * (p1.x - p2.x) + (p1.y - p2.y) * (p1.y - p2.y));\n        };\n        Point.prototype.copyFrom = function (sourcePoint) {\n            this.x = sourcePoint.x;\n            this.y = sourcePoint.y;\n        };\n        Point.prototype.add = function (v) {\n            return new Point(this.x + v.x, this.y + v.y);\n        };\n        Point.interpolate = function (pt1, pt2, f) {\n            var f1 = 1 - f;\n            return new Point(pt1.x * f + pt2.x * f1, pt1.y * f + pt2.y * f1);\n        };\n        Point.prototype.normalize = function (thickness) {\n            if (this.x != 0 || this.y != 0) {\n                var relativeThickness = thickness / this.length;\n                this.x *= relativeThickness;\n                this.y *= relativeThickness;\n            }\n        };\n        Point.prototype.offset = function (dx, dy) {\n            this.x += dx;\n            this.y += dy;\n        };\n        Point.polar = function (len, angle) {\n            return new Point(len * Math.cos(angle / DEG_TO_RAD), len * Math.sin(angle / DEG_TO_RAD));\n        };\n        Point.prototype.subtract = function (v) {\n            return new Point(this.x - v.x, this.y - v.y);\n        };\n        Point.prototype.toString = function () {\n            return \"(x=\" + this.x + \", y=\" + this.y + \")\";\n        };\n        return Point;\n    }(egret.HashObject));\n    egret.Point = Point;\n    egret.$TempPoint = new Point();\n})(egret || (egret = {}));\nvar RES;\n(function (RES) {\n    var s_resourcePool = {};\n    RES.s_crossSiteResource = {};\n    var s_getResAsyncPromise = {};\n    function isHttpRes(url) {\n        return url.indexOf(\"http://\") == 0 || url.indexOf(\"https://\") == 0;\n    }\n    RES.isHttpRes = isHttpRes;\n    function hasResLoaded(url) {\n        return s_resourcePool[url] && s_resourcePool[url] > 0;\n    }\n    var ResReleaseWatchDog = (function () {\n        function ResReleaseWatchDog() {\n            this._urlLocks = {};\n            this._url2Release = [];\n            fgui.GTimers.inst.add(2000, -1, this._heartbeat, this);\n        }\n        Object.defineProperty(ResReleaseWatchDog, \"inst\", {\n            get: function () {\n                if (this._inst == null) {\n                    this._inst = new ResReleaseWatchDog();\n                }\n                return this._inst;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        ResReleaseWatchDog.prototype._heartbeat = function () {\n            var urls = this._url2Release;\n            this._url2Release = [];\n            var locked = [];\n            for (var i = 0; i < urls.length; ++i) {\n                var urlInfo = urls[i];\n                var url = urlInfo.url;\n                if (this._urlLocks[url]) {\n                    locked.push(urlInfo);\n                }\n                else if (!hasResLoaded(url)) {\n                    this._doReleaseAssets(url, urlInfo.t);\n                }\n            }\n            this._url2Release = this._url2Release.concat(locked);\n        };\n        ResReleaseWatchDog.prototype._doReleaseAssets = function (url, t) {\n            var asset = cc.loader.getRes(url, t);\n            if (asset) {\n                var dependencies = cc.loader.getDependsRecursively(asset);\n                if (dependencies) {\n                    cc.loader.release(dependencies);\n                }\n                else {\n                    if (asset.nativeUrl) {\n                        cc.loader.release(asset.nativeUrl);\n                    }\n                    asset.destroy();\n                }\n            }\n        };\n        ResReleaseWatchDog.prototype.lockRes = function (url) {\n            var cnt = this._urlLocks[url] | 0;\n            this._urlLocks[url] = cnt + 1;\n        };\n        ResReleaseWatchDog.prototype.unlockRes = function (url) {\n            var cnt = this._urlLocks[url];\n            if (cnt && cnt > 0) {\n                cnt--;\n                if (cnt <= 0) {\n                    delete this._urlLocks[url];\n                }\n                else {\n                    this._urlLocks[url] = cnt;\n                }\n            }\n        };\n        ResReleaseWatchDog.prototype.addReleaseRes = function (url, t) {\n            this._url2Release.push({ url: url, t: t });\n        };\n        ResReleaseWatchDog._inst = null;\n        return ResReleaseWatchDog;\n    }());\n    function retain(url, asset) {\n        if (!url) {\n            return;\n        }\n        if (isHttpRes(url)) {\n            if (asset) {\n                var info = RES.s_crossSiteResource[url];\n                if (!info) {\n                    info = [];\n                    info.push(asset);\n                    info.push(0);\n                    RES.s_crossSiteResource[url] = info;\n                }\n                info[1]++;\n            }\n        }\n        else {\n            if (!fgui.ToolSet.startsWith(url, \"ui://\")) {\n                var count = s_resourcePool[url] || 0;\n                s_resourcePool[url] = count + 1;\n            }\n        }\n        ResReleaseWatchDog.inst.unlockRes(url);\n    }\n    RES.retain = retain;\n    function release(url, type) {\n        if (!url || url == \"\")\n            return;\n        if (isHttpRes(url)) {\n            var info = RES.s_crossSiteResource[url];\n            if (info) {\n                info[1]--;\n                if (info[1] <= 0) {\n                    var asset = info[0];\n                    if (asset) {\n                        cc.loader.releaseAsset(asset);\n                    }\n                    RES.s_crossSiteResource[url] = null;\n                    delete RES.s_crossSiteResource[url];\n                }\n            }\n            return info[1];\n        }\n        else if (!fgui.ToolSet.startsWith(url, \"ui://\")) {\n            var count = s_resourcePool[url] || 0;\n            count--;\n            if (count <= 0) {\n                s_resourcePool[url] = null;\n                delete s_resourcePool[url];\n                if (!fgui.ToolSet.startsWith(url, \"ui://\")) {\n                    ResReleaseWatchDog.inst.addReleaseRes(url, type);\n                }\n            }\n            else {\n                s_resourcePool[url] = count;\n            }\n            return count;\n        }\n    }\n    RES.release = release;\n    function getResAsync(url, type, progressCallback) {\n        return __awaiter(this, void 0, void 0, function () {\n            var res, item, loader, p, ret;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!isHttpRes(url)) return [3, 2];\n                        return [4, getImageCrossSiteAsync(url, type)];\n                    case 1: return [2, _a.sent()];\n                    case 2:\n                        if (hasResLoaded(url)) {\n                            res = cc.loader.getRes(url, type);\n                        }\n                        if (!res) return [3, 3];\n                        return [2, res];\n                    case 3:\n                        if (url.indexOf(\"ui://\") == 0) {\n                            if (type == cc.SpriteFrame) {\n                                item = fgui.UIPackage.getItemByURL(url);\n                                if (item == null) {\n                                    return [2, null];\n                                }\n                                else {\n                                    item.load();\n                                    if (item.asset == null) {\n                                        return [2, null];\n                                    }\n                                    else {\n                                        return [2, item.asset];\n                                    }\n                                }\n                            }\n                            else {\n                                loader = new fgui.GLoader();\n                                loader.url = url;\n                                return [2, loader.texture];\n                            }\n                        }\n                        if (!s_getResAsyncPromise[url]) return [3, 5];\n                        return [4, s_getResAsyncPromise[url]];\n                    case 4:\n                        _a.sent();\n                        return [2, cc.loader.getRes(url, type)];\n                    case 5:\n                        ResReleaseWatchDog.inst.lockRes(url);\n                        p = new Promise(function (resolve) {\n                            function onLoadComplete(err, asset) {\n                                if (!asset || !asset.loaded) {\n                                    console.log(\"getResAsync error: \", err);\n                                    resolve(null);\n                                }\n                                else {\n                                    if (asset instanceof cc.SpriteFrame) {\n                                        resolve(asset);\n                                    }\n                                    else if (asset instanceof cc.Texture2D) {\n                                        asset.packable = false;\n                                        var spriteFrame = new cc.SpriteFrame(asset);\n                                        resolve(spriteFrame);\n                                    }\n                                    else {\n                                        resolve(asset);\n                                    }\n                                }\n                            }\n                            if (!type) {\n                                type = cc.Asset;\n                            }\n                            if (progressCallback) {\n                                cc.loader.loadRes(url, type, progressCallback, onLoadComplete);\n                            }\n                            else {\n                                cc.loader.loadRes(url, type, onLoadComplete);\n                            }\n                        });\n                        s_getResAsyncPromise[url] = p;\n                        return [4, p];\n                    case 6:\n                        ret = _a.sent();\n                        s_getResAsyncPromise[url] = null;\n                        return [2, ret];\n                }\n            });\n        });\n    }\n    RES.getResAsync = getResAsync;\n    function getJsonAsync(name, progressCallback) {\n        return __awaiter(this, void 0, void 0, function () {\n            var asset;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4, getResAsync(name, cc.JsonAsset, progressCallback)];\n                    case 1:\n                        asset = _a.sent();\n                        if (!asset || !asset.loaded) {\n                            return [2, null];\n                        }\n                        else {\n                            return [2, asset.json];\n                        }\n                        return [2];\n                }\n            });\n        });\n    }\n    RES.getJsonAsync = getJsonAsync;\n    function getImageCrossSiteAsync(url, type) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4, new Promise(function (resolve) {\n                            function onLoadComplete(err, asset) {\n                                if (!asset || !asset.loaded) {\n                                    console.log(\"getResAsync error: \", err);\n                                    resolve(null);\n                                }\n                                if (asset instanceof cc.SpriteFrame) {\n                                    resolve(asset);\n                                }\n                                else if (asset instanceof cc.Texture2D) {\n                                    asset.packable = false;\n                                    var ret = new cc.SpriteFrame(asset);\n                                    resolve(ret);\n                                }\n                                else {\n                                    resolve(null);\n                                }\n                            }\n                            console.log(\"[getResAsync] loading external image: \", url);\n                            cc.loader.load({ url: url + \"?file=a.png\", type: \"png\" }, onLoadComplete);\n                        })];\n                    case 1: return [2, _a.sent()];\n                }\n            });\n        });\n    }\n    RES.getImageCrossSiteAsync = getImageCrossSiteAsync;\n    function getRes(url, type) {\n        return cc.loader.getRes(url, type);\n    }\n    RES.getRes = getRes;\n    function destroyRes(asset) {\n        cc.loader.releaseAsset(asset);\n    }\n    RES.destroyRes = destroyRes;\n    function loadGroup(name, pri, reporter, temp) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2];\n            });\n        });\n    }\n    RES.loadGroup = loadGroup;\n    function loadPackage(name, loadingMask, loadRes, showMask) {\n        if (loadingMask === void 0) { loadingMask = false; }\n        if (loadRes === void 0) { loadRes = false; }\n        if (showMask === void 0) { showMask = true; }\n        return __awaiter(this, void 0, void 0, function () {\n            var ret;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4, new Promise(function (resolve) {\n                            function onLoaded(err) {\n                                if (!err) {\n                                    var pkg = fgui.UIPackage.addPackage(name);\n                                    resolve(pkg);\n                                }\n                                else {\n                                    console.log(err);\n                                    resolve(null);\n                                }\n                            }\n                            try {\n                                fgui.UIPackage.loadPackage(name, loadRes, onLoaded);\n                            }\n                            catch (e) {\n                                console.log(e);\n                                resolve(null);\n                            }\n                        })];\n                    case 1:\n                        ret = _a.sent();\n                        return [2, ret];\n                }\n            });\n        });\n    }\n    RES.loadPackage = loadPackage;\n    function unloadPackage(name) {\n        fgui.UIPackage.removePackage(name);\n    }\n    RES.unloadPackage = unloadPackage;\n})(RES || (RES = {}));\nvar egret;\n(function (egret) {\n    var Ease = (function () {\n        function Ease() {\n            egret.$error(1014);\n        }\n        Ease.get = function (amount) {\n            if (amount < -1) {\n                amount = -1;\n            }\n            if (amount > 1) {\n                amount = 1;\n            }\n            return function (t) {\n                if (amount == 0) {\n                    return t;\n                }\n                if (amount < 0) {\n                    return t * (t * -amount + 1 + amount);\n                }\n                return t * ((2 - t) * amount + (1 - amount));\n            };\n        };\n        Ease.getPowIn = function (pow) {\n            return function (t) {\n                return Math.pow(t, pow);\n            };\n        };\n        Ease.getPowOut = function (pow) {\n            return function (t) {\n                return 1 - Math.pow(1 - t, pow);\n            };\n        };\n        Ease.getPowInOut = function (pow) {\n            return function (t) {\n                if ((t *= 2) < 1)\n                    return 0.5 * Math.pow(t, pow);\n                return 1 - 0.5 * Math.abs(Math.pow(2 - t, pow));\n            };\n        };\n        Ease.sineIn = function (t) {\n            return 1 - Math.cos(t * Math.PI / 2);\n        };\n        Ease.sineOut = function (t) {\n            return Math.sin(t * Math.PI / 2);\n        };\n        Ease.sineInOut = function (t) {\n            return -0.5 * (Math.cos(Math.PI * t) - 1);\n        };\n        Ease.getBackIn = function (amount) {\n            return function (t) {\n                return t * t * ((amount + 1) * t - amount);\n            };\n        };\n        Ease.getBackOut = function (amount) {\n            return function (t) {\n                return (--t * t * ((amount + 1) * t + amount) + 1);\n            };\n        };\n        Ease.getBackInOut = function (amount) {\n            amount *= 1.525;\n            return function (t) {\n                if ((t *= 2) < 1)\n                    return 0.5 * (t * t * ((amount + 1) * t - amount));\n                return 0.5 * ((t -= 2) * t * ((amount + 1) * t + amount) + 2);\n            };\n        };\n        Ease.circIn = function (t) {\n            return -(Math.sqrt(1 - t * t) - 1);\n        };\n        Ease.circOut = function (t) {\n            return Math.sqrt(1 - (--t) * t);\n        };\n        Ease.circInOut = function (t) {\n            if ((t *= 2) < 1) {\n                return -0.5 * (Math.sqrt(1 - t * t) - 1);\n            }\n            return 0.5 * (Math.sqrt(1 - (t -= 2) * t) + 1);\n        };\n        Ease.bounceIn = function (t) {\n            return 1 - Ease.bounceOut(1 - t);\n        };\n        Ease.bounceOut = function (t) {\n            if (t < 1 / 2.75) {\n                return (7.5625 * t * t);\n            }\n            else if (t < 2 / 2.75) {\n                return (7.5625 * (t -= 1.5 / 2.75) * t + 0.75);\n            }\n            else if (t < 2.5 / 2.75) {\n                return (7.5625 * (t -= 2.25 / 2.75) * t + 0.9375);\n            }\n            else {\n                return (7.5625 * (t -= 2.625 / 2.75) * t + 0.984375);\n            }\n        };\n        Ease.bounceInOut = function (t) {\n            if (t < 0.5)\n                return Ease.bounceIn(t * 2) * .5;\n            return Ease.bounceOut(t * 2 - 1) * 0.5 + 0.5;\n        };\n        Ease.getElasticIn = function (amplitude, period) {\n            var pi2 = Math.PI * 2;\n            return function (t) {\n                if (t == 0 || t == 1)\n                    return t;\n                var s = period / pi2 * Math.asin(1 / amplitude);\n                return -(amplitude * Math.pow(2, 10 * (t -= 1)) * Math.sin((t - s) * pi2 / period));\n            };\n        };\n        Ease.getElasticOut = function (amplitude, period) {\n            var pi2 = Math.PI * 2;\n            return function (t) {\n                if (t == 0 || t == 1)\n                    return t;\n                var s = period / pi2 * Math.asin(1 / amplitude);\n                return (amplitude * Math.pow(2, -10 * t) * Math.sin((t - s) * pi2 / period) + 1);\n            };\n        };\n        Ease.getElasticInOut = function (amplitude, period) {\n            var pi2 = Math.PI * 2;\n            return function (t) {\n                var s = period / pi2 * Math.asin(1 / amplitude);\n                if ((t *= 2) < 1)\n                    return -0.5 * (amplitude * Math.pow(2, 10 * (t -= 1)) * Math.sin((t - s) * pi2 / period));\n                return amplitude * Math.pow(2, -10 * (t -= 1)) * Math.sin((t - s) * pi2 / period) * 0.5 + 1;\n            };\n        };\n        Ease.quadIn = Ease.getPowIn(2);\n        Ease.quadOut = Ease.getPowOut(2);\n        Ease.quadInOut = Ease.getPowInOut(2);\n        Ease.cubicIn = Ease.getPowIn(3);\n        Ease.cubicOut = Ease.getPowOut(3);\n        Ease.cubicInOut = Ease.getPowInOut(3);\n        Ease.quartIn = Ease.getPowIn(4);\n        Ease.quartOut = Ease.getPowOut(4);\n        Ease.quartInOut = Ease.getPowInOut(4);\n        Ease.quintIn = Ease.getPowIn(5);\n        Ease.quintOut = Ease.getPowOut(5);\n        Ease.quintInOut = Ease.getPowInOut(5);\n        Ease.backIn = Ease.getBackIn(1.7);\n        Ease.backOut = Ease.getBackOut(1.7);\n        Ease.backInOut = Ease.getBackInOut(1.7);\n        Ease.elasticIn = Ease.getElasticIn(1, 0.3);\n        Ease.elasticOut = Ease.getElasticOut(1, 0.3);\n        Ease.elasticInOut = Ease.getElasticInOut(1, 0.3 * 1.5);\n        return Ease;\n    }());\n    egret.Ease = Ease;\n})(egret || (egret = {}));\nvar egret;\n(function (egret) {\n    var Tween = (function (_super) {\n        __extends(Tween, _super);\n        function Tween(target, props, pluginData) {\n            var _this = _super.call(this) || this;\n            _this._target = null;\n            _this._useTicks = false;\n            _this.ignoreGlobalPause = false;\n            _this.loop = false;\n            _this.pluginData = null;\n            _this._steps = null;\n            _this.paused = false;\n            _this.duration = 0;\n            _this._prevPos = -1;\n            _this.position = null;\n            _this._prevPosition = 0;\n            _this._stepPosition = 0;\n            _this.passive = false;\n            _this.initialize(target, props, pluginData);\n            return _this;\n        }\n        Tween.get = function (target, props, pluginData, override) {\n            if (pluginData === void 0) { pluginData = null; }\n            if (override === void 0) { override = false; }\n            if (override) {\n                Tween.removeTweens(target);\n            }\n            return new Tween(target, props, pluginData);\n        };\n        Tween.removeTweens = function (target) {\n            if (!target.tween_count) {\n                return;\n            }\n            var tweens = Tween._tweens;\n            for (var i = tweens.length - 1; i >= 0; i--) {\n                if (tweens[i]._target == target) {\n                    tweens[i].paused = true;\n                    tweens.splice(i, 1);\n                }\n            }\n            target.tween_count = 0;\n        };\n        Tween.pauseTweens = function (target) {\n            if (!target.tween_count) {\n                return;\n            }\n            var tweens = egret.Tween._tweens;\n            for (var i = tweens.length - 1; i >= 0; i--) {\n                if (tweens[i]._target == target) {\n                    tweens[i].paused = true;\n                }\n            }\n        };\n        Tween.resumeTweens = function (target) {\n            if (!target.tween_count) {\n                return;\n            }\n            var tweens = egret.Tween._tweens;\n            for (var i = tweens.length - 1; i >= 0; i--) {\n                if (tweens[i]._target == target) {\n                    tweens[i].paused = false;\n                }\n            }\n        };\n        Tween.tick = function (dt, paused) {\n            if (paused === void 0) { paused = false; }\n            var delta = dt * 1000;\n            Tween._lastTime += dt;\n            var tweens = Tween._tweens.concat();\n            for (var i = tweens.length - 1; i >= 0; i--) {\n                var tween_1 = tweens[i];\n                if ((paused && !tween_1.ignoreGlobalPause) || tween_1.paused) {\n                    continue;\n                }\n                tween_1.$tick(tween_1._useTicks ? 1 : delta);\n            }\n            return false;\n        };\n        Tween._register = function (tween, value) {\n            var target = tween._target;\n            var tweens = Tween._tweens;\n            if (value) {\n                if (target) {\n                    target.tween_count = target.tween_count > 0 ? target.tween_count + 1 : 1;\n                }\n                tweens.push(tween);\n                if (!Tween._inited) {\n                    Tween._lastTime = new Date().getTime();\n                    if (!Tween._root) {\n                        Tween._root = new cc.Node(\"[Tween]\");\n                        cc.game[\"addPersistRootNode\"](Tween._root);\n                    }\n                    cc.director.getScheduler().schedule(this.tick, Tween._root, 0, false);\n                    Tween._inited = true;\n                }\n            }\n            else {\n                if (target) {\n                    target.tween_count--;\n                }\n                var i = tweens.length;\n                while (i--) {\n                    if (tweens[i] == tween) {\n                        tweens.splice(i, 1);\n                        return;\n                    }\n                }\n            }\n        };\n        Tween.removeAllTweens = function () {\n            var tweens = Tween._tweens;\n            for (var i = 0, l = tweens.length; i < l; i++) {\n                var tween_2 = tweens[i];\n                tween_2.paused = true;\n                tween_2._target.tween_count = 0;\n            }\n            tweens.length = 0;\n        };\n        Tween.prototype.initialize = function (target, props, pluginData) {\n            this._target = target;\n            if (props) {\n                this._useTicks = props.useTicks;\n                this.ignoreGlobalPause = props.ignoreGlobalPause;\n                this.loop = props.loop;\n                props.onChange && this.addEventListener(\"change\", props.onChange, props.onChangeObj);\n                if (props.override) {\n                    Tween.removeTweens(target);\n                }\n            }\n            this.pluginData = pluginData || {};\n            this._curQueueProps = {};\n            this._initQueueProps = {};\n            this._steps = [];\n            if (props && props.paused) {\n                this.paused = true;\n            }\n            else {\n                Tween._register(this, true);\n            }\n            if (props && props.position != null) {\n                this.setPosition(props.position, Tween.NONE);\n            }\n        };\n        Tween.prototype.setPosition = function (value, actionsMode) {\n            if (actionsMode === void 0) { actionsMode = 1; }\n            if (value < 0) {\n                value = 0;\n            }\n            var t = value;\n            var end = false;\n            if (t >= this.duration) {\n                if (this.loop) {\n                    var newTime = t % this.duration;\n                    if (t > 0 && newTime === 0) {\n                        t = this.duration;\n                    }\n                    else {\n                        t = newTime;\n                    }\n                }\n                else {\n                    t = this.duration;\n                    end = true;\n                }\n            }\n            if (t == this._prevPos) {\n                return end;\n            }\n            if (end) {\n                this.setPaused(true);\n            }\n            var prevPos = this._prevPos;\n            this.position = this._prevPos = t;\n            this._prevPosition = value;\n            if (this._target) {\n                if (this._steps.length > 0) {\n                    var l = this._steps.length;\n                    var stepIndex = -1;\n                    for (var i = 0; i < l; i++) {\n                        if (this._steps[i].type == \"step\") {\n                            stepIndex = i;\n                            if (this._steps[i].t <= t && this._steps[i].t + this._steps[i].d >= t) {\n                                break;\n                            }\n                        }\n                    }\n                    for (var i = 0; i < l; i++) {\n                        if (this._steps[i].type == \"action\") {\n                            if (actionsMode != 0) {\n                                if (this._useTicks) {\n                                    this._runAction(this._steps[i], t, t);\n                                }\n                                else if (actionsMode == 1 && t < prevPos) {\n                                    if (prevPos != this.duration) {\n                                        this._runAction(this._steps[i], prevPos, this.duration);\n                                    }\n                                    this._runAction(this._steps[i], 0, t, true);\n                                }\n                                else {\n                                    this._runAction(this._steps[i], prevPos, t);\n                                }\n                            }\n                        }\n                        else if (this._steps[i].type == \"step\") {\n                            if (stepIndex == i) {\n                                var step = this._steps[stepIndex];\n                                this._updateTargetProps(step, Math.min((this._stepPosition = t - step.t) / step.d, 1));\n                            }\n                        }\n                    }\n                }\n            }\n            this.dispatchEventWith(\"change\");\n            return end;\n        };\n        Tween.prototype._runAction = function (action, startPos, endPos, includeStart) {\n            if (includeStart === void 0) { includeStart = false; }\n            var sPos = startPos;\n            var ePos = endPos;\n            if (startPos > endPos) {\n                sPos = endPos;\n                ePos = startPos;\n            }\n            var pos = action.t;\n            if (pos == ePos || (pos > sPos && pos < ePos) || (includeStart && pos == startPos)) {\n                action.f.apply(action.o, action.p);\n            }\n        };\n        Tween.prototype._updateTargetProps = function (step, ratio) {\n            var p0, p1, v, v0, v1, arr;\n            if (!step && ratio == 1) {\n                this.passive = false;\n                p0 = p1 = this._curQueueProps;\n            }\n            else {\n                this.passive = !!step.v;\n                if (this.passive) {\n                    return;\n                }\n                if (step.e) {\n                    ratio = step.e(ratio, 0, 1, 1);\n                }\n                p0 = step.p0;\n                p1 = step.p1;\n            }\n            for (var n in this._initQueueProps) {\n                if ((v0 = p0[n]) == null) {\n                    p0[n] = v0 = this._initQueueProps[n];\n                }\n                if ((v1 = p1[n]) == null) {\n                    p1[n] = v1 = v0;\n                }\n                if (v0 == v1 || ratio == 0 || ratio == 1 || (typeof (v0) != \"number\")) {\n                    v = ratio == 1 ? v1 : v0;\n                }\n                else {\n                    v = v0 + (v1 - v0) * ratio;\n                }\n                var ignore = false;\n                if (arr = Tween._plugins[n]) {\n                    for (var i = 0, l = arr.length; i < l; i++) {\n                        var v2 = arr[i].tween(this, n, v, p0, p1, ratio, !!step && p0 == p1, !step);\n                        if (v2 == Tween.IGNORE) {\n                            ignore = true;\n                        }\n                        else {\n                            v = v2;\n                        }\n                    }\n                }\n                if (!ignore) {\n                    this._target[n] = v;\n                }\n            }\n        };\n        Tween.prototype.setPaused = function (value) {\n            if (this.paused == value) {\n                return this;\n            }\n            this.paused = value;\n            Tween._register(this, !value);\n            return this;\n        };\n        Tween.prototype._cloneProps = function (props) {\n            var o = {};\n            for (var n in props) {\n                o[n] = props[n];\n            }\n            return o;\n        };\n        Tween.prototype._addStep = function (o) {\n            if (o.d > 0) {\n                o.type = \"step\";\n                this._steps.push(o);\n                o.t = this.duration;\n                this.duration += o.d;\n            }\n            return this;\n        };\n        Tween.prototype._appendQueueProps = function (o) {\n            var arr, oldValue, i, l, injectProps;\n            for (var n in o) {\n                if (this._initQueueProps[n] === undefined) {\n                    oldValue = this._target[n];\n                    if (arr = Tween._plugins[n]) {\n                        for (i = 0, l = arr.length; i < l; i++) {\n                            oldValue = arr[i].init(this, n, oldValue);\n                        }\n                    }\n                    this._initQueueProps[n] = this._curQueueProps[n] = (oldValue === undefined) ? null : oldValue;\n                }\n                else {\n                    oldValue = this._curQueueProps[n];\n                }\n            }\n            for (var n in o) {\n                oldValue = this._curQueueProps[n];\n                if (arr = Tween._plugins[n]) {\n                    injectProps = injectProps || {};\n                    for (i = 0, l = arr.length; i < l; i++) {\n                        if (arr[i].step) {\n                            arr[i].step(this, n, oldValue, o[n], injectProps);\n                        }\n                    }\n                }\n                this._curQueueProps[n] = o[n];\n            }\n            if (injectProps) {\n                this._appendQueueProps(injectProps);\n            }\n            return this._curQueueProps;\n        };\n        Tween.prototype._addAction = function (o) {\n            o.t = this.duration;\n            o.type = \"action\";\n            this._steps.push(o);\n            return this;\n        };\n        Tween.prototype._set = function (props, o) {\n            for (var n in props) {\n                o[n] = props[n];\n            }\n        };\n        Tween.prototype.wait = function (duration, passive) {\n            if (duration == null || duration <= 0) {\n                return this;\n            }\n            var o = this._cloneProps(this._curQueueProps);\n            return this._addStep({ d: duration, p0: o, p1: o, v: passive });\n        };\n        Tween.prototype.to = function (props, duration, ease) {\n            if (ease === void 0) { ease = undefined; }\n            if (isNaN(duration) || duration < 0) {\n                duration = 0;\n            }\n            this._addStep({ d: duration || 0, p0: this._cloneProps(this._curQueueProps), e: ease, p1: this._cloneProps(this._appendQueueProps(props)) });\n            return this.set(props);\n        };\n        Tween.prototype.call = function (callback, thisObj, params) {\n            if (thisObj === void 0) { thisObj = undefined; }\n            if (params === void 0) { params = undefined; }\n            return this._addAction({ f: callback, p: params ? params : [], o: thisObj ? thisObj : this._target });\n        };\n        Tween.prototype.set = function (props, target) {\n            if (target === void 0) { target = null; }\n            this._appendQueueProps(props);\n            return this._addAction({ f: this._set, o: this, p: [props, target ? target : this._target] });\n        };\n        Tween.prototype.play = function (tween) {\n            if (!tween) {\n                tween = this;\n            }\n            return this.call(tween.setPaused, tween, [false]);\n        };\n        Tween.prototype.pause = function (tween) {\n            if (!tween) {\n                tween = this;\n            }\n            return this.call(tween.setPaused, tween, [true]);\n        };\n        Tween.prototype.$tick = function (delta) {\n            if (this.paused) {\n                return;\n            }\n            this.setPosition(this._prevPosition + delta);\n        };\n        Tween.NONE = 0;\n        Tween.LOOP = 1;\n        Tween.REVERSE = 2;\n        Tween._tweens = [];\n        Tween.IGNORE = {};\n        Tween._plugins = {};\n        Tween._inited = false;\n        Tween._root = null;\n        Tween._lastTime = 0;\n        return Tween;\n    }(egret.EventDispatcher));\n    egret.Tween = Tween;\n})(egret || (egret = {}));\nvar egret;\n(function (egret) {\n    var tween;\n    (function (tween) {\n        var BasePath = (function (_super) {\n            __extends(BasePath, _super);\n            function BasePath() {\n                var _this = _super !== null && _super.apply(this, arguments) || this;\n                _this.name = \"\";\n                return _this;\n            }\n            return BasePath;\n        }(egret.EventDispatcher));\n        tween.BasePath = BasePath;\n        var To = (function (_super) {\n            __extends(To, _super);\n            function To() {\n                var _this = _super !== null && _super.apply(this, arguments) || this;\n                _this.props = undefined;\n                _this.duration = 500;\n                _this.ease = undefined;\n                return _this;\n            }\n            return To;\n        }(BasePath));\n        tween.To = To;\n        var Wait = (function (_super) {\n            __extends(Wait, _super);\n            function Wait() {\n                var _this = _super !== null && _super.apply(this, arguments) || this;\n                _this.duration = 500;\n                _this.passive = undefined;\n                return _this;\n            }\n            return Wait;\n        }(BasePath));\n        tween.Wait = Wait;\n        var Set = (function (_super) {\n            __extends(Set, _super);\n            function Set() {\n                var _this = _super !== null && _super.apply(this, arguments) || this;\n                _this.props = undefined;\n                return _this;\n            }\n            return Set;\n        }(BasePath));\n        tween.Set = Set;\n        var Tick = (function (_super) {\n            __extends(Tick, _super);\n            function Tick() {\n                var _this = _super !== null && _super.apply(this, arguments) || this;\n                _this.delta = 0;\n                return _this;\n            }\n            return Tick;\n        }(BasePath));\n        tween.Tick = Tick;\n        function convertEase(ease) {\n            if (typeof ease === 'function') {\n                return ease;\n            }\n            else {\n                var func = egret.Ease[ease];\n                if (typeof func === 'function') {\n                    return func;\n                }\n            }\n            return null;\n        }\n        var TweenItem = (function (_super) {\n            __extends(TweenItem, _super);\n            function TweenItem() {\n                var _this = _super.call(this) || this;\n                _this.isStop = false;\n                return _this;\n            }\n            Object.defineProperty(TweenItem.prototype, \"props\", {\n                get: function () {\n                    return this._props;\n                },\n                set: function (value) {\n                    this._props = value;\n                },\n                enumerable: false,\n                configurable: true\n            });\n            Object.defineProperty(TweenItem.prototype, \"target\", {\n                get: function () {\n                    return this._target;\n                },\n                set: function (value) {\n                    this._target = value;\n                },\n                enumerable: false,\n                configurable: true\n            });\n            Object.defineProperty(TweenItem.prototype, \"paths\", {\n                get: function () {\n                    return this._paths;\n                },\n                set: function (value) {\n                    this._paths = value || [];\n                },\n                enumerable: false,\n                configurable: true\n            });\n            TweenItem.prototype.play = function (position) {\n                if (!this.tween) {\n                    this.createTween(position);\n                }\n                else {\n                    this.tween.setPaused(false);\n                    if (this.isStop && position == undefined) {\n                        position = 0;\n                        this.isStop = false;\n                    }\n                    if (position !== undefined && position !== null) {\n                        this.tween.setPosition(position);\n                    }\n                }\n            };\n            TweenItem.prototype.pause = function () {\n                if (this.tween) {\n                    this.tween.setPaused(true);\n                }\n            };\n            TweenItem.prototype.stop = function () {\n                this.pause();\n                this.isStop = true;\n            };\n            TweenItem.prototype.createTween = function (position) {\n                this.tween = egret.Tween.get(this._target, this._props);\n                if (this._paths) {\n                    this.applyPaths();\n                }\n                if (position !== undefined && position !== null) {\n                    this.tween.setPosition(position);\n                }\n            };\n            TweenItem.prototype.applyPaths = function () {\n                for (var i = 0; i < this._paths.length; i++) {\n                    var path = this._paths[i];\n                    this.applyPath(path);\n                }\n            };\n            TweenItem.prototype.applyPath = function (path) {\n                var _this = this;\n                if (path instanceof To) {\n                    this.tween.to(path.props, path.duration, convertEase(path.ease));\n                }\n                else if (path instanceof Wait) {\n                    this.tween.wait(path.duration, path.passive);\n                }\n                else if (path instanceof Set) {\n                    this.tween.set(path.props);\n                }\n                else if (path instanceof Tick) {\n                    this.tween.$tick(path.delta);\n                }\n                this.tween.call(function () { return _this.pathComplete(path); });\n            };\n            TweenItem.prototype.pathComplete = function (path) {\n                path.dispatchEventWith('complete');\n                this.dispatchEventWith('pathComplete', false, path);\n                var index = this._paths.indexOf(path);\n                if (index >= 0 && index === this._paths.length - 1) {\n                    this.dispatchEventWith('complete');\n                }\n            };\n            return TweenItem;\n        }(egret.EventDispatcher));\n        tween.TweenItem = TweenItem;\n        registerProperty(TweenItem, 'paths', 'Array', true);\n        var TweenGroup = (function (_super) {\n            __extends(TweenGroup, _super);\n            function TweenGroup() {\n                var _this = _super.call(this) || this;\n                _this.completeCount = 0;\n                return _this;\n            }\n            Object.defineProperty(TweenGroup.prototype, \"items\", {\n                get: function () {\n                    return this._items;\n                },\n                set: function (value) {\n                    this.completeCount = 0;\n                    this.registerEvent(false);\n                    this._items = value;\n                    this.registerEvent(true);\n                },\n                enumerable: false,\n                configurable: true\n            });\n            TweenGroup.prototype.registerEvent = function (add) {\n                var _this = this;\n                this._items && this._items.forEach(function (item) {\n                    if (add) {\n                        item.addEventListener('complete', _this.itemComplete, _this);\n                    }\n                    else {\n                        item.removeEventListener('complete', _this.itemComplete, _this);\n                    }\n                });\n            };\n            TweenGroup.prototype.play = function (time) {\n                if (!this._items) {\n                    return;\n                }\n                for (var i = 0; i < this._items.length; i++) {\n                    var item = this._items[i];\n                    item.play(time);\n                }\n            };\n            TweenGroup.prototype.pause = function () {\n                if (!this._items) {\n                    return;\n                }\n                for (var i = 0; i < this._items.length; i++) {\n                    var item = this._items[i];\n                    item.pause();\n                }\n            };\n            TweenGroup.prototype.stop = function () {\n                if (!this._items) {\n                    return;\n                }\n                for (var i = 0; i < this._items.length; i++) {\n                    var item = this._items[i];\n                    item.stop();\n                }\n            };\n            TweenGroup.prototype.itemComplete = function (e) {\n                var item = e.currentTarget;\n                this.completeCount++;\n                this.dispatchEventWith('itemComplete', false, item);\n                if (this.completeCount === this.items.length) {\n                    this.dispatchEventWith('complete');\n                    this.completeCount = 0;\n                }\n            };\n            return TweenGroup;\n        }(egret.EventDispatcher));\n        tween.TweenGroup = TweenGroup;\n        registerProperty(TweenGroup, 'items', 'Array', true);\n        function registerProperty(classDefinition, property, type, asDefault) {\n            var prototype = classDefinition.prototype;\n            prototype.__meta__ = prototype.__meta__ || {};\n            prototype.__meta__[property] = type;\n            if (asDefault) {\n                prototype.__defaultProperty__ = property;\n            }\n        }\n    })(tween = egret.tween || (egret.tween = {}));\n})(egret || (egret = {}));\nvar fgui;\n(function (fgui) {\n    var AsyncOperation = (function () {\n        function AsyncOperation() {\n            this._runner = null;\n        }\n        AsyncOperation.updateRunners = function () {\n            if (this._asyncRunners.length <= 0) {\n                return;\n            }\n            var rest = [];\n            var i = 0;\n            var cnt = this._asyncRunners.length;\n            for (; i < cnt; ++i) {\n                var runner = this._asyncRunners[i];\n                if (!runner.update()) {\n                    rest.push(runner);\n                }\n            }\n            this._asyncRunners.length = 0;\n            this._asyncRunners = rest;\n        };\n        AsyncOperation.prototype.createObject = function (pkgName, resName, userClass) {\n            if (userClass === void 0) { userClass = null; }\n            if (this._runner)\n                throw 'Already running';\n            var pkg = fgui.UIPackage.getByName(pkgName);\n            if (pkg) {\n                var pi = pkg.getItemByName(resName);\n                if (!pi)\n                    throw new Error(\"resource not found: \" + resName);\n                this.internalCreateObject(pi, userClass, resName);\n            }\n            else\n                throw new Error(\"package not found: \" + pkgName);\n        };\n        AsyncOperation.prototype.createObjectFromURL = function (url) {\n            if (this._runner)\n                throw 'Already running';\n            var pi = fgui.UIPackage.getItemByURL(url);\n            if (pi)\n                this.internalCreateObject(pi, null, url);\n            else\n                throw new Error(\"resource not found: \" + url);\n        };\n        AsyncOperation.prototype.cancel = function () {\n            if (this._runner) {\n                this._runner.onDestroy();\n                this._runner = null;\n            }\n        };\n        AsyncOperation.prototype.internalCreateObject = function (item, userClass, name) {\n            if (userClass === void 0) { userClass = null; }\n            this._runner = new AsyncOperationRunner();\n            this._runner.init(item, this, userClass, name);\n            AsyncOperation._asyncRunners.push(this._runner);\n        };\n        AsyncOperation.prototype.completed = function (result) {\n            if (this.callback) {\n                this.callback(result);\n            }\n            this.cancel();\n        };\n        AsyncOperation._asyncRunners = [];\n        return AsyncOperation;\n    }());\n    fgui.AsyncOperation = AsyncOperation;\n    var AsyncOperationRunner = (function () {\n        function AsyncOperationRunner() {\n            this._itemList = new Array();\n            this._objectPool = new Array();\n            this._host = null;\n        }\n        AsyncOperationRunner.prototype.init = function (item, host, userClass, name) {\n            if (userClass === void 0) { userClass = null; }\n            this._itemList.length = 0;\n            this._objectPool.length = 0;\n            this._host = host;\n            var di = new DisplayListItem(item, 0);\n            di.userClass = userClass;\n            di.name = name;\n            di.childCount = this.collectComponentChildren(item);\n            this._itemList.push(di);\n            this._index = 0;\n        };\n        AsyncOperationRunner.prototype.onDestroy = function () {\n            this._itemList.length = 0;\n            var cnt = this._objectPool.length;\n            if (cnt > 0) {\n                for (var i = 0; i < cnt; i++)\n                    this._objectPool[i].dispose();\n                this._objectPool.length = 0;\n            }\n        };\n        AsyncOperationRunner.prototype.collectComponentChildren = function (item) {\n            var buffer = item.rawData;\n            buffer.seek(0, 2);\n            var di;\n            var pi;\n            var i;\n            var dataLen;\n            var curPos;\n            var pkg;\n            var dcnt = buffer.readShort();\n            for (i = 0; i < dcnt; i++) {\n                dataLen = buffer.readShort();\n                curPos = buffer.position;\n                buffer.seek(curPos, 0);\n                var type = buffer.readByte();\n                var src = buffer.readS();\n                var pkgId = buffer.readS();\n                buffer.position = curPos;\n                if (src != null) {\n                    if (pkgId != null)\n                        pkg = fgui.UIPackage.getById(pkgId);\n                    else\n                        pkg = item.owner;\n                    pi = pkg != null ? pkg.getItemById(src) : null;\n                    di = new DisplayListItem(pi, type);\n                    if (pi != null && pi.type == fgui.PackageItemType.Component)\n                        di.childCount = this.collectComponentChildren(pi);\n                }\n                else {\n                    di = new DisplayListItem(null, type);\n                    if (type == fgui.ObjectType.List)\n                        di.listItemCount = this.collectListChildren(buffer);\n                }\n                this._itemList.push(di);\n                buffer.position = curPos + dataLen;\n            }\n            return dcnt;\n        };\n        AsyncOperationRunner.prototype.collectListChildren = function (buffer) {\n            buffer.seek(buffer.position, 8);\n            var listItemCount = 0;\n            var i;\n            var nextPos;\n            var url;\n            var pi;\n            var di;\n            var defaultItem = buffer.readS();\n            var itemCount = buffer.readShort();\n            for (i = 0; i < itemCount; i++) {\n                nextPos = buffer.readShort();\n                nextPos += buffer.position;\n                url = buffer.readS();\n                if (url == null)\n                    url = defaultItem;\n                if (url) {\n                    pi = fgui.UIPackage.getItemByURL(url);\n                    if (pi != null) {\n                        di = new DisplayListItem(pi, pi.objectType);\n                        if (pi.type == fgui.PackageItemType.Component)\n                            di.childCount = this.collectComponentChildren(pi);\n                        this._itemList.push(di);\n                        listItemCount++;\n                    }\n                }\n                buffer.position = nextPos;\n            }\n            return listItemCount;\n        };\n        AsyncOperationRunner.prototype.update = function () {\n            var obj;\n            var di;\n            var poolStart;\n            var k;\n            var t = fgui.ToolSet.getTime();\n            var frameTime = fgui.UIConfig.frameTimeForAsyncUIConstruction;\n            var totalItems = this._itemList.length;\n            while (this._index < totalItems) {\n                di = this._itemList[this._index];\n                if (di.packageItem != null) {\n                    if (di.userClass) {\n                        obj = new di.userClass();\n                    }\n                    else {\n                        obj = fgui.UIObjectFactory.newObject(di.packageItem);\n                    }\n                    obj.packageItem = di.packageItem;\n                    obj.name = di.name;\n                    this._objectPool.push(obj);\n                    fgui.UIPackage._constructing++;\n                    if (di.packageItem.type == fgui.PackageItemType.Component) {\n                        poolStart = this._objectPool.length - di.childCount - 1;\n                        obj.constructFromResource2(this._objectPool, poolStart);\n                        this._objectPool.splice(poolStart, di.childCount);\n                    }\n                    else {\n                        obj.constructFromResource();\n                    }\n                    fgui.UIPackage._constructing--;\n                }\n                else {\n                    obj = fgui.UIObjectFactory.newObject2(di.type);\n                    this._objectPool.push(obj);\n                    if (di.type == fgui.ObjectType.List && di.listItemCount > 0) {\n                        poolStart = this._objectPool.length - di.listItemCount - 1;\n                        for (k = 0; k < di.listItemCount; k++)\n                            obj.itemPool.returnObject(this._objectPool[k + poolStart]);\n                        this._objectPool.splice(poolStart, di.listItemCount);\n                    }\n                }\n                this._index++;\n                if ((this._index % 5 == 0) && fgui.ToolSet.getTime() - t >= frameTime)\n                    return false;\n            }\n            var result = this._objectPool[0];\n            this._itemList.length = 0;\n            this._objectPool.length = 0;\n            if (this._host) {\n                this._host.completed(result);\n            }\n            return true;\n        };\n        return AsyncOperationRunner;\n    }());\n    var DisplayListItem = (function () {\n        function DisplayListItem(packageItem, type) {\n            this.userClass = null;\n            this.packageItem = packageItem;\n            this.type = type;\n        }\n        return DisplayListItem;\n    }());\n})(fgui || (fgui = {}));\nvar fgui;\n(function (fgui) {\n    var Controller = (function (_super) {\n        __extends(Controller, _super);\n        function Controller() {\n            var _this = _super.call(this) || this;\n            _this._selectedIndex = 0;\n            _this._previousIndex = 0;\n            _this.changing = false;\n            _this._runningActions = 0;\n            _this._pageIds = [];\n            _this._pageNames = [];\n            _this._selectedIndex = -1;\n            _this._previousIndex = -1;\n            return _this;\n        }\n        Controller.prototype.addAction = function (act) {\n            if (!this._actions) {\n                this._actions = [];\n            }\n            this._actions.push(act);\n        };\n        Controller.prototype.dispose = function () {\n        };\n        Object.defineProperty(Controller.prototype, \"selectedIndex\", {\n            get: function () {\n                return this._selectedIndex;\n            },\n            set: function (value) {\n                if (this._selectedIndex != value) {\n                    if (value > this._pageIds.length - 1)\n                        throw \"index out of bounds: \" + value;\n                    this.changing = true;\n                    this._previousIndex = this._selectedIndex;\n                    this._selectedIndex = value;\n                    this.parent.applyController(this);\n                    this.emit(fgui.Event.STATUS_CHANGED, this);\n                    this.changing = false;\n                }\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Controller.prototype.onChanged = function (callback, target) {\n            this.on(fgui.Event.STATUS_CHANGED, callback, target);\n        };\n        Controller.prototype.offChanged = function (callback, target) {\n            this.off(fgui.Event.STATUS_CHANGED, callback, target);\n        };\n        Controller.prototype.setSelectedIndex = function (value) {\n            if (this._selectedIndex != value) {\n                if (value > this._pageIds.length - 1)\n                    throw \"index out of bounds: \" + value;\n                this.changing = true;\n                this._previousIndex = this._selectedIndex;\n                this._selectedIndex = value;\n                this.parent.applyController(this);\n                this.changing = false;\n            }\n        };\n        Controller.prototype.setAndWaitSelectedIndex = function (value, callback) {\n            if (value > this._pageIds.length - 1)\n                throw \"index out of bounds: \" + value;\n            this.changing = true;\n            this._previousIndex = this._selectedIndex;\n            this._selectedIndex = value;\n            this.parent.applyController(this, callback);\n            this.emit(fgui.Event.STATUS_CHANGED, this);\n            this.changing = false;\n        };\n        Object.defineProperty(Controller.prototype, \"previsousIndex\", {\n            get: function () {\n                return this._previousIndex;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(Controller.prototype, \"selectedPage\", {\n            get: function () {\n                if (this._selectedIndex == -1)\n                    return null;\n                else\n                    return this._pageNames[this._selectedIndex];\n            },\n            set: function (val) {\n                var i = this._pageNames.indexOf(val);\n                if (i == -1)\n                    i = 0;\n                this.selectedIndex = i;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Controller.prototype.setSelectedPage = function (value) {\n            var i = this._pageNames.indexOf(value);\n            if (i == -1)\n                i = 0;\n            this.setSelectedIndex(i);\n        };\n        Object.defineProperty(Controller.prototype, \"previousPage\", {\n            get: function () {\n                if (this._previousIndex == -1)\n                    return null;\n                else\n                    return this._pageNames[this._previousIndex];\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(Controller.prototype, \"pageCount\", {\n            get: function () {\n                return this._pageIds.length;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Controller.prototype.getPageName = function (index) {\n            return this._pageNames[index];\n        };\n        Controller.prototype.addPage = function (name) {\n            if (name === void 0) { name = \"\"; }\n            this.addPageAt(name, this._pageIds.length);\n        };\n        Controller.prototype.addPageAt = function (name, index) {\n            var nid = \"\" + (Controller._nextPageId++);\n            if (index == this._pageIds.length) {\n                this._pageIds.push(nid);\n                this._pageNames.push(name);\n            }\n            else {\n                this._pageIds.splice(index, 0, nid);\n                this._pageNames.splice(index, 0, name);\n            }\n        };\n        Controller.prototype.removePage = function (name) {\n            var i = this._pageNames.indexOf(name);\n            if (i != -1) {\n                this._pageIds.splice(i, 1);\n                this._pageNames.splice(i, 1);\n                if (this._selectedIndex >= this._pageIds.length)\n                    this.selectedIndex = this._selectedIndex - 1;\n                else\n                    this.parent.applyController(this);\n            }\n        };\n        Controller.prototype.removePageAt = function (index) {\n            this._pageIds.splice(index, 1);\n            this._pageNames.splice(index, 1);\n            if (this._selectedIndex >= this._pageIds.length)\n                this.selectedIndex = this._selectedIndex - 1;\n            else\n                this.parent.applyController(this);\n        };\n        Controller.prototype.clearPages = function () {\n            this._pageIds.length = 0;\n            this._pageNames.length = 0;\n            if (this._selectedIndex != -1)\n                this.selectedIndex = -1;\n            else\n                this.parent.applyController(this);\n        };\n        Controller.prototype.hasPage = function (aName) {\n            return this._pageNames.indexOf(aName) != -1;\n        };\n        Controller.prototype.getPageIndexById = function (aId) {\n            return this._pageIds.indexOf(aId);\n        };\n        Controller.prototype.getPageIdByName = function (aName) {\n            var i = this._pageNames.indexOf(aName);\n            if (i != -1)\n                return this._pageIds[i];\n            else\n                return null;\n        };\n        Controller.prototype.getPageNameById = function (aId) {\n            var i = this._pageIds.indexOf(aId);\n            if (i != -1)\n                return this._pageNames[i];\n            else\n                return null;\n        };\n        Controller.prototype.getPageId = function (index) {\n            return this._pageIds[index];\n        };\n        Object.defineProperty(Controller.prototype, \"selectedPageId\", {\n            get: function () {\n                if (this._selectedIndex == -1)\n                    return null;\n                else\n                    return this._pageIds[this._selectedIndex];\n            },\n            set: function (val) {\n                var i = this._pageIds.indexOf(val);\n                this.selectedIndex = i;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(Controller.prototype, \"oppositePageId\", {\n            set: function (val) {\n                var i = this._pageIds.indexOf(val);\n                if (i > 0)\n                    this.selectedIndex = 0;\n                else if (this._pageIds.length > 1)\n                    this.selectedIndex = 1;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(Controller.prototype, \"previousPageId\", {\n            get: function () {\n                if (this._previousIndex == -1)\n                    return null;\n                else\n                    return this._pageIds[this._previousIndex];\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Controller.prototype.runActions = function (callback) {\n            if (this._actions) {\n                var cnt = this._actions.length;\n                this._runningActions = cnt;\n                this._runningCallback = callback;\n                for (var i = 0; i < cnt; i++)\n                    this._actions[i].run(this, this.previousPageId, this.selectedPageId);\n            }\n        };\n        Controller.prototype.onActionRunDone = function () {\n            --this._runningActions;\n            if (this._runningActions <= 0) {\n                if (this._runningCallback) {\n                    this._runningCallback();\n                    this._runningCallback = null;\n                }\n                this._runningActions = 0;\n            }\n        };\n        Controller.prototype.setup = function (buffer) {\n            var beginPos = buffer.position;\n            buffer.seek(beginPos, 0);\n            this.name = buffer.readS();\n            this.autoRadioGroupDepth = buffer.readBool();\n            buffer.seek(beginPos, 1);\n            var i;\n            var nextPos;\n            var cnt = buffer.readShort();\n            for (i = 0; i < cnt; i++) {\n                this._pageIds.push(buffer.readS());\n                this._pageNames.push(buffer.readS());\n            }\n            var homePageIndex = 0;\n            if (buffer.version >= 2) {\n                var homePageType = buffer.readByte();\n                switch (homePageType) {\n                    case 1:\n                        homePageIndex = buffer.readShort();\n                        break;\n                    case 2:\n                        homePageIndex = this._pageNames.indexOf(fgui.UIPackage.branch);\n                        if (homePageIndex == -1)\n                            homePageIndex = 0;\n                        break;\n                    case 3:\n                        homePageIndex = this._pageNames.indexOf(fgui.UIPackage.getVar(buffer.readS()));\n                        if (homePageIndex == -1)\n                            homePageIndex = 0;\n                        break;\n                }\n            }\n            buffer.seek(beginPos, 2);\n            cnt = buffer.readShort();\n            if (cnt > 0) {\n                if (this._actions == null)\n                    this._actions = new Array();\n                for (i = 0; i < cnt; i++) {\n                    nextPos = buffer.readShort();\n                    nextPos += buffer.position;\n                    var action = fgui.ControllerAction.createAction(buffer.readByte());\n                    action.setup(buffer);\n                    this._actions.push(action);\n                    buffer.position = nextPos;\n                }\n            }\n            if (this.parent != null && this._pageIds.length > 0)\n                this._selectedIndex = homePageIndex;\n            else\n                this._selectedIndex = -1;\n        };\n        Controller._nextPageId = 0;\n        return Controller;\n    }(cc.EventTarget));\n    fgui.Controller = Controller;\n})(fgui || (fgui = {}));\nvar fgui;\n(function (fgui) {\n    var DragDropManager = (function () {\n        function DragDropManager() {\n            this._agent = new fgui.GLoader();\n            this._agent.draggable = true;\n            this._agent.touchable = false;\n            this._agent.setSize(100, 100);\n            this._agent.setPivot(0.5, 0.5, true);\n            this._agent.align = fgui.AlignType.Center;\n            this._agent.verticalAlign = fgui.VertAlignType.Middle;\n            this._agent.sortingOrder = 1000000;\n            this._agent.on(fgui.Event.DRAG_END, this.onDragEnd, this);\n        }\n        Object.defineProperty(DragDropManager, \"inst\", {\n            get: function () {\n                if (DragDropManager._inst == null)\n                    DragDropManager._inst = new DragDropManager();\n                return DragDropManager._inst;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(DragDropManager.prototype, \"dragAgent\", {\n            get: function () {\n                return this._agent;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(DragDropManager.prototype, \"dragging\", {\n            get: function () {\n                return this._agent.parent != null;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        DragDropManager.prototype.startDrag = function (source, icon, sourceData, touchId) {\n            if (this._agent.parent != null)\n                return;\n            this._sourceData = sourceData;\n            this._agent.url = icon;\n            fgui.GRoot.inst.addChild(this._agent);\n            var pt = fgui.GRoot.inst.getTouchPosition(touchId);\n            pt = fgui.GRoot.inst.globalToLocal(pt.x, pt.y);\n            this._agent.setPosition(pt.x, pt.y);\n            this._agent.startDrag(touchId);\n        };\n        DragDropManager.prototype.cancel = function () {\n            if (this._agent.parent != null) {\n                this._agent.stopDrag();\n                fgui.GRoot.inst.removeChild(this._agent);\n                this._sourceData = null;\n            }\n        };\n        DragDropManager.prototype.onDragEnd = function () {\n            if (this._agent.parent == null)\n                return;\n            fgui.GRoot.inst.removeChild(this._agent);\n            var sourceData = this._sourceData;\n            this._sourceData = null;\n            var obj = fgui.GRoot.inst.touchTarget;\n            while (obj != null) {\n                if (obj.node.hasEventListener(fgui.Event.DROP)) {\n                    obj.requestFocus();\n                    obj.node.emit(fgui.Event.DROP, obj, sourceData);\n                    return;\n                }\n                obj = obj.parent;\n            }\n        };\n        return DragDropManager;\n    }());\n    fgui.DragDropManager = DragDropManager;\n})(fgui || (fgui = {}));\nvar fgui;\n(function (fgui) {\n    var ButtonMode;\n    (function (ButtonMode) {\n        ButtonMode[ButtonMode[\"Common\"] = 0] = \"Common\";\n        ButtonMode[ButtonMode[\"Check\"] = 1] = \"Check\";\n        ButtonMode[ButtonMode[\"Radio\"] = 2] = \"Radio\";\n    })(ButtonMode = fgui.ButtonMode || (fgui.ButtonMode = {}));\n    var AutoSizeType;\n    (function (AutoSizeType) {\n        AutoSizeType[AutoSizeType[\"None\"] = 0] = \"None\";\n        AutoSizeType[AutoSizeType[\"Both\"] = 1] = \"Both\";\n        AutoSizeType[AutoSizeType[\"Height\"] = 2] = \"Height\";\n        AutoSizeType[AutoSizeType[\"Shrink\"] = 3] = \"Shrink\";\n    })(AutoSizeType = fgui.AutoSizeType || (fgui.AutoSizeType = {}));\n    var AlignType;\n    (function (AlignType) {\n        AlignType[AlignType[\"Left\"] = 0] = \"Left\";\n        AlignType[AlignType[\"Center\"] = 1] = \"Center\";\n        AlignType[AlignType[\"Right\"] = 2] = \"Right\";\n    })(AlignType = fgui.AlignType || (fgui.AlignType = {}));\n    var VertAlignType;\n    (function (VertAlignType) {\n        VertAlignType[VertAlignType[\"Top\"] = 0] = \"Top\";\n        VertAlignType[VertAlignType[\"Middle\"] = 1] = \"Middle\";\n        VertAlignType[VertAlignType[\"Bottom\"] = 2] = \"Bottom\";\n    })(VertAlignType = fgui.VertAlignType || (fgui.VertAlignType = {}));\n    var LoaderFillType;\n    (function (LoaderFillType) {\n        LoaderFillType[LoaderFillType[\"None\"] = 0] = \"None\";\n        LoaderFillType[LoaderFillType[\"Scale\"] = 1] = \"Scale\";\n        LoaderFillType[LoaderFillType[\"ScaleMatchHeight\"] = 2] = \"ScaleMatchHeight\";\n        LoaderFillType[LoaderFillType[\"ScaleMatchWidth\"] = 3] = \"ScaleMatchWidth\";\n        LoaderFillType[LoaderFillType[\"ScaleFree\"] = 4] = \"ScaleFree\";\n        LoaderFillType[LoaderFillType[\"ScaleNoBorder\"] = 5] = \"ScaleNoBorder\";\n    })(LoaderFillType = fgui.LoaderFillType || (fgui.LoaderFillType = {}));\n    var ListLayoutType;\n    (function (ListLayoutType) {\n        ListLayoutType[ListLayoutType[\"SingleColumn\"] = 0] = \"SingleColumn\";\n        ListLayoutType[ListLayoutType[\"SingleRow\"] = 1] = \"SingleRow\";\n        ListLayoutType[ListLayoutType[\"FlowHorizontal\"] = 2] = \"FlowHorizontal\";\n        ListLayoutType[ListLayoutType[\"FlowVertical\"] = 3] = \"FlowVertical\";\n        ListLayoutType[ListLayoutType[\"Pagination\"] = 4] = \"Pagination\";\n    })(ListLayoutType = fgui.ListLayoutType || (fgui.ListLayoutType = {}));\n    var ListSelectionMode;\n    (function (ListSelectionMode) {\n        ListSelectionMode[ListSelectionMode[\"Single\"] = 0] = \"Single\";\n        ListSelectionMode[ListSelectionMode[\"Multiple\"] = 1] = \"Multiple\";\n        ListSelectionMode[ListSelectionMode[\"Multiple_SingleClick\"] = 2] = \"Multiple_SingleClick\";\n        ListSelectionMode[ListSelectionMode[\"None\"] = 3] = \"None\";\n    })(ListSelectionMode = fgui.ListSelectionMode || (fgui.ListSelectionMode = {}));\n    var OverflowType;\n    (function (OverflowType) {\n        OverflowType[OverflowType[\"Visible\"] = 0] = \"Visible\";\n        OverflowType[OverflowType[\"Hidden\"] = 1] = \"Hidden\";\n        OverflowType[OverflowType[\"Scroll\"] = 2] = \"Scroll\";\n    })(OverflowType = fgui.OverflowType || (fgui.OverflowType = {}));\n    var PackageItemType;\n    (function (PackageItemType) {\n        PackageItemType[PackageItemType[\"Image\"] = 0] = \"Image\";\n        PackageItemType[PackageItemType[\"MovieClip\"] = 1] = \"MovieClip\";\n        PackageItemType[PackageItemType[\"Sound\"] = 2] = \"Sound\";\n        PackageItemType[PackageItemType[\"Component\"] = 3] = \"Component\";\n        PackageItemType[PackageItemType[\"Atlas\"] = 4] = \"Atlas\";\n        PackageItemType[PackageItemType[\"Font\"] = 5] = \"Font\";\n        PackageItemType[PackageItemType[\"Swf\"] = 6] = \"Swf\";\n        PackageItemType[PackageItemType[\"Misc\"] = 7] = \"Misc\";\n        PackageItemType[PackageItemType[\"Unknown\"] = 8] = \"Unknown\";\n        PackageItemType[PackageItemType[\"Spine\"] = 9] = \"Spine\";\n        PackageItemType[PackageItemType[\"DragonBones\"] = 10] = \"DragonBones\";\n    })(PackageItemType = fgui.PackageItemType || (fgui.PackageItemType = {}));\n    var ObjectType;\n    (function (ObjectType) {\n        ObjectType[ObjectType[\"Image\"] = 0] = \"Image\";\n        ObjectType[ObjectType[\"MovieClip\"] = 1] = \"MovieClip\";\n        ObjectType[ObjectType[\"Swf\"] = 2] = \"Swf\";\n        ObjectType[ObjectType[\"Graph\"] = 3] = \"Graph\";\n        ObjectType[ObjectType[\"Loader\"] = 4] = \"Loader\";\n        ObjectType[ObjectType[\"Group\"] = 5] = \"Group\";\n        ObjectType[ObjectType[\"Text\"] = 6] = \"Text\";\n        ObjectType[ObjectType[\"RichText\"] = 7] = \"RichText\";\n        ObjectType[ObjectType[\"InputText\"] = 8] = \"InputText\";\n        ObjectType[ObjectType[\"Component\"] = 9] = \"Component\";\n        ObjectType[ObjectType[\"List\"] = 10] = \"List\";\n        ObjectType[ObjectType[\"Label\"] = 11] = \"Label\";\n        ObjectType[ObjectType[\"Button\"] = 12] = \"Button\";\n        ObjectType[ObjectType[\"ComboBox\"] = 13] = \"ComboBox\";\n        ObjectType[ObjectType[\"ProgressBar\"] = 14] = \"ProgressBar\";\n        ObjectType[ObjectType[\"Slider\"] = 15] = \"Slider\";\n        ObjectType[ObjectType[\"ScrollBar\"] = 16] = \"ScrollBar\";\n        ObjectType[ObjectType[\"Tree\"] = 17] = \"Tree\";\n        ObjectType[ObjectType[\"Loader3D\"] = 18] = \"Loader3D\";\n    })(ObjectType = fgui.ObjectType || (fgui.ObjectType = {}));\n    var ProgressTitleType;\n    (function (ProgressTitleType) {\n        ProgressTitleType[ProgressTitleType[\"Percent\"] = 0] = \"Percent\";\n        ProgressTitleType[ProgressTitleType[\"ValueAndMax\"] = 1] = \"ValueAndMax\";\n        ProgressTitleType[ProgressTitleType[\"Value\"] = 2] = \"Value\";\n        ProgressTitleType[ProgressTitleType[\"Max\"] = 3] = \"Max\";\n    })(ProgressTitleType = fgui.ProgressTitleType || (fgui.ProgressTitleType = {}));\n    var ScrollBarDisplayType;\n    (function (ScrollBarDisplayType) {\n        ScrollBarDisplayType[ScrollBarDisplayType[\"Default\"] = 0] = \"Default\";\n        ScrollBarDisplayType[ScrollBarDisplayType[\"Visible\"] = 1] = \"Visible\";\n        ScrollBarDisplayType[ScrollBarDisplayType[\"Auto\"] = 2] = \"Auto\";\n        ScrollBarDisplayType[ScrollBarDisplayType[\"Hidden\"] = 3] = \"Hidden\";\n    })(ScrollBarDisplayType = fgui.ScrollBarDisplayType || (fgui.ScrollBarDisplayType = {}));\n    var ScrollType;\n    (function (ScrollType) {\n        ScrollType[ScrollType[\"Horizontal\"] = 0] = \"Horizontal\";\n        ScrollType[ScrollType[\"Vertical\"] = 1] = \"Vertical\";\n        ScrollType[ScrollType[\"Both\"] = 2] = \"Both\";\n    })(ScrollType = fgui.ScrollType || (fgui.ScrollType = {}));\n    var FlipType;\n    (function (FlipType) {\n        FlipType[FlipType[\"None\"] = 0] = \"None\";\n        FlipType[FlipType[\"Horizontal\"] = 1] = \"Horizontal\";\n        FlipType[FlipType[\"Vertical\"] = 2] = \"Vertical\";\n        FlipType[FlipType[\"Both\"] = 3] = \"Both\";\n    })(FlipType = fgui.FlipType || (fgui.FlipType = {}));\n    var ChildrenRenderOrder;\n    (function (ChildrenRenderOrder) {\n        ChildrenRenderOrder[ChildrenRenderOrder[\"Ascent\"] = 0] = \"Ascent\";\n        ChildrenRenderOrder[ChildrenRenderOrder[\"Descent\"] = 1] = \"Descent\";\n        ChildrenRenderOrder[ChildrenRenderOrder[\"Arch\"] = 2] = \"Arch\";\n    })(ChildrenRenderOrder = fgui.ChildrenRenderOrder || (fgui.ChildrenRenderOrder = {}));\n    var GroupLayoutType;\n    (function (GroupLayoutType) {\n        GroupLayoutType[GroupLayoutType[\"None\"] = 0] = \"None\";\n        GroupLayoutType[GroupLayoutType[\"Horizontal\"] = 1] = \"Horizontal\";\n        GroupLayoutType[GroupLayoutType[\"Vertical\"] = 2] = \"Vertical\";\n    })(GroupLayoutType = fgui.GroupLayoutType || (fgui.GroupLayoutType = {}));\n    var PopupDirection;\n    (function (PopupDirection) {\n        PopupDirection[PopupDirection[\"Auto\"] = 0] = \"Auto\";\n        PopupDirection[PopupDirection[\"Up\"] = 1] = \"Up\";\n        PopupDirection[PopupDirection[\"Down\"] = 2] = \"Down\";\n    })(PopupDirection = fgui.PopupDirection || (fgui.PopupDirection = {}));\n    var RelationType;\n    (function (RelationType) {\n        RelationType[RelationType[\"Left_Left\"] = 0] = \"Left_Left\";\n        RelationType[RelationType[\"Left_Center\"] = 1] = \"Left_Center\";\n        RelationType[RelationType[\"Left_Right\"] = 2] = \"Left_Right\";\n        RelationType[RelationType[\"Center_Center\"] = 3] = \"Center_Center\";\n        RelationType[RelationType[\"Right_Left\"] = 4] = \"Right_Left\";\n        RelationType[RelationType[\"Right_Center\"] = 5] = \"Right_Center\";\n        RelationType[RelationType[\"Right_Right\"] = 6] = \"Right_Right\";\n        RelationType[RelationType[\"Top_Top\"] = 7] = \"Top_Top\";\n        RelationType[RelationType[\"Top_Middle\"] = 8] = \"Top_Middle\";\n        RelationType[RelationType[\"Top_Bottom\"] = 9] = \"Top_Bottom\";\n        RelationType[RelationType[\"Middle_Middle\"] = 10] = \"Middle_Middle\";\n        RelationType[RelationType[\"Bottom_Top\"] = 11] = \"Bottom_Top\";\n        RelationType[RelationType[\"Bottom_Middle\"] = 12] = \"Bottom_Middle\";\n        RelationType[RelationType[\"Bottom_Bottom\"] = 13] = \"Bottom_Bottom\";\n        RelationType[RelationType[\"Width\"] = 14] = \"Width\";\n        RelationType[RelationType[\"Height\"] = 15] = \"Height\";\n        RelationType[RelationType[\"LeftExt_Left\"] = 16] = \"LeftExt_Left\";\n        RelationType[RelationType[\"LeftExt_Right\"] = 17] = \"LeftExt_Right\";\n        RelationType[RelationType[\"RightExt_Left\"] = 18] = \"RightExt_Left\";\n        RelationType[RelationType[\"RightExt_Right\"] = 19] = \"RightExt_Right\";\n        RelationType[RelationType[\"TopExt_Top\"] = 20] = \"TopExt_Top\";\n        RelationType[RelationType[\"TopExt_Bottom\"] = 21] = \"TopExt_Bottom\";\n        RelationType[RelationType[\"BottomExt_Top\"] = 22] = \"BottomExt_Top\";\n        RelationType[RelationType[\"BottomExt_Bottom\"] = 23] = \"BottomExt_Bottom\";\n        RelationType[RelationType[\"Size\"] = 24] = \"Size\";\n    })(RelationType = fgui.RelationType || (fgui.RelationType = {}));\n    var GraphType;\n    (function (GraphType) {\n        GraphType[GraphType[\"PlaceHolder\"] = 0] = \"PlaceHolder\";\n        GraphType[GraphType[\"Rect\"] = 1] = \"Rect\";\n        GraphType[GraphType[\"Ellipse\"] = 2] = \"Ellipse\";\n    })(GraphType = fgui.GraphType || (fgui.GraphType = {}));\n    var FillMethod;\n    (function (FillMethod) {\n        FillMethod[FillMethod[\"None\"] = 0] = \"None\";\n        FillMethod[FillMethod[\"Horizontal\"] = 1] = \"Horizontal\";\n        FillMethod[FillMethod[\"Vertical\"] = 2] = \"Vertical\";\n        FillMethod[FillMethod[\"Radial90\"] = 3] = \"Radial90\";\n        FillMethod[FillMethod[\"Radial180\"] = 4] = \"Radial180\";\n        FillMethod[FillMethod[\"Radial360\"] = 5] = \"Radial360\";\n    })(FillMethod = fgui.FillMethod || (fgui.FillMethod = {}));\n    var FillOrigin;\n    (function (FillOrigin) {\n        FillOrigin[FillOrigin[\"Top\"] = 0] = \"Top\";\n        FillOrigin[FillOrigin[\"Bottom\"] = 1] = \"Bottom\";\n        FillOrigin[FillOrigin[\"Left\"] = 2] = \"Left\";\n        FillOrigin[FillOrigin[\"Right\"] = 3] = \"Right\";\n    })(FillOrigin = fgui.FillOrigin || (fgui.FillOrigin = {}));\n    var ObjectPropID;\n    (function (ObjectPropID) {\n        ObjectPropID[ObjectPropID[\"Text\"] = 0] = \"Text\";\n        ObjectPropID[ObjectPropID[\"Icon\"] = 1] = \"Icon\";\n        ObjectPropID[ObjectPropID[\"Color\"] = 2] = \"Color\";\n        ObjectPropID[ObjectPropID[\"OutlineColor\"] = 3] = \"OutlineColor\";\n        ObjectPropID[ObjectPropID[\"Playing\"] = 4] = \"Playing\";\n        ObjectPropID[ObjectPropID[\"Frame\"] = 5] = \"Frame\";\n        ObjectPropID[ObjectPropID[\"DeltaTime\"] = 6] = \"DeltaTime\";\n        ObjectPropID[ObjectPropID[\"TimeScale\"] = 7] = \"TimeScale\";\n        ObjectPropID[ObjectPropID[\"FontSize\"] = 8] = \"FontSize\";\n        ObjectPropID[ObjectPropID[\"Selected\"] = 9] = \"Selected\";\n    })(ObjectPropID = fgui.ObjectPropID || (fgui.ObjectPropID = {}));\n})(fgui || (fgui = {}));\nvar fgui;\n(function (fgui) {\n    var GButton = (function (_super) {\n        __extends(GButton, _super);\n        function GButton() {\n            var _this = _super.call(this) || this;\n            _this._node.name = \"GButton\";\n            _this._mode = fgui.ButtonMode.Common;\n            _this._title = \"\";\n            _this._icon = \"\";\n            _this._sound = fgui.UIConfig.buttonSound;\n            _this._soundVolumeScale = fgui.UIConfig.buttonSoundVolumeScale;\n            _this._changeStateOnClick = true;\n            _this._downEffect = 0;\n            _this._downEffectValue = 0.8;\n            return _this;\n        }\n        Object.defineProperty(GButton.prototype, \"icon\", {\n            get: function () {\n                return this._icon;\n            },\n            set: function (value) {\n                this._icon = value;\n                value = (this._selected && this._selectedIcon) ? this._selectedIcon : this._icon;\n                if (this._iconObject != null)\n                    this._iconObject.icon = value;\n                this.updateGear(7);\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GButton.prototype, \"selectedIcon\", {\n            get: function () {\n                return this._selectedIcon;\n            },\n            set: function (value) {\n                this._selectedIcon = value;\n                value = (this._selected && this._selectedIcon) ? this._selectedIcon : this._icon;\n                if (this._iconObject != null)\n                    this._iconObject.icon = value;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GButton.prototype, \"title\", {\n            get: function () {\n                return this._title;\n            },\n            set: function (value) {\n                this._title = value;\n                if (this._titleObject)\n                    this._titleObject.text = (this._selected && this._selectedTitle) ? this._selectedTitle : this._title;\n                this.updateGear(6);\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GButton.prototype, \"text\", {\n            get: function () {\n                return this.title;\n            },\n            set: function (value) {\n                this.title = value;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GButton.prototype, \"selectedTitle\", {\n            get: function () {\n                return this._selectedTitle;\n            },\n            set: function (value) {\n                this._selectedTitle = value;\n                if (this._titleObject)\n                    this._titleObject.text = (this._selected && this._selectedTitle) ? this._selectedTitle : this._title;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GButton.prototype, \"titleColor\", {\n            get: function () {\n                var tf = this.getTextField();\n                if (tf != null)\n                    return tf.color;\n                else\n                    return cc.Color.BLACK;\n            },\n            set: function (value) {\n                var tf = this.getTextField();\n                if (tf != null)\n                    tf.color = value;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GButton.prototype, \"titleFontSize\", {\n            get: function () {\n                var tf = this.getTextField();\n                if (tf != null)\n                    return tf.fontSize;\n                else\n                    return 0;\n            },\n            set: function (value) {\n                var tf = this.getTextField();\n                if (tf != null)\n                    tf.fontSize = value;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GButton.prototype, \"sound\", {\n            get: function () {\n                return this._sound;\n            },\n            set: function (val) {\n                this._sound = val;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GButton.prototype, \"soundVolumeScale\", {\n            get: function () {\n                return this._soundVolumeScale;\n            },\n            set: function (value) {\n                this._soundVolumeScale = value;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GButton.prototype, \"selected\", {\n            get: function () {\n                return this._selected;\n            },\n            set: function (val) {\n                if (this._mode == fgui.ButtonMode.Common)\n                    return;\n                if (this._selected != val) {\n                    this._selected = val;\n                    this.setCurrentState();\n                    if (this._selectedTitle && this._titleObject)\n                        this._titleObject.text = this._selected ? this._selectedTitle : this._title;\n                    if (this._selectedIcon) {\n                        var str = this._selected ? this._selectedIcon : this._icon;\n                        if (this._iconObject != null)\n                            this._iconObject.icon = str;\n                    }\n                    if (this._relatedController\n                        && this._parent\n                        && !this._parent._buildingDisplayList) {\n                        if (this._selected) {\n                            this._relatedController.selectedPageId = this._relatedPageId;\n                            if (this._relatedController.autoRadioGroupDepth)\n                                this._parent.adjustRadioGroupDepth(this, this._relatedController);\n                        }\n                        else if (this._mode == fgui.ButtonMode.Check && this._relatedController.selectedPageId == this._relatedPageId)\n                            this._relatedController.oppositePageId = this._relatedPageId;\n                    }\n                }\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GButton.prototype, \"mode\", {\n            get: function () {\n                return this._mode;\n            },\n            set: function (value) {\n                if (this._mode != value) {\n                    if (value == fgui.ButtonMode.Common)\n                        this.selected = false;\n                    this._mode = value;\n                }\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GButton.prototype, \"relatedController\", {\n            get: function () {\n                return this._relatedController;\n            },\n            set: function (val) {\n                this._relatedController = val;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GButton.prototype, \"relatedPageId\", {\n            get: function () {\n                return this._relatedPageId;\n            },\n            set: function (val) {\n                this._relatedPageId = val;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GButton.prototype, \"changeStateOnClick\", {\n            get: function () {\n                return this._changeStateOnClick;\n            },\n            set: function (value) {\n                this._changeStateOnClick = value;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GButton.prototype, \"linkedPopup\", {\n            get: function () {\n                return this._linkedPopup;\n            },\n            set: function (value) {\n                this._linkedPopup = value;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        GButton.prototype.getTextField = function () {\n            if (this._titleObject instanceof fgui.GTextField)\n                return this._titleObject;\n            else if (this._titleObject instanceof fgui.GLabel)\n                return this._titleObject.getTextField();\n            else if (this._titleObject instanceof GButton)\n                return this._titleObject.getTextField();\n            else\n                return null;\n        };\n        GButton.prototype.fireClick = function () {\n            fgui.GRoot.inst.inputProcessor.simulateClick(this);\n        };\n        GButton.prototype.setState = function (val) {\n            if (this._buttonController)\n                this._buttonController.selectedPage = val;\n            if (this._downEffect == 1) {\n                var cnt = this.numChildren;\n                if (val == GButton.DOWN || val == GButton.SELECTED_OVER || val == GButton.SELECTED_DISABLED) {\n                    if (!this._downColor)\n                        this._downColor = new cc.Color();\n                    var r = this._downEffectValue * 255;\n                    this._downColor.setR(r).setG(r).setB(r);\n                    for (var i = 0; i < cnt; i++) {\n                        var obj = this.getChildAt(i);\n                        if (obj[\"color\"] != undefined && !(obj instanceof fgui.GTextField))\n                            obj.color = this._downColor;\n                    }\n                }\n                else {\n                    for (var i = 0; i < cnt; i++) {\n                        var obj = this.getChildAt(i);\n                        if (obj[\"color\"] != undefined && !(obj instanceof fgui.GTextField))\n                            obj.color = cc.Color.WHITE;\n                    }\n                }\n            }\n            else if (this._downEffect == 2) {\n                if (val == GButton.DOWN || val == GButton.SELECTED_OVER || val == GButton.SELECTED_DISABLED) {\n                    if (!this._downScaled) {\n                        this._downScaled = true;\n                        this.setScale(this.scaleX * this._downEffectValue, this.scaleY * this._downEffectValue);\n                    }\n                }\n                else {\n                    if (this._downScaled) {\n                        this._downScaled = false;\n                        this.setScale(this.scaleX / this._downEffectValue, this.scaleY / this._downEffectValue);\n                    }\n                }\n            }\n        };\n        GButton.prototype.setCurrentState = function () {\n            if (this.grayed && this._buttonController && this._buttonController.hasPage(GButton.DISABLED)) {\n                if (this._selected)\n                    this.setState(GButton.SELECTED_DISABLED);\n                else\n                    this.setState(GButton.DISABLED);\n            }\n            else {\n                if (this._selected)\n                    this.setState(this._over ? GButton.SELECTED_OVER : GButton.DOWN);\n                else\n                    this.setState(this._over ? GButton.OVER : GButton.UP);\n            }\n        };\n        GButton.prototype.handleControllerChanged = function (c) {\n            _super.prototype.handleControllerChanged.call(this, c);\n            if (this._relatedController == c)\n                this.selected = this._relatedPageId == c.selectedPageId;\n        };\n        GButton.prototype.handleGrayedChanged = function () {\n            if (this._buttonController && this._buttonController.hasPage(GButton.DISABLED)) {\n                if (this.grayed) {\n                    if (this._selected && this._buttonController.hasPage(GButton.SELECTED_DISABLED))\n                        this.setState(GButton.SELECTED_DISABLED);\n                    else\n                        this.setState(GButton.DISABLED);\n                }\n                else if (this._selected)\n                    this.setState(GButton.DOWN);\n                else\n                    this.setState(GButton.UP);\n            }\n            else\n                _super.prototype.handleGrayedChanged.call(this);\n        };\n        GButton.prototype.getProp = function (index) {\n            switch (index) {\n                case fgui.ObjectPropID.Color:\n                    return this.titleColor;\n                case fgui.ObjectPropID.OutlineColor:\n                    {\n                        var tf = this.getTextField();\n                        if (tf)\n                            return tf.strokeColor;\n                        else\n                            return 0;\n                    }\n                case fgui.ObjectPropID.FontSize:\n                    return this.titleFontSize;\n                case fgui.ObjectPropID.Selected:\n                    return this.selected;\n                default:\n                    return _super.prototype.getProp.call(this, index);\n            }\n        };\n        GButton.prototype.setProp = function (index, value) {\n            switch (index) {\n                case fgui.ObjectPropID.Color:\n                    this.titleColor = value;\n                    break;\n                case fgui.ObjectPropID.OutlineColor:\n                    {\n                        var tf = this.getTextField();\n                        if (tf)\n                            tf.strokeColor = value;\n                    }\n                    break;\n                case fgui.ObjectPropID.FontSize:\n                    this.titleFontSize = value;\n                    break;\n                case fgui.ObjectPropID.Selected:\n                    this.selected = value;\n                    break;\n                default:\n                    _super.prototype.setProp.call(this, index, value);\n                    break;\n            }\n        };\n        GButton.prototype.constructExtension = function (buffer) {\n            buffer.seek(0, 6);\n            this._mode = buffer.readByte();\n            var str = buffer.readS();\n            if (str)\n                this._sound = str;\n            this._soundVolumeScale = buffer.readFloat();\n            this._downEffect = buffer.readByte();\n            this._downEffectValue = buffer.readFloat();\n            if (this._downEffect == 2)\n                this.setPivot(0.5, 0.5, this.pivotAsAnchor);\n            this._buttonController = this.getController(\"button\");\n            this._titleObject = this.getChild(\"title\");\n            this._iconObject = this.getChild(\"icon\");\n            if (this._titleObject != null)\n                this._title = this._titleObject.text;\n            if (this._iconObject != null)\n                this._icon = this._iconObject.icon;\n            if (this._mode == fgui.ButtonMode.Common)\n                this.setState(GButton.UP);\n            this._node.on(fgui.Event.TOUCH_BEGIN, this.onTouchBegin_1, this);\n            this._node.on(fgui.Event.TOUCH_END, this.onTouchEnd_1, this);\n            this._node.on(fgui.Event.ROLL_OVER, this.onRollOver_1, this);\n            this._node.on(fgui.Event.ROLL_OUT, this.onRollOut_1, this);\n            this._node.on(fgui.Event.CLICK, this.onClick_1, this);\n        };\n        GButton.prototype.setup_afterAdd = function (buffer, beginPos) {\n            _super.prototype.setup_afterAdd.call(this, buffer, beginPos);\n            if (!buffer.seek(beginPos, 6))\n                return;\n            if (buffer.readByte() != this.packageItem.objectType)\n                return;\n            var str;\n            var iv;\n            str = buffer.readS();\n            if (str != null)\n                this.title = str;\n            str = buffer.readS();\n            if (str != null)\n                this.selectedTitle = str;\n            str = buffer.readS();\n            if (str != null)\n                this.icon = str;\n            str = buffer.readS();\n            if (str != null)\n                this.selectedIcon = str;\n            if (buffer.readBool())\n                this.titleColor = buffer.readColor();\n            iv = buffer.readInt();\n            if (iv != 0)\n                this.titleFontSize = iv;\n            iv = buffer.readShort();\n            if (iv >= 0)\n                this._relatedController = this.parent.getControllerAt(iv);\n            this._relatedPageId = buffer.readS();\n            str = buffer.readS();\n            if (str != null)\n                this._sound = str;\n            if (buffer.readBool())\n                this._soundVolumeScale = buffer.readFloat();\n            this.selected = buffer.readBool();\n        };\n        GButton.prototype.onRollOver_1 = function () {\n            if (!this._buttonController || !this._buttonController.hasPage(GButton.OVER))\n                return;\n            this._over = true;\n            if (this._down)\n                return;\n            if (this.grayed && this._buttonController.hasPage(GButton.DISABLED))\n                return;\n            this.setState(this._selected ? GButton.SELECTED_OVER : GButton.OVER);\n        };\n        GButton.prototype.onRollOut_1 = function () {\n            if (!this._buttonController || !this._buttonController.hasPage(GButton.OVER))\n                return;\n            this._over = false;\n            if (this._down)\n                return;\n            if (this.grayed && this._buttonController.hasPage(GButton.DISABLED))\n                return;\n            this.setState(this._selected ? GButton.DOWN : GButton.UP);\n        };\n        GButton.prototype.onTouchBegin_1 = function (evt) {\n            if (evt.button != cc.Event.EventMouse.BUTTON_LEFT)\n                return;\n            this._down = true;\n            evt.captureTouch();\n            if (this._mode == fgui.ButtonMode.Common) {\n                if (this.grayed && this._buttonController && this._buttonController.hasPage(GButton.DISABLED))\n                    this.setState(GButton.SELECTED_DISABLED);\n                else\n                    this.setState(GButton.DOWN);\n            }\n            if (this._linkedPopup != null) {\n                if (this._linkedPopup instanceof fgui.Window)\n                    (this._linkedPopup).toggleStatus();\n                else\n                    this.root.togglePopup(this._linkedPopup, this);\n            }\n        };\n        GButton.prototype.onTouchEnd_1 = function (evt) {\n            if (evt.button != cc.Event.EventMouse.BUTTON_LEFT)\n                return;\n            if (this._down) {\n                this._down = false;\n                if (this._node == null)\n                    return;\n                if (this._mode == fgui.ButtonMode.Common) {\n                    if (this.grayed && this._buttonController && this._buttonController.hasPage(GButton.DISABLED))\n                        this.setState(GButton.DISABLED);\n                    else if (this._over)\n                        this.setState(GButton.OVER);\n                    else\n                        this.setState(GButton.UP);\n                }\n                else {\n                    if (!this._over\n                        && this._buttonController != null\n                        && (this._buttonController.selectedPage == GButton.OVER\n                            || this._buttonController.selectedPage == GButton.SELECTED_OVER)) {\n                        this.setCurrentState();\n                    }\n                }\n            }\n        };\n        GButton.prototype.onClick_1 = function () {\n            if (this._sound) {\n                var pi = fgui.UIPackage.getItemByURL(this._sound);\n                if (pi) {\n                    var sound = pi.owner.getItemAsset(pi);\n                    if (sound)\n                        fgui.GRoot.inst.playOneShotSound(sound, this._soundVolumeScale);\n                }\n            }\n            if (this._mode == fgui.ButtonMode.Check) {\n                if (this._changeStateOnClick) {\n                    this.selected = !this._selected;\n                    this._node.emit(fgui.Event.STATUS_CHANGED, this);\n                }\n            }\n            else if (this._mode == fgui.ButtonMode.Radio) {\n                if (this._changeStateOnClick && !this._selected) {\n                    this.selected = true;\n                    this._node.emit(fgui.Event.STATUS_CHANGED, this);\n                }\n            }\n            else {\n                if (this._relatedController)\n                    this._relatedController.selectedPageId = this._relatedPageId;\n            }\n        };\n        GButton.UP = \"up\";\n        GButton.DOWN = \"down\";\n        GButton.OVER = \"over\";\n        GButton.SELECTED_OVER = \"selectedOver\";\n        GButton.DISABLED = \"disabled\";\n        GButton.SELECTED_DISABLED = \"selectedDisabled\";\n        return GButton;\n    }(fgui.GComponent));\n    fgui.GButton = GButton;\n})(fgui || (fgui = {}));\nvar fgui;\n(function (fgui) {\n    var GComboBox = (function (_super) {\n        __extends(GComboBox, _super);\n        function GComboBox() {\n            var _this = _super.call(this) || this;\n            _this._visibleItemCount = 0;\n            _this._selectedIndex = 0;\n            _this._popupDirection = fgui.PopupDirection.Auto;\n            _this._node.name = \"GComboBox\";\n            _this._visibleItemCount = fgui.UIConfig.defaultComboBoxVisibleItemCount;\n            _this._itemsUpdated = true;\n            _this._selectedIndex = -1;\n            _this._items = [];\n            _this._values = [];\n            return _this;\n        }\n        Object.defineProperty(GComboBox.prototype, \"text\", {\n            get: function () {\n                if (this._titleObject)\n                    return this._titleObject.text;\n                else\n                    return null;\n            },\n            set: function (value) {\n                if (this._titleObject)\n                    this._titleObject.text = value;\n                this.updateGear(6);\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GComboBox.prototype, \"icon\", {\n            get: function () {\n                if (this._iconObject)\n                    return this._iconObject.icon;\n                else\n                    return null;\n            },\n            set: function (value) {\n                if (this._iconObject)\n                    this._iconObject.icon = value;\n                this.updateGear(7);\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GComboBox.prototype, \"titleColor\", {\n            get: function () {\n                var tf = this.getTextField();\n                if (tf != null)\n                    return tf.color;\n                else\n                    return cc.Color.BLACK;\n            },\n            set: function (value) {\n                var tf = this.getTextField();\n                if (tf != null)\n                    tf.color = value;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GComboBox.prototype, \"titleFontSize\", {\n            get: function () {\n                var tf = this.getTextField();\n                if (tf != null)\n                    return tf.fontSize;\n                else\n                    return 0;\n            },\n            set: function (value) {\n                var tf = this.getTextField();\n                if (tf != null)\n                    tf.fontSize = value;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GComboBox.prototype, \"visibleItemCount\", {\n            get: function () {\n                return this._visibleItemCount;\n            },\n            set: function (value) {\n                this._visibleItemCount = value;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GComboBox.prototype, \"popupDirection\", {\n            get: function () {\n                return this._popupDirection;\n            },\n            set: function (value) {\n                this._popupDirection = value;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GComboBox.prototype, \"items\", {\n            get: function () {\n                return this._items;\n            },\n            set: function (value) {\n                if (!value)\n                    this._items.length = 0;\n                else\n                    this._items = value.concat();\n                if (this._items.length > 0) {\n                    if (this._selectedIndex >= this._items.length)\n                        this._selectedIndex = this._items.length - 1;\n                    else if (this._selectedIndex == -1)\n                        this._selectedIndex = 0;\n                    this.text = this._items[this._selectedIndex];\n                    if (this._icons != null && this._selectedIndex < this._icons.length)\n                        this.icon = this._icons[this._selectedIndex];\n                }\n                else {\n                    this.text = \"\";\n                    if (this._icons != null)\n                        this.icon = null;\n                    this._selectedIndex = -1;\n                }\n                this._itemsUpdated = true;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GComboBox.prototype, \"icons\", {\n            get: function () {\n                return this._icons;\n            },\n            set: function (value) {\n                this._icons = value;\n                if (this._icons != null && this._selectedIndex != -1 && this._selectedIndex < this._icons.length)\n                    this.icon = this._icons[this._selectedIndex];\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GComboBox.prototype, \"values\", {\n            get: function () {\n                return this._values;\n            },\n            set: function (value) {\n                if (!value)\n                    this._values.length = 0;\n                else\n                    this._values = value.concat();\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GComboBox.prototype, \"selectedIndex\", {\n            get: function () {\n                return this._selectedIndex;\n            },\n            set: function (val) {\n                if (this._selectedIndex == val)\n                    return;\n                this._selectedIndex = val;\n                if (this._selectedIndex >= 0 && this._selectedIndex < this._items.length) {\n                    this.text = this._items[this._selectedIndex];\n                    if (this._icons != null && this._selectedIndex < this._icons.length)\n                        this.icon = this._icons[this._selectedIndex];\n                }\n                else {\n                    this.text = \"\";\n                    if (this._icons != null)\n                        this.icon = null;\n                }\n                this.updateSelectionController();\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GComboBox.prototype, \"value\", {\n            get: function () {\n                return this._values[this._selectedIndex];\n            },\n            set: function (val) {\n                var index = this._values.indexOf(val);\n                if (index == -1 && val == null)\n                    index = this._values.indexOf(\"\");\n                this.selectedIndex = index;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GComboBox.prototype, \"selectionController\", {\n            get: function () {\n                return this._selectionController;\n            },\n            set: function (value) {\n                this._selectionController = value;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        GComboBox.prototype.getTextField = function () {\n            if (this._titleObject instanceof fgui.GTextField)\n                return this._titleObject;\n            else if (this._titleObject instanceof fgui.GLabel)\n                return this._titleObject.getTextField();\n            else if (this._titleObject instanceof fgui.GButton)\n                return this._titleObject.getTextField();\n            else\n                return null;\n        };\n        GComboBox.prototype.setState = function (val) {\n            if (this._buttonController)\n                this._buttonController.selectedPage = val;\n        };\n        GComboBox.prototype.getProp = function (index) {\n            switch (index) {\n                case fgui.ObjectPropID.Color:\n                    return this.titleColor;\n                case fgui.ObjectPropID.OutlineColor:\n                    {\n                        var tf = this.getTextField();\n                        if (tf)\n                            return tf.strokeColor;\n                        else\n                            return 0;\n                    }\n                case fgui.ObjectPropID.FontSize:\n                    {\n                        tf = this.getTextField();\n                        if (tf)\n                            return tf.fontSize;\n                        else\n                            return 0;\n                    }\n                default:\n                    return _super.prototype.getProp.call(this, index);\n            }\n        };\n        GComboBox.prototype.setProp = function (index, value) {\n            switch (index) {\n                case fgui.ObjectPropID.Color:\n                    this.titleColor = value;\n                    break;\n                case fgui.ObjectPropID.OutlineColor:\n                    {\n                        var tf = this.getTextField();\n                        if (tf)\n                            tf.strokeColor = value;\n                    }\n                    break;\n                case fgui.ObjectPropID.FontSize:\n                    {\n                        tf = this.getTextField();\n                        if (tf)\n                            tf.fontSize = value;\n                    }\n                    break;\n                default:\n                    _super.prototype.setProp.call(this, index, value);\n                    break;\n            }\n        };\n        GComboBox.prototype.constructExtension = function (buffer) {\n            var str;\n            this._buttonController = this.getController(\"button\");\n            this._titleObject = this.getChild(\"title\");\n            this._iconObject = this.getChild(\"icon\");\n            str = buffer.readS();\n            if (str) {\n                this.dropdown = (fgui.UIPackage.createObjectFromURL(str));\n                if (!this.dropdown) {\n                    console.error(\"下拉框必须为元件\");\n                    return;\n                }\n                this.dropdown.name = \"this.dropdown\";\n                this._list = this.dropdown.getChild(\"list\").asList;\n                if (this._list == null) {\n                    console.error(this.resourceURL + \": 下拉框的弹出元件里必须包含名为list的列表\");\n                    return;\n                }\n                this._list.on(fgui.Event.CLICK_ITEM, this.onClickItem, this);\n                this._list.addRelation(this.dropdown, fgui.RelationType.Width);\n                this._list.removeRelation(this.dropdown, fgui.RelationType.Height);\n                this.dropdown.addRelation(this._list, fgui.RelationType.Height);\n                this.dropdown.removeRelation(this._list, fgui.RelationType.Width);\n                this.dropdown.on(fgui.Event.UNDISPLAY, this.onPopupClosed, this);\n            }\n            this._node.on(fgui.Event.TOUCH_BEGIN, this.onTouchBegin_1, this);\n            this._node.on(fgui.Event.TOUCH_END, this.onTouchEnd_1, this);\n            this._node.on(fgui.Event.ROLL_OVER, this.onRollOver_1, this);\n            this._node.on(fgui.Event.ROLL_OUT, this.onRollOut_1, this);\n        };\n        GComboBox.prototype.handleControllerChanged = function (c) {\n            _super.prototype.handleControllerChanged.call(this, c);\n            if (this._selectionController == c)\n                this.selectedIndex = c.selectedIndex;\n        };\n        GComboBox.prototype.updateSelectionController = function () {\n            if (this._selectionController != null && !this._selectionController.changing\n                && this._selectedIndex < this._selectionController.pageCount) {\n                var c = this._selectionController;\n                this._selectionController = null;\n                c.selectedIndex = this._selectedIndex;\n                this._selectionController = c;\n            }\n        };\n        GComboBox.prototype.dispose = function () {\n            if (this.dropdown) {\n                this.dropdown.dispose();\n                this.dropdown = null;\n            }\n            _super.prototype.dispose.call(this);\n        };\n        GComboBox.prototype.setup_afterAdd = function (buffer, beginPos) {\n            _super.prototype.setup_afterAdd.call(this, buffer, beginPos);\n            if (!buffer.seek(beginPos, 6))\n                return;\n            if (buffer.readByte() != this.packageItem.objectType)\n                return;\n            var i;\n            var iv;\n            var nextPos;\n            var str;\n            var itemCount = buffer.readShort();\n            for (i = 0; i < itemCount; i++) {\n                nextPos = buffer.readShort();\n                nextPos += buffer.position;\n                this._items[i] = buffer.readS();\n                this._values[i] = buffer.readS();\n                str = buffer.readS();\n                if (str != null) {\n                    if (this._icons == null)\n                        this._icons = new Array();\n                    this._icons[i] = str;\n                }\n                buffer.position = nextPos;\n            }\n            str = buffer.readS();\n            if (str != null) {\n                this.text = str;\n                this._selectedIndex = this._items.indexOf(str);\n            }\n            else if (this._items.length > 0) {\n                this._selectedIndex = 0;\n                this.text = this._items[0];\n            }\n            else\n                this._selectedIndex = -1;\n            str = buffer.readS();\n            if (str != null)\n                this.icon = str;\n            if (buffer.readBool())\n                this.titleColor = buffer.readColor();\n            iv = buffer.readInt();\n            if (iv > 0)\n                this._visibleItemCount = iv;\n            this._popupDirection = buffer.readByte();\n            iv = buffer.readShort();\n            if (iv >= 0)\n                this._selectionController = this.parent.getControllerAt(iv);\n        };\n        GComboBox.prototype.showDropdown = function () {\n            if (this._itemsUpdated) {\n                this._itemsUpdated = false;\n                this._list.removeChildrenToPool();\n                var cnt = this._items.length;\n                for (var i = 0; i < cnt; i++) {\n                    var item = this._list.addItemFromPool();\n                    item.name = i < this._values.length ? this._values[i] : \"\";\n                    item.text = this._items[i];\n                    item.icon = (this._icons != null && i < this._icons.length) ? this._icons[i] : null;\n                }\n                this._list.resizeToFit(this._visibleItemCount);\n            }\n            this._list.selectedIndex = -1;\n            this.dropdown.width = this.width;\n            this._list.ensureBoundsCorrect();\n            var downward = null;\n            if (this._popupDirection == fgui.PopupDirection.Down)\n                downward = true;\n            else if (this._popupDirection == fgui.PopupDirection.Up)\n                downward = false;\n            this.root.togglePopup(this.dropdown, this, downward);\n            if (this.dropdown.parent)\n                this.setState(fgui.GButton.DOWN);\n        };\n        GComboBox.prototype.onPopupClosed = function () {\n            if (this._over)\n                this.setState(fgui.GButton.OVER);\n            else\n                this.setState(fgui.GButton.UP);\n        };\n        GComboBox.prototype.onClickItem = function (itemObject) {\n            var _t = this;\n            var index = this._list.getChildIndex(itemObject);\n            this._partner.callLater(function (dt) {\n                _t.onClickItem2(index);\n            }, 0.1);\n        };\n        GComboBox.prototype.onClickItem2 = function (index) {\n            if (this.dropdown.parent instanceof fgui.GRoot)\n                this.dropdown.parent.hidePopup();\n            this._selectedIndex = -1;\n            this.selectedIndex = index;\n            this._node.emit(fgui.Event.STATUS_CHANGED, this);\n        };\n        GComboBox.prototype.onRollOver_1 = function () {\n            this._over = true;\n            if (this._down || this.dropdown && this.dropdown.parent)\n                return;\n            this.setState(fgui.GButton.OVER);\n        };\n        GComboBox.prototype.onRollOut_1 = function () {\n            this._over = false;\n            if (this._down || this.dropdown && this.dropdown.parent)\n                return;\n            this.setState(fgui.GButton.UP);\n        };\n        GComboBox.prototype.onTouchBegin_1 = function (evt) {\n            if (evt.button != cc.Event.EventMouse.BUTTON_LEFT)\n                return;\n            if ((evt.initiator instanceof fgui.GTextInput) && evt.initiator.editable)\n                return;\n            this._down = true;\n            evt.captureTouch();\n            if (this.dropdown)\n                this.showDropdown();\n        };\n        GComboBox.prototype.onTouchEnd_1 = function (evt) {\n            if (evt.button != cc.Event.EventMouse.BUTTON_LEFT)\n                return;\n            if (this._down) {\n                this._down = false;\n                if (this.dropdown && !this.dropdown.parent) {\n                    if (this._over)\n                        this.setState(fgui.GButton.OVER);\n                    else\n                        this.setState(fgui.GButton.UP);\n                }\n            }\n        };\n        return GComboBox;\n    }(fgui.GComponent));\n    fgui.GComboBox = GComboBox;\n})(fgui || (fgui = {}));\nvar fgui;\n(function (fgui) {\n    var GGraph = (function (_super) {\n        __extends(GGraph, _super);\n        function GGraph() {\n            var _this = _super.call(this) || this;\n            _this._type = 0;\n            _this._lineSize = 0;\n            _this._node.name = \"GGraph\";\n            _this._lineSize = 1;\n            _this._lineColor = new cc.Color();\n            _this._fillColor = new cc.Color(255, 255, 255, 255);\n            _this._cornerRadius = null;\n            _this._sides = 3;\n            _this._startAngle = 0;\n            _this._content = _this._node.addComponent(cc.Graphics);\n            return _this;\n        }\n        GGraph.prototype.drawRect = function (lineSize, lineColor, fillColor, corner) {\n            this._type = fgui.GraphType.Rect;\n            this._lineSize = lineSize;\n            this._lineColor.set(lineColor);\n            this._fillColor.set(fillColor);\n            this._cornerRadius = corner;\n            this.updateGraph();\n        };\n        GGraph.prototype.drawEllipse = function (lineSize, lineColor, fillColor) {\n            this._type = fgui.GraphType.Ellipse;\n            this._lineSize = lineSize;\n            this._lineColor.set(lineColor);\n            this._fillColor.set(fillColor);\n            this._cornerRadius = null;\n            this.updateGraph();\n        };\n        GGraph.prototype.drawRegularPolygon = function (lineSize, lineColor, fillColor, sides, startAngle, distances) {\n            if (startAngle === void 0) { startAngle = 0; }\n            if (distances === void 0) { distances = null; }\n            this._type = 4;\n            this._lineSize = lineSize;\n            this._lineColor.set(lineColor);\n            this._fillColor.set(fillColor);\n            this._sides = sides;\n            this._startAngle = startAngle;\n            this._distances = distances;\n            this.updateGraph();\n        };\n        GGraph.prototype.drawPolygon = function (lineSize, lineColor, fillColor, points) {\n            this._type = 3;\n            this._lineSize = lineSize;\n            this._lineColor.set(lineColor);\n            this._fillColor.set(fillColor);\n            this._polygonPoints = points;\n            this.updateGraph();\n        };\n        Object.defineProperty(GGraph.prototype, \"distances\", {\n            get: function () {\n                return this._distances;\n            },\n            set: function (value) {\n                this._distances = value;\n                if (this._type == 3)\n                    this.updateGraph();\n            },\n            enumerable: false,\n            configurable: true\n        });\n        GGraph.prototype.clearGraphics = function () {\n            this._type = fgui.GraphType.PlaceHolder;\n            if (this._hasContent) {\n                this._content.clear();\n                this._hasContent = false;\n            }\n        };\n        Object.defineProperty(GGraph.prototype, \"type\", {\n            get: function () {\n                return this._type;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GGraph.prototype, \"color\", {\n            get: function () {\n                return this._fillColor;\n            },\n            set: function (value) {\n                this._fillColor.set(value);\n                if (this._type != 0)\n                    this.updateGraph();\n            },\n            enumerable: false,\n            configurable: true\n        });\n        GGraph.prototype.updateGraph = function () {\n            var ctx = this._content;\n            if (this._hasContent) {\n                this._hasContent = false;\n                ctx.clear();\n            }\n            var w = this._width;\n            var h = this._height;\n            if (w == 0 || h == 0)\n                return;\n            var px = -this.pivotX * this._width;\n            var py = this.pivotY * this._height;\n            ctx.lineWidth = this._lineSize;\n            ctx.strokeColor = this._lineColor;\n            ctx.fillColor = this._fillColor;\n            if (this._type == 1) {\n                if (this._cornerRadius) {\n                    ctx.roundRect(0 + px, -h + py, w, h, this._cornerRadius[0]);\n                }\n                else\n                    ctx.rect(0 + px, -h + py, w, h);\n            }\n            else if (this._type == 2) {\n                ctx.ellipse(w / 2 + px, -h / 2 + py, w / 2, h / 2);\n            }\n            else if (this._type == 3) {\n                this.drawPath(ctx, this._polygonPoints, px, py);\n            }\n            else if (this._type == 4) {\n                if (!this._polygonPoints)\n                    this._polygonPoints = [];\n                var radius = Math.min(this._width, this._height) / 2;\n                this._polygonPoints.length = 0;\n                var angle = cc.misc.degreesToRadians(this._startAngle);\n                var deltaAngle = 2 * Math.PI / this._sides;\n                var dist;\n                for (var i = 0; i < this._sides; i++) {\n                    if (this._distances) {\n                        dist = this._distances[i];\n                        if (isNaN(dist))\n                            dist = 1;\n                    }\n                    else\n                        dist = 1;\n                    var xv = radius + radius * dist * Math.cos(angle);\n                    var yv = radius + radius * dist * Math.sin(angle);\n                    this._polygonPoints.push(xv, yv);\n                    angle += deltaAngle;\n                }\n                this.drawPath(ctx, this._polygonPoints, px, py);\n            }\n            if (this._lineSize != 0)\n                ctx.stroke();\n            ctx.fill();\n            this._hasContent = true;\n        };\n        GGraph.prototype.drawPath = function (ctx, points, px, py) {\n            var cnt = points.length;\n            ctx.moveTo(points[0] + px, -points[1] + py);\n            for (var i = 2; i < cnt; i += 2)\n                ctx.lineTo(points[i] + px, -points[i + 1] + py);\n            ctx.lineTo(points[0] + px, -points[1] + py);\n        };\n        GGraph.prototype.handleSizeChanged = function () {\n            _super.prototype.handleSizeChanged.call(this);\n            if (this._type != 0)\n                this.updateGraph();\n        };\n        GGraph.prototype.handleAnchorChanged = function () {\n            _super.prototype.handleAnchorChanged.call(this);\n            if (this._type != 0)\n                this.updateGraph();\n        };\n        GGraph.prototype.getProp = function (index) {\n            if (index == fgui.ObjectPropID.Color)\n                return this.color;\n            else\n                return _super.prototype.getProp.call(this, index);\n        };\n        GGraph.prototype.setProp = function (index, value) {\n            if (index == fgui.ObjectPropID.Color)\n                this.color = value;\n            else\n                _super.prototype.setProp.call(this, index, value);\n        };\n        GGraph.prototype.setup_beforeAdd = function (buffer, beginPos) {\n            _super.prototype.setup_beforeAdd.call(this, buffer, beginPos);\n            buffer.seek(beginPos, 5);\n            this._type = buffer.readByte();\n            if (this._type != 0) {\n                var i;\n                var cnt;\n                this._lineSize = buffer.readInt();\n                this._lineColor.set(buffer.readColor(true));\n                this._fillColor.set(buffer.readColor(true));\n                if (buffer.readBool()) {\n                    this._cornerRadius = new Array(4);\n                    for (i = 0; i < 4; i++)\n                        this._cornerRadius[i] = buffer.readFloat();\n                }\n                if (this._type == 3) {\n                    cnt = buffer.readShort();\n                    this._polygonPoints = [];\n                    this._polygonPoints.length = cnt;\n                    for (i = 0; i < cnt; i++)\n                        this._polygonPoints[i] = buffer.readFloat();\n                }\n                else if (this._type == 4) {\n                    this._sides = buffer.readShort();\n                    this._startAngle = buffer.readFloat();\n                    cnt = buffer.readShort();\n                    if (cnt > 0) {\n                        this._distances = [];\n                        for (i = 0; i < cnt; i++)\n                            this._distances[i] = buffer.readFloat();\n                    }\n                }\n                this.updateGraph();\n            }\n        };\n        return GGraph;\n    }(fgui.GObject));\n    fgui.GGraph = GGraph;\n})(fgui || (fgui = {}));\nvar fgui;\n(function (fgui) {\n    var GGroup = (function (_super) {\n        __extends(GGroup, _super);\n        function GGroup() {\n            var _this = _super.call(this) || this;\n            _this._layout = 0;\n            _this._lineGap = 0;\n            _this._columnGap = 0;\n            _this._mainGridIndex = -1;\n            _this._mainGridMinSize = 50;\n            _this._mainChildIndex = -1;\n            _this._totalSize = 0;\n            _this._numChildren = 0;\n            _this._updating = 0;\n            _this._node.name = \"GGroup\";\n            _this._touchDisabled = true;\n            return _this;\n        }\n        GGroup.prototype.dispose = function () {\n            this._boundsChanged = false;\n            _super.prototype.dispose.call(this);\n        };\n        Object.defineProperty(GGroup.prototype, \"layout\", {\n            get: function () {\n                return this._layout;\n            },\n            set: function (value) {\n                if (this._layout != value) {\n                    this._layout = value;\n                    this.setBoundsChangedFlag();\n                }\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GGroup.prototype, \"lineGap\", {\n            get: function () {\n                return this._lineGap;\n            },\n            set: function (value) {\n                if (this._lineGap != value) {\n                    this._lineGap = value;\n                    this.setBoundsChangedFlag(true);\n                }\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GGroup.prototype, \"columnGap\", {\n            get: function () {\n                return this._columnGap;\n            },\n            set: function (value) {\n                if (this._columnGap != value) {\n                    this._columnGap = value;\n                    this.setBoundsChangedFlag(true);\n                }\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GGroup.prototype, \"excludeInvisibles\", {\n            get: function () {\n                return this._excludeInvisibles;\n            },\n            set: function (value) {\n                if (this._excludeInvisibles != value) {\n                    this._excludeInvisibles = value;\n                    this.setBoundsChangedFlag();\n                }\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GGroup.prototype, \"autoSizeDisabled\", {\n            get: function () {\n                return this._autoSizeDisabled;\n            },\n            set: function (value) {\n                this._autoSizeDisabled = value;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GGroup.prototype, \"mainGridMinSize\", {\n            get: function () {\n                return this._mainGridMinSize;\n            },\n            set: function (value) {\n                if (this._mainGridMinSize != value) {\n                    this._mainGridMinSize = value;\n                    this.setBoundsChangedFlag();\n                }\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GGroup.prototype, \"mainGridIndex\", {\n            get: function () {\n                return this._mainGridIndex;\n            },\n            set: function (value) {\n                if (this._mainGridIndex != value) {\n                    this._mainGridIndex = value;\n                    this.setBoundsChangedFlag();\n                }\n            },\n            enumerable: false,\n            configurable: true\n        });\n        GGroup.prototype.setBoundsChangedFlag = function (positionChangedOnly) {\n            if (positionChangedOnly === void 0) { positionChangedOnly = false; }\n            if (this._updating == 0 && this._parent != null) {\n                if (!positionChangedOnly)\n                    this._percentReady = false;\n                if (!this._boundsChanged) {\n                    this._boundsChanged = true;\n                    if (this._layout != fgui.GroupLayoutType.None)\n                        this._partner.callLater(this._ensureBoundsCorrect);\n                }\n            }\n        };\n        GGroup.prototype._ensureBoundsCorrect = function () {\n            var _t = (this.node[\"$gobj\"]);\n            _t.ensureBoundsCorrect();\n        };\n        GGroup.prototype.ensureSizeCorrect = function () {\n            if (this._parent == null || !this._boundsChanged || this._layout == 0)\n                return;\n            this._boundsChanged = false;\n            if (this._autoSizeDisabled)\n                this.resizeChildren(0, 0);\n            else {\n                this.handleLayout();\n                this.updateBounds();\n            }\n        };\n        GGroup.prototype.ensureBoundsCorrect = function () {\n            if (this._parent == null || !this._boundsChanged)\n                return;\n            this._boundsChanged = false;\n            if (this._layout == 0)\n                this.updateBounds();\n            else {\n                if (this._autoSizeDisabled)\n                    this.resizeChildren(0, 0);\n                else {\n                    this.handleLayout();\n                    this.updateBounds();\n                }\n            }\n        };\n        GGroup.prototype.updateBounds = function () {\n            this._partner.unschedule(this._ensureBoundsCorrect);\n            var cnt = this._parent.numChildren;\n            var i;\n            var child;\n            var ax = Number.POSITIVE_INFINITY, ay = Number.POSITIVE_INFINITY;\n            var ar = Number.NEGATIVE_INFINITY, ab = Number.NEGATIVE_INFINITY;\n            var tmp;\n            var empty = true;\n            for (i = 0; i < cnt; i++) {\n                child = this._parent.getChildAt(i);\n                if (child.group != this || this._excludeInvisibles && !child.internalVisible3)\n                    continue;\n                tmp = child.xMin;\n                if (tmp < ax)\n                    ax = tmp;\n                tmp = child.yMin;\n                if (tmp < ay)\n                    ay = tmp;\n                tmp = child.xMin + child.width;\n                if (tmp > ar)\n                    ar = tmp;\n                tmp = child.yMin + child.height;\n                if (tmp > ab)\n                    ab = tmp;\n                empty = false;\n            }\n            var w = 0, h = 0;\n            if (!empty) {\n                this._updating |= 1;\n                this.setPosition(ax, ay);\n                this._updating &= 2;\n                w = ar - ax;\n                h = ab - ay;\n            }\n            if ((this._updating & 2) == 0) {\n                this._updating |= 2;\n                this.setSize(w, h);\n                this._updating &= 1;\n            }\n            else {\n                this._updating &= 1;\n                this.resizeChildren(this._width - w, this._height - h);\n            }\n        };\n        GGroup.prototype.handleLayout = function () {\n            this._updating |= 1;\n            var child;\n            var i;\n            var cnt;\n            if (this._layout == fgui.GroupLayoutType.Horizontal) {\n                var curX = this.x;\n                cnt = this._parent.numChildren;\n                for (i = 0; i < cnt; i++) {\n                    child = this._parent.getChildAt(i);\n                    if (child.group != this)\n                        continue;\n                    if (this._excludeInvisibles && !child.internalVisible3)\n                        continue;\n                    child.xMin = curX;\n                    if (child.width != 0)\n                        curX += child.width + this._columnGap;\n                }\n            }\n            else if (this._layout == fgui.GroupLayoutType.Vertical) {\n                var curY = this.y;\n                cnt = this._parent.numChildren;\n                for (i = 0; i < cnt; i++) {\n                    child = this._parent.getChildAt(i);\n                    if (child.group != this)\n                        continue;\n                    if (this._excludeInvisibles && !child.internalVisible3)\n                        continue;\n                    child.yMin = curY;\n                    if (child.height != 0)\n                        curY += child.height + this._lineGap;\n                }\n            }\n            this._updating &= 2;\n        };\n        GGroup.prototype.moveChildren = function (dx, dy) {\n            if ((this._updating & 1) != 0 || this._parent == null)\n                return;\n            this._updating |= 1;\n            var cnt = this._parent.numChildren;\n            var i;\n            var child;\n            for (i = 0; i < cnt; i++) {\n                child = this._parent.getChildAt(i);\n                if (child.group == this) {\n                    child.setPosition(child.x + dx, child.y + dy);\n                }\n            }\n            this._updating &= 2;\n        };\n        GGroup.prototype.resizeChildren = function (dw, dh) {\n            if (this._layout == fgui.GroupLayoutType.None || (this._updating & 2) != 0 || this._parent == null)\n                return;\n            this._updating |= 2;\n            if (this._boundsChanged) {\n                this._boundsChanged = false;\n                if (!this._autoSizeDisabled) {\n                    this.updateBounds();\n                    return;\n                }\n            }\n            var cnt = this._parent.numChildren;\n            var i;\n            var child;\n            if (!this._percentReady) {\n                this._percentReady = true;\n                this._numChildren = 0;\n                this._totalSize = 0;\n                this._mainChildIndex = -1;\n                var j = 0;\n                for (i = 0; i < cnt; i++) {\n                    child = this._parent.getChildAt(i);\n                    if (child.group != this)\n                        continue;\n                    if (!this._excludeInvisibles || child.internalVisible3) {\n                        if (j == this._mainGridIndex)\n                            this._mainChildIndex = i;\n                        this._numChildren++;\n                        if (this._layout == 1)\n                            this._totalSize += child.width;\n                        else\n                            this._totalSize += child.height;\n                    }\n                    j++;\n                }\n                if (this._mainChildIndex != -1) {\n                    if (this._layout == 1) {\n                        child = this._parent.getChildAt(this._mainChildIndex);\n                        this._totalSize += this._mainGridMinSize - child.width;\n                        child._sizePercentInGroup = this._mainGridMinSize / this._totalSize;\n                    }\n                    else {\n                        child = this._parent.getChildAt(this._mainChildIndex);\n                        this._totalSize += this._mainGridMinSize - child.height;\n                        child._sizePercentInGroup = this._mainGridMinSize / this._totalSize;\n                    }\n                }\n                for (i = 0; i < cnt; i++) {\n                    child = this._parent.getChildAt(i);\n                    if (child.group != this)\n                        continue;\n                    if (i == this._mainChildIndex)\n                        continue;\n                    if (this._totalSize > 0)\n                        child._sizePercentInGroup = (this._layout == 1 ? child.width : child.height) / this._totalSize;\n                    else\n                        child._sizePercentInGroup = 0;\n                }\n            }\n            var remainSize = 0;\n            var remainPercent = 1;\n            var priorHandled = false;\n            if (this._layout == 1) {\n                remainSize = this.width - (this._numChildren - 1) * this._columnGap;\n                if (this._mainChildIndex != -1 && remainSize >= this._totalSize) {\n                    child = this._parent.getChildAt(this._mainChildIndex);\n                    child.setSize(remainSize - (this._totalSize - this._mainGridMinSize), child._rawHeight + dh, true);\n                    remainSize -= child.width;\n                    remainPercent -= child._sizePercentInGroup;\n                    priorHandled = true;\n                }\n                var curX = this.x;\n                for (i = 0; i < cnt; i++) {\n                    child = this._parent.getChildAt(i);\n                    if (child.group != this)\n                        continue;\n                    if (this._excludeInvisibles && !child.internalVisible3) {\n                        child.setSize(child._rawWidth, child._rawHeight + dh, true);\n                        continue;\n                    }\n                    if (!priorHandled || i != this._mainChildIndex) {\n                        child.setSize(Math.round(child._sizePercentInGroup / remainPercent * remainSize), child._rawHeight + dh, true);\n                        remainPercent -= child._sizePercentInGroup;\n                        remainSize -= child.width;\n                    }\n                    child.xMin = curX;\n                    if (child.width != 0)\n                        curX += child.width + this._columnGap;\n                }\n            }\n            else {\n                remainSize = this.height - (this._numChildren - 1) * this._lineGap;\n                if (this._mainChildIndex != -1 && remainSize >= this._totalSize) {\n                    child = this._parent.getChildAt(this._mainChildIndex);\n                    child.setSize(child._rawWidth + dw, remainSize - (this._totalSize - this._mainGridMinSize), true);\n                    remainSize -= child.height;\n                    remainPercent -= child._sizePercentInGroup;\n                    priorHandled = true;\n                }\n                var curY = this.y;\n                for (i = 0; i < cnt; i++) {\n                    child = this._parent.getChildAt(i);\n                    if (child.group != this)\n                        continue;\n                    if (this._excludeInvisibles && !child.internalVisible3) {\n                        child.setSize(child._rawWidth + dw, child._rawHeight, true);\n                        continue;\n                    }\n                    if (!priorHandled || i != this._mainChildIndex) {\n                        child.setSize(child._rawWidth + dw, Math.round(child._sizePercentInGroup / remainPercent * remainSize), true);\n                        remainPercent -= child._sizePercentInGroup;\n                        remainSize -= child.height;\n                    }\n                    child.yMin = curY;\n                    if (child.height != 0)\n                        curY += child.height + this._lineGap;\n                }\n            }\n            this._updating &= 1;\n        };\n        GGroup.prototype.handleAlphaChanged = function () {\n            if (this._underConstruct)\n                return;\n            var cnt = this._parent.numChildren;\n            for (var i = 0; i < cnt; i++) {\n                var child = this._parent.getChildAt(i);\n                if (child.group == this)\n                    child.alpha = this.alpha;\n            }\n        };\n        GGroup.prototype.handleVisibleChanged = function () {\n            if (!this._parent)\n                return;\n            var cnt = this._parent.numChildren;\n            for (var i = 0; i < cnt; i++) {\n                var child = this._parent.getChildAt(i);\n                if (child.group == this)\n                    child.handleVisibleChanged();\n            }\n        };\n        GGroup.prototype.setup_beforeAdd = function (buffer, beginPos) {\n            _super.prototype.setup_beforeAdd.call(this, buffer, beginPos);\n            buffer.seek(beginPos, 5);\n            this._layout = buffer.readByte();\n            this._lineGap = buffer.readInt();\n            this._columnGap = buffer.readInt();\n            if (buffer.version >= 2) {\n                this._excludeInvisibles = buffer.readBool();\n                this._autoSizeDisabled = buffer.readBool();\n                this._mainChildIndex = buffer.readInt();\n            }\n        };\n        GGroup.prototype.setup_afterAdd = function (buffer, beginPos) {\n            _super.prototype.setup_afterAdd.call(this, buffer, beginPos);\n            if (!this.visible)\n                this.handleVisibleChanged();\n        };\n        return GGroup;\n    }(fgui.GObject));\n    fgui.GGroup = GGroup;\n})(fgui || (fgui = {}));\nvar fgui;\n(function (fgui) {\n    var GImage = (function (_super) {\n        __extends(GImage, _super);\n        function GImage() {\n            var _this = _super.call(this) || this;\n            _this._node.name = \"GImage\";\n            _this._touchDisabled = true;\n            _this._content = _this._node.addComponent(fgui.Image);\n            _this._content.sizeMode = cc.Sprite.SizeMode.CUSTOM;\n            _this._content.trim = false;\n            return _this;\n        }\n        Object.defineProperty(GImage.prototype, \"color\", {\n            get: function () {\n                return this._node.color;\n            },\n            set: function (value) {\n                if (!this._node.color.equals(value)) {\n                    this._node.color = value;\n                    this.updateGear(4);\n                }\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GImage.prototype, \"flip\", {\n            get: function () {\n                return this._content.flip;\n            },\n            set: function (value) {\n                this._content.flip = value;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GImage.prototype, \"fillMethod\", {\n            get: function () {\n                return this._content.fillMethod;\n            },\n            set: function (value) {\n                this._content.fillMethod = value;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GImage.prototype, \"fillOrigin\", {\n            get: function () {\n                return this._content.fillOrigin;\n            },\n            set: function (value) {\n                this._content.fillOrigin = value;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GImage.prototype, \"fillClockwise\", {\n            get: function () {\n                return this._content.fillClockwise;\n            },\n            set: function (value) {\n                this._content.fillClockwise = value;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GImage.prototype, \"fillAmount\", {\n            get: function () {\n                return this._content.fillAmount;\n            },\n            set: function (value) {\n                this._content.fillAmount = value;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        GImage.prototype.constructFromResource = function () {\n            var contentItem = this.packageItem.getBranch();\n            this.sourceWidth = contentItem.width;\n            this.sourceHeight = contentItem.height;\n            this.initWidth = this.sourceWidth;\n            this.initHeight = this.sourceHeight;\n            this.setSize(this.sourceWidth, this.sourceHeight);\n            contentItem = contentItem.getHighResolution();\n            contentItem.load();\n            if (contentItem.scale9Grid)\n                this._content.type = cc.Sprite.Type.SLICED;\n            else if (contentItem.scaleByTile)\n                this._content.type = cc.Sprite.Type.TILED;\n            this._content.spriteFrame = contentItem.asset;\n        };\n        GImage.prototype.handleGrayedChanged = function () {\n            this._content.grayed = this._grayed;\n        };\n        GImage.prototype.getProp = function (index) {\n            if (index == fgui.ObjectPropID.Color)\n                return this.color;\n            else\n                return _super.prototype.getProp.call(this, index);\n        };\n        GImage.prototype.setProp = function (index, value) {\n            if (index == fgui.ObjectPropID.Color)\n                this.color = value;\n            else\n                _super.prototype.setProp.call(this, index, value);\n        };\n        GImage.prototype.setup_beforeAdd = function (buffer, beginPos) {\n            _super.prototype.setup_beforeAdd.call(this, buffer, beginPos);\n            buffer.seek(beginPos, 5);\n            if (buffer.readBool())\n                this.color = buffer.readColor();\n            this._content.flip = buffer.readByte();\n            this._content.fillMethod = buffer.readByte();\n            if (this._content.fillMethod != 0) {\n                this._content.fillOrigin = buffer.readByte();\n                this._content.fillClockwise = buffer.readBool();\n                this._content.fillAmount = buffer.readFloat();\n            }\n        };\n        return GImage;\n    }(fgui.GObject));\n    fgui.GImage = GImage;\n})(fgui || (fgui = {}));\nvar fgui;\n(function (fgui) {\n    var GLabel = (function (_super) {\n        __extends(GLabel, _super);\n        function GLabel() {\n            var _this = _super.call(this) || this;\n            _this._node.name = \"GLabel\";\n            return _this;\n        }\n        Object.defineProperty(GLabel.prototype, \"icon\", {\n            get: function () {\n                if (this._iconObject != null)\n                    return this._iconObject.icon;\n            },\n            set: function (value) {\n                if (this._iconObject != null)\n                    this._iconObject.icon = value;\n                this.updateGear(7);\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GLabel.prototype, \"title\", {\n            get: function () {\n                if (this._titleObject)\n                    return this._titleObject.text;\n                else\n                    return null;\n            },\n            set: function (value) {\n                if (this._titleObject)\n                    this._titleObject.text = value;\n                this.updateGear(6);\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GLabel.prototype, \"text\", {\n            get: function () {\n                return this.title;\n            },\n            set: function (value) {\n                this.title = value;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GLabel.prototype, \"titleColor\", {\n            get: function () {\n                var tf = this.getTextField();\n                if (tf != null)\n                    return tf.color;\n                else\n                    return cc.Color.WHITE;\n            },\n            set: function (value) {\n                var tf = this.getTextField();\n                if (tf != null)\n                    tf.color = value;\n                this.updateGear(4);\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GLabel.prototype, \"titleFontSize\", {\n            get: function () {\n                var tf = this.getTextField();\n                if (tf != null)\n                    return tf.fontSize;\n                else\n                    return 0;\n            },\n            set: function (value) {\n                var tf = this.getTextField();\n                if (tf != null)\n                    tf.fontSize = value;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GLabel.prototype, \"editable\", {\n            get: function () {\n                if (this._titleObject && (this._titleObject instanceof fgui.GTextInput))\n                    return this._titleObject.asTextInput.editable;\n                else\n                    return false;\n            },\n            set: function (val) {\n                if (this._titleObject)\n                    this._titleObject.asTextInput.editable = val;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        GLabel.prototype.getTextField = function () {\n            if (this._titleObject instanceof fgui.GTextField)\n                return this._titleObject;\n            else if (this._titleObject instanceof GLabel)\n                return this._titleObject.getTextField();\n            else if (this._titleObject instanceof fgui.GButton)\n                return this._titleObject.getTextField();\n            else\n                return null;\n        };\n        GLabel.prototype.getProp = function (index) {\n            switch (index) {\n                case fgui.ObjectPropID.Color:\n                    return this.titleColor;\n                case fgui.ObjectPropID.OutlineColor:\n                    {\n                        var tf = this.getTextField();\n                        if (tf)\n                            return tf.strokeColor;\n                        else\n                            return 0;\n                    }\n                case fgui.ObjectPropID.FontSize:\n                    return this.titleFontSize;\n                default:\n                    return _super.prototype.getProp.call(this, index);\n            }\n        };\n        GLabel.prototype.setProp = function (index, value) {\n            switch (index) {\n                case fgui.ObjectPropID.Color:\n                    this.titleColor = value;\n                    break;\n                case fgui.ObjectPropID.OutlineColor:\n                    {\n                        var tf = this.getTextField();\n                        if (tf)\n                            tf.strokeColor = value;\n                    }\n                    break;\n                case fgui.ObjectPropID.FontSize:\n                    this.titleFontSize = value;\n                    break;\n                default:\n                    _super.prototype.setProp.call(this, index, value);\n                    break;\n            }\n        };\n        GLabel.prototype.constructExtension = function (buffer) {\n            this._titleObject = this.getChild(\"title\");\n            this._iconObject = this.getChild(\"icon\");\n        };\n        GLabel.prototype.setup_afterAdd = function (buffer, beginPos) {\n            _super.prototype.setup_afterAdd.call(this, buffer, beginPos);\n            if (!buffer.seek(beginPos, 6))\n                return;\n            if (buffer.readByte() != this.packageItem.objectType)\n                return;\n            var str;\n            str = buffer.readS();\n            if (str != null)\n                this.title = str;\n            str = buffer.readS();\n            if (str != null)\n                this.icon = str;\n            if (buffer.readBool())\n                this.titleColor = buffer.readColor();\n            var iv = buffer.readInt();\n            if (iv != 0)\n                this.titleFontSize = iv;\n            if (buffer.readBool()) {\n                var input = this.getTextField();\n                if (input != null) {\n                    str = buffer.readS();\n                    if (str != null)\n                        input.promptText = str;\n                    str = buffer.readS();\n                    if (str != null)\n                        input.restrict = str;\n                    iv = buffer.readInt();\n                    if (iv != 0)\n                        input.maxLength = iv;\n                    iv = buffer.readInt();\n                    if (iv != 0) {\n                    }\n                    if (buffer.readBool())\n                        input.password = true;\n                }\n                else\n                    buffer.skip(13);\n            }\n        };\n        return GLabel;\n    }(fgui.GComponent));\n    fgui.GLabel = GLabel;\n})(fgui || (fgui = {}));\nvar fgui;\n(function (fgui) {\n    var GList = (function (_super) {\n        __extends(GList, _super);\n        function GList() {\n            var _this = _super.call(this) || this;\n            _this.scrollItemToViewOnClick = true;\n            _this.foldInvisibleItems = false;\n            _this._lineCount = 0;\n            _this._columnCount = 0;\n            _this._lineGap = 0;\n            _this._columnGap = 0;\n            _this._lastSelectedIndex = 0;\n            _this._numItems = 0;\n            _this._realNumItems = 0;\n            _this._firstIndex = 0;\n            _this._curLineItemCount = 0;\n            _this._curLineItemCount2 = 0;\n            _this._virtualListChanged = 0;\n            _this.itemInfoVer = 0;\n            _this._node.name = \"GList\";\n            _this._trackBounds = true;\n            _this._pool = new fgui.GObjectPool();\n            _this._layout = fgui.ListLayoutType.SingleColumn;\n            _this._autoResizeItem = true;\n            _this._lastSelectedIndex = -1;\n            _this._selectionMode = fgui.ListSelectionMode.Single;\n            _this.opaque = true;\n            _this._align = fgui.AlignType.Left;\n            _this._verticalAlign = fgui.VertAlignType.Top;\n            return _this;\n        }\n        GList.prototype.dispose = function () {\n            this._pool.clear();\n            _super.prototype.dispose.call(this);\n        };\n        Object.defineProperty(GList.prototype, \"layout\", {\n            get: function () {\n                return this._layout;\n            },\n            set: function (value) {\n                if (this._layout != value) {\n                    this._layout = value;\n                    this.setBoundsChangedFlag();\n                    if (this._virtual)\n                        this.setVirtualListChangedFlag(true);\n                }\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GList.prototype, \"lineCount\", {\n            get: function () {\n                return this._lineCount;\n            },\n            set: function (value) {\n                if (this._lineCount != value) {\n                    this._lineCount = value;\n                    this.setBoundsChangedFlag();\n                    if (this._virtual)\n                        this.setVirtualListChangedFlag(true);\n                }\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GList.prototype, \"columnCount\", {\n            get: function () {\n                return this._columnCount;\n            },\n            set: function (value) {\n                if (this._columnCount != value) {\n                    this._columnCount = value;\n                    this.setBoundsChangedFlag();\n                    if (this._virtual)\n                        this.setVirtualListChangedFlag(true);\n                }\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GList.prototype, \"lineGap\", {\n            get: function () {\n                return this._lineGap;\n            },\n            set: function (value) {\n                if (this._lineGap != value) {\n                    this._lineGap = value;\n                    this.setBoundsChangedFlag();\n                    if (this._virtual)\n                        this.setVirtualListChangedFlag(true);\n                }\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GList.prototype, \"columnGap\", {\n            get: function () {\n                return this._columnGap;\n            },\n            set: function (value) {\n                if (this._columnGap != value) {\n                    this._columnGap = value;\n                    this.setBoundsChangedFlag();\n                    if (this._virtual)\n                        this.setVirtualListChangedFlag(true);\n                }\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GList.prototype, \"align\", {\n            get: function () {\n                return this._align;\n            },\n            set: function (value) {\n                if (this._align != value) {\n                    this._align = value;\n                    this.setBoundsChangedFlag();\n                    if (this._virtual)\n                        this.setVirtualListChangedFlag(true);\n                }\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GList.prototype, \"verticalAlign\", {\n            get: function () {\n                return this._verticalAlign;\n            },\n            set: function (value) {\n                if (this._verticalAlign != value) {\n                    this._verticalAlign = value;\n                    this.setBoundsChangedFlag();\n                    if (this._virtual)\n                        this.setVirtualListChangedFlag(true);\n                }\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GList.prototype, \"virtualItemSize\", {\n            get: function () {\n                return this._itemSize;\n            },\n            set: function (value) {\n                if (this._virtual) {\n                    if (this._itemSize == null)\n                        this._itemSize = new cc.Size(0, 0);\n                    this._itemSize.width = value.width;\n                    this._itemSize.height = value.height;\n                    this.setVirtualListChangedFlag(true);\n                }\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GList.prototype, \"defaultItem\", {\n            get: function () {\n                return this._defaultItem;\n            },\n            set: function (val) {\n                this._defaultItem = val;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GList.prototype, \"autoResizeItem\", {\n            get: function () {\n                return this._autoResizeItem;\n            },\n            set: function (value) {\n                if (this._autoResizeItem != value) {\n                    this._autoResizeItem = value;\n                    this.setBoundsChangedFlag();\n                    if (this._virtual)\n                        this.setVirtualListChangedFlag(true);\n                }\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GList.prototype, \"selectionMode\", {\n            get: function () {\n                return this._selectionMode;\n            },\n            set: function (value) {\n                this._selectionMode = value;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GList.prototype, \"selectionController\", {\n            get: function () {\n                return this._selectionController;\n            },\n            set: function (value) {\n                this._selectionController = value;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GList.prototype, \"itemPool\", {\n            get: function () {\n                return this._pool;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        GList.prototype.getFromPool = function (url) {\n            if (url === void 0) { url = null; }\n            if (!url)\n                url = this._defaultItem;\n            var obj = this._pool.getObject(url);\n            if (obj != null)\n                obj.visible = true;\n            return obj;\n        };\n        GList.prototype.returnToPool = function (obj) {\n            this._pool.returnObject(obj);\n        };\n        GList.prototype.addChildAt = function (child, index) {\n            if (index === void 0) { index = 0; }\n            _super.prototype.addChildAt.call(this, child, index);\n            if (child instanceof fgui.GButton) {\n                var button = child;\n                button.selected = false;\n                button.changeStateOnClick = false;\n            }\n            child.on(fgui.Event.CLICK, this.onClickItem, this);\n            return child;\n        };\n        GList.prototype.addItem = function (url) {\n            if (url === void 0) { url = null; }\n            if (!url)\n                url = this._defaultItem;\n            return this.addChild(fgui.UIPackage.createObjectFromURL(url));\n        };\n        GList.prototype.addItemFromPool = function (url) {\n            if (url === void 0) { url = null; }\n            return this.addChild(this.getFromPool(url));\n        };\n        GList.prototype.removeChildAt = function (index, dispose) {\n            var child = _super.prototype.removeChildAt.call(this, index, dispose);\n            child.off(fgui.Event.CLICK, this.onClickItem, this);\n            return child;\n        };\n        GList.prototype.removeChildToPoolAt = function (index) {\n            var child = _super.prototype.removeChildAt.call(this, index);\n            this.returnToPool(child);\n        };\n        GList.prototype.removeChildToPool = function (child) {\n            _super.prototype.removeChild.call(this, child);\n            this.returnToPool(child);\n        };\n        GList.prototype.removeChildrenToPool = function (beginIndex, endIndex) {\n            if (beginIndex == undefined)\n                beginIndex = 0;\n            if (endIndex == undefined)\n                endIndex = -1;\n            if (endIndex < 0 || endIndex >= this._children.length)\n                endIndex = this._children.length - 1;\n            for (var i = beginIndex; i <= endIndex; ++i)\n                this.removeChildToPoolAt(beginIndex);\n        };\n        Object.defineProperty(GList.prototype, \"selectedIndex\", {\n            get: function () {\n                var i;\n                if (this._virtual) {\n                    for (i = 0; i < this._realNumItems; i++) {\n                        var ii = this._virtualItems[i];\n                        if ((ii.obj instanceof fgui.GButton) && ii.obj.selected\n                            || ii.obj == null && ii.selected) {\n                            if (this._loop)\n                                return i % this._numItems;\n                            else\n                                return i;\n                        }\n                    }\n                }\n                else {\n                    var cnt = this._children.length;\n                    for (i = 0; i < cnt; i++) {\n                        var obj = this._children[i].asButton;\n                        if (obj != null && obj.selected)\n                            return i;\n                    }\n                }\n                return -1;\n            },\n            set: function (value) {\n                if (value >= 0 && value < this.numItems) {\n                    if (this._selectionMode != fgui.ListSelectionMode.Single)\n                        this.clearSelection();\n                    this.addSelection(value);\n                }\n                else\n                    this.clearSelection();\n            },\n            enumerable: false,\n            configurable: true\n        });\n        GList.prototype.getSelection = function (result) {\n            if (!result)\n                result = new Array();\n            var i;\n            if (this._virtual) {\n                for (i = 0; i < this._realNumItems; i++) {\n                    var ii = this._virtualItems[i];\n                    if ((ii.obj instanceof fgui.GButton) && ii.obj.selected\n                        || ii.obj == null && ii.selected) {\n                        var j = i;\n                        if (this._loop) {\n                            j = i % this._numItems;\n                            if (result.indexOf(j) != -1)\n                                continue;\n                        }\n                        result.push(j);\n                    }\n                }\n            }\n            else {\n                var cnt = this._children.length;\n                for (i = 0; i < cnt; i++) {\n                    var obj = this._children[i].asButton;\n                    if (obj != null && obj.selected)\n                        result.push(i);\n                }\n            }\n            return result;\n        };\n        GList.prototype.addSelection = function (index, scrollItToView) {\n            if (this._selectionMode == fgui.ListSelectionMode.None)\n                return;\n            this.checkVirtualList();\n            if (this._selectionMode == fgui.ListSelectionMode.Single)\n                this.clearSelection();\n            if (scrollItToView)\n                this.scrollToView(index);\n            this._lastSelectedIndex = index;\n            var obj = null;\n            if (this._virtual) {\n                var ii = this._virtualItems[index];\n                if (ii.obj != null)\n                    obj = ii.obj.asButton;\n                ii.selected = true;\n            }\n            else\n                obj = this.getChildAt(index).asButton;\n            if (obj != null && !obj.selected) {\n                obj.selected = true;\n                this.updateSelectionController(index);\n            }\n        };\n        GList.prototype.removeSelection = function (index) {\n            if (this._selectionMode == fgui.ListSelectionMode.None)\n                return;\n            var obj = null;\n            if (this._virtual) {\n                var ii = this._virtualItems[index];\n                if (ii.obj != null)\n                    obj = ii.obj.asButton;\n                ii.selected = false;\n            }\n            else\n                obj = this.getChildAt(index).asButton;\n            if (obj != null)\n                obj.selected = false;\n        };\n        GList.prototype.clearSelection = function () {\n            var i;\n            if (this._virtual) {\n                for (i = 0; i < this._realNumItems; i++) {\n                    var ii = this._virtualItems[i];\n                    if (ii.obj instanceof fgui.GButton)\n                        ii.obj.selected = false;\n                    ii.selected = false;\n                }\n            }\n            else {\n                var cnt = this._children.length;\n                for (i = 0; i < cnt; i++) {\n                    var obj = this._children[i].asButton;\n                    if (obj != null)\n                        obj.selected = false;\n                }\n            }\n        };\n        GList.prototype.clearSelectionExcept = function (g) {\n            var i;\n            if (this._virtual) {\n                for (i = 0; i < this._realNumItems; i++) {\n                    var ii = this._virtualItems[i];\n                    if (ii.obj != g) {\n                        if ((ii.obj instanceof fgui.GButton))\n                            ii.obj.selected = false;\n                        ii.selected = false;\n                    }\n                }\n            }\n            else {\n                var cnt = this._children.length;\n                for (i = 0; i < cnt; i++) {\n                    var obj = this._children[i].asButton;\n                    if (obj != null && obj != g)\n                        obj.selected = false;\n                }\n            }\n        };\n        GList.prototype.selectAll = function () {\n            this.checkVirtualList();\n            var last = -1;\n            var i;\n            if (this._virtual) {\n                for (i = 0; i < this._realNumItems; i++) {\n                    var ii = this._virtualItems[i];\n                    if ((ii.obj instanceof fgui.GButton) && !ii.obj.selected) {\n                        ii.obj.selected = true;\n                        last = i;\n                    }\n                    ii.selected = true;\n                }\n            }\n            else {\n                var cnt = this._children.length;\n                for (i = 0; i < cnt; i++) {\n                    var obj = this._children[i].asButton;\n                    if (obj != null && !obj.selected) {\n                        obj.selected = true;\n                        last = i;\n                    }\n                }\n            }\n            if (last != -1)\n                this.updateSelectionController(last);\n        };\n        GList.prototype.selectNone = function () {\n            this.clearSelection();\n        };\n        GList.prototype.selectReverse = function () {\n            this.checkVirtualList();\n            var last = -1;\n            var i;\n            if (this._virtual) {\n                for (i = 0; i < this._realNumItems; i++) {\n                    var ii = this._virtualItems[i];\n                    if (ii.obj instanceof fgui.GButton) {\n                        ii.obj.selected = !ii.obj.selected;\n                        if (ii.obj.selected)\n                            last = i;\n                    }\n                    ii.selected = !ii.selected;\n                }\n            }\n            else {\n                var cnt = this._children.length;\n                for (i = 0; i < cnt; i++) {\n                    var obj = this._children[i].asButton;\n                    if (obj != null) {\n                        obj.selected = !obj.selected;\n                        if (obj.selected)\n                            last = i;\n                    }\n                }\n            }\n            if (last != -1)\n                this.updateSelectionController(last);\n        };\n        GList.prototype.handleArrowKey = function (dir) {\n            var index = this.selectedIndex;\n            if (index == -1)\n                return;\n            switch (dir) {\n                case 1:\n                    if (this._layout == fgui.ListLayoutType.SingleColumn || this._layout == fgui.ListLayoutType.FlowVertical) {\n                        index--;\n                        if (index >= 0) {\n                            this.clearSelection();\n                            this.addSelection(index, true);\n                        }\n                    }\n                    else if (this._layout == fgui.ListLayoutType.FlowHorizontal || this._layout == fgui.ListLayoutType.Pagination) {\n                        var current = this._children[index];\n                        var k = 0;\n                        for (var i = index - 1; i >= 0; i--) {\n                            var obj = this._children[i];\n                            if (obj.y != current.y) {\n                                current = obj;\n                                break;\n                            }\n                            k++;\n                        }\n                        for (; i >= 0; i--) {\n                            obj = this._children[i];\n                            if (obj.y != current.y) {\n                                this.clearSelection();\n                                this.addSelection(i + k + 1, true);\n                                break;\n                            }\n                        }\n                    }\n                    break;\n                case 3:\n                    if (this._layout == fgui.ListLayoutType.SingleRow || this._layout == fgui.ListLayoutType.FlowHorizontal || this._layout == fgui.ListLayoutType.Pagination) {\n                        index++;\n                        if (index < this._children.length) {\n                            this.clearSelection();\n                            this.addSelection(index, true);\n                        }\n                    }\n                    else if (this._layout == fgui.ListLayoutType.FlowVertical) {\n                        current = this._children[index];\n                        k = 0;\n                        var cnt = this._children.length;\n                        for (i = index + 1; i < cnt; i++) {\n                            obj = this._children[i];\n                            if (obj.x != current.x) {\n                                current = obj;\n                                break;\n                            }\n                            k++;\n                        }\n                        for (; i < cnt; i++) {\n                            obj = this._children[i];\n                            if (obj.x != current.x) {\n                                this.clearSelection();\n                                this.addSelection(i - k - 1, true);\n                                break;\n                            }\n                        }\n                    }\n                    break;\n                case 5:\n                    if (this._layout == fgui.ListLayoutType.SingleColumn || this._layout == fgui.ListLayoutType.FlowVertical) {\n                        index++;\n                        if (index < this._children.length) {\n                            this.clearSelection();\n                            this.addSelection(index, true);\n                        }\n                    }\n                    else if (this._layout == fgui.ListLayoutType.FlowHorizontal || this._layout == fgui.ListLayoutType.Pagination) {\n                        current = this._children[index];\n                        k = 0;\n                        cnt = this._children.length;\n                        for (i = index + 1; i < cnt; i++) {\n                            obj = this._children[i];\n                            if (obj.y != current.y) {\n                                current = obj;\n                                break;\n                            }\n                            k++;\n                        }\n                        for (; i < cnt; i++) {\n                            obj = this._children[i];\n                            if (obj.y != current.y) {\n                                this.clearSelection();\n                                this.addSelection(i - k - 1, true);\n                                break;\n                            }\n                        }\n                    }\n                    break;\n                case 7:\n                    if (this._layout == fgui.ListLayoutType.SingleRow || this._layout == fgui.ListLayoutType.FlowHorizontal || this._layout == fgui.ListLayoutType.Pagination) {\n                        index--;\n                        if (index >= 0) {\n                            this.clearSelection();\n                            this.addSelection(index, true);\n                        }\n                    }\n                    else if (this._layout == fgui.ListLayoutType.FlowVertical) {\n                        current = this._children[index];\n                        k = 0;\n                        for (i = index - 1; i >= 0; i--) {\n                            obj = this._children[i];\n                            if (obj.x != current.x) {\n                                current = obj;\n                                break;\n                            }\n                            k++;\n                        }\n                        for (; i >= 0; i--) {\n                            obj = this._children[i];\n                            if (obj.x != current.x) {\n                                this.clearSelection();\n                                this.addSelection(i + k + 1, true);\n                                break;\n                            }\n                        }\n                    }\n                    break;\n            }\n        };\n        GList.prototype.onClickItem = function (evt) {\n            if (this._scrollPane != null && this._scrollPane.isDragged)\n                return;\n            var item = fgui.GObject.cast(evt.currentTarget);\n            this.setSelectionOnEvent(item, evt);\n            if (this._scrollPane && this.scrollItemToViewOnClick)\n                this._scrollPane.scrollToView(item, true);\n            this.dispatchItemEvent(item, evt);\n        };\n        GList.prototype.dispatchItemEvent = function (item, evt) {\n            this._node.emit(fgui.Event.CLICK_ITEM, item, evt);\n        };\n        GList.prototype.setSelectionOnEvent = function (item, evt) {\n            if (!(item instanceof fgui.GButton) || this._selectionMode == fgui.ListSelectionMode.None)\n                return;\n            var dontChangeLastIndex = false;\n            var button = item;\n            var index = this.childIndexToItemIndex(this.getChildIndex(item));\n            if (this._selectionMode == fgui.ListSelectionMode.Single) {\n                if (!button.selected) {\n                    this.clearSelectionExcept(button);\n                    button.selected = true;\n                }\n            }\n            else {\n                if (evt.isShiftDown) {\n                    if (!button.selected) {\n                        if (this._lastSelectedIndex != -1) {\n                            var min = Math.min(this._lastSelectedIndex, index);\n                            var max = Math.max(this._lastSelectedIndex, index);\n                            max = Math.min(max, this.numItems - 1);\n                            var i;\n                            if (this._virtual) {\n                                for (i = min; i <= max; i++) {\n                                    var ii = this._virtualItems[i];\n                                    if (ii.obj instanceof fgui.GButton)\n                                        ii.obj.selected = true;\n                                    ii.selected = true;\n                                }\n                            }\n                            else {\n                                for (i = min; i <= max; i++) {\n                                    var obj = this.getChildAt(i).asButton;\n                                    if (obj != null)\n                                        obj.selected = true;\n                                }\n                            }\n                            dontChangeLastIndex = true;\n                        }\n                        else {\n                            button.selected = true;\n                        }\n                    }\n                }\n                else if (evt.isCtrlDown || this._selectionMode == fgui.ListSelectionMode.Multiple_SingleClick) {\n                    button.selected = !button.selected;\n                }\n                else {\n                    if (!button.selected) {\n                        this.clearSelectionExcept(button);\n                        button.selected = true;\n                    }\n                    else\n                        this.clearSelectionExcept(button);\n                }\n            }\n            if (!dontChangeLastIndex)\n                this._lastSelectedIndex = index;\n            if (button.selected)\n                this.updateSelectionController(index);\n        };\n        GList.prototype.resizeToFit = function (itemCount, minSize) {\n            if (itemCount === void 0) { itemCount = Number.POSITIVE_INFINITY; }\n            if (minSize === void 0) { minSize = 0; }\n            this.ensureBoundsCorrect();\n            var curCount = this.numItems;\n            if (itemCount > curCount)\n                itemCount = curCount;\n            if (this._virtual) {\n                var lineCount = Math.ceil(itemCount / this._curLineItemCount);\n                if (this._layout == fgui.ListLayoutType.SingleColumn || this._layout == fgui.ListLayoutType.FlowHorizontal)\n                    this.viewHeight = lineCount * this._itemSize.height + Math.max(0, lineCount - 1) * this._lineGap;\n                else\n                    this.viewWidth = lineCount * this._itemSize.width + Math.max(0, lineCount - 1) * this._columnGap;\n            }\n            else if (itemCount == 0) {\n                if (this._layout == fgui.ListLayoutType.SingleColumn || this._layout == fgui.ListLayoutType.FlowHorizontal)\n                    this.viewHeight = minSize;\n                else\n                    this.viewWidth = minSize;\n            }\n            else {\n                var i = itemCount - 1;\n                var obj = null;\n                while (i >= 0) {\n                    obj = this.getChildAt(i);\n                    if (!this.foldInvisibleItems || obj.visible)\n                        break;\n                    i--;\n                }\n                if (i < 0) {\n                    if (this._layout == fgui.ListLayoutType.SingleColumn || this._layout == fgui.ListLayoutType.FlowHorizontal)\n                        this.viewHeight = minSize;\n                    else\n                        this.viewWidth = minSize;\n                }\n                else {\n                    var size = 0;\n                    if (this._layout == fgui.ListLayoutType.SingleColumn || this._layout == fgui.ListLayoutType.FlowHorizontal) {\n                        size = obj.y + obj.height;\n                        if (size < minSize)\n                            size = minSize;\n                        this.viewHeight = size;\n                    }\n                    else {\n                        size = obj.x + obj.width;\n                        if (size < minSize)\n                            size = minSize;\n                        this.viewWidth = size;\n                    }\n                }\n            }\n        };\n        GList.prototype.getMaxItemWidth = function () {\n            var cnt = this._children.length;\n            var max = 0;\n            for (var i = 0; i < cnt; i++) {\n                var child = this.getChildAt(i);\n                if (child.width > max)\n                    max = child.width;\n            }\n            return max;\n        };\n        GList.prototype.handleSizeChanged = function () {\n            _super.prototype.handleSizeChanged.call(this);\n            this.setBoundsChangedFlag();\n            if (this._virtual)\n                this.setVirtualListChangedFlag(true);\n        };\n        GList.prototype.handleControllerChanged = function (c) {\n            _super.prototype.handleControllerChanged.call(this, c);\n            if (this._selectionController == c)\n                this.selectedIndex = c.selectedIndex;\n        };\n        GList.prototype.updateSelectionController = function (index) {\n            if (this._selectionController != null && !this._selectionController.changing\n                && index < this._selectionController.pageCount) {\n                var c = this._selectionController;\n                this._selectionController = null;\n                c.selectedIndex = index;\n                this._selectionController = c;\n            }\n        };\n        GList.prototype.getSnappingPosition = function (xValue, yValue, resultPoint) {\n            if (this._virtual) {\n                resultPoint = resultPoint || new cc.Vec2();\n                var saved;\n                var index;\n                if (this._layout == fgui.ListLayoutType.SingleColumn || this._layout == fgui.ListLayoutType.FlowHorizontal) {\n                    saved = yValue;\n                    GList.pos_param = yValue;\n                    index = this.getIndexOnPos1(false);\n                    yValue = GList.pos_param;\n                    if (index < this._virtualItems.length && saved - yValue > this._virtualItems[index].height / 2 && index < this._realNumItems)\n                        yValue += this._virtualItems[index].height + this._lineGap;\n                }\n                else if (this._layout == fgui.ListLayoutType.SingleRow || this._layout == fgui.ListLayoutType.FlowVertical) {\n                    saved = xValue;\n                    GList.pos_param = xValue;\n                    index = this.getIndexOnPos2(false);\n                    xValue = GList.pos_param;\n                    if (index < this._virtualItems.length && saved - xValue > this._virtualItems[index].width / 2 && index < this._realNumItems)\n                        xValue += this._virtualItems[index].width + this._columnGap;\n                }\n                else {\n                    saved = xValue;\n                    GList.pos_param = xValue;\n                    index = this.getIndexOnPos3(false);\n                    xValue = GList.pos_param;\n                    if (index < this._virtualItems.length && saved - xValue > this._virtualItems[index].width / 2 && index < this._realNumItems)\n                        xValue += this._virtualItems[index].width + this._columnGap;\n                }\n                resultPoint.x = xValue;\n                resultPoint.y = yValue;\n                return resultPoint;\n            }\n            else {\n                return _super.prototype.getSnappingPosition.call(this, xValue, yValue, resultPoint);\n            }\n        };\n        GList.prototype.scrollToView = function (index, ani, setFirst) {\n            if (this._virtual) {\n                if (this._numItems == 0)\n                    return;\n                this.checkVirtualList();\n                if (index >= this._virtualItems.length)\n                    throw \"Invalid child index: \" + index + \">\" + this._virtualItems.length;\n                if (this._loop)\n                    index = Math.floor(this._firstIndex / this._numItems) * this._numItems + index;\n                var rect;\n                var ii = this._virtualItems[index];\n                var pos = 0;\n                var i;\n                if (this._layout == fgui.ListLayoutType.SingleColumn || this._layout == fgui.ListLayoutType.FlowHorizontal) {\n                    for (i = this._curLineItemCount - 1; i < index; i += this._curLineItemCount)\n                        pos += this._virtualItems[i].height + this._lineGap;\n                    rect = new cc.Rect(0, pos, this._itemSize.width, ii.height);\n                }\n                else if (this._layout == fgui.ListLayoutType.SingleRow || this._layout == fgui.ListLayoutType.FlowVertical) {\n                    for (i = this._curLineItemCount - 1; i < index; i += this._curLineItemCount)\n                        pos += this._virtualItems[i].width + this._columnGap;\n                    rect = new cc.Rect(pos, 0, ii.width, this._itemSize.height);\n                }\n                else {\n                    var page = index / (this._curLineItemCount * this._curLineItemCount2);\n                    rect = new cc.Rect(page * this.viewWidth + (index % this._curLineItemCount) * (ii.width + this._columnGap), (index / this._curLineItemCount) % this._curLineItemCount2 * (ii.height + this._lineGap), ii.width, ii.height);\n                }\n                setFirst = true;\n                if (this._scrollPane != null)\n                    this._scrollPane.scrollToView(rect, ani, setFirst);\n            }\n            else {\n                var obj = this.getChildAt(index);\n                if (obj != null) {\n                    if (this._scrollPane != null)\n                        this._scrollPane.scrollToView(obj, ani, setFirst);\n                    else if (this.parent != null && this.parent.scrollPane != null)\n                        this.parent.scrollPane.scrollToView(obj, ani, setFirst);\n                }\n            }\n        };\n        GList.prototype.getFirstChildInView = function () {\n            return this.childIndexToItemIndex(_super.prototype.getFirstChildInView.call(this));\n        };\n        GList.prototype.childIndexToItemIndex = function (index) {\n            if (!this._virtual)\n                return index;\n            if (this._layout == fgui.ListLayoutType.Pagination) {\n                for (var i = this._firstIndex; i < this._realNumItems; i++) {\n                    if (this._virtualItems[i].obj != null) {\n                        index--;\n                        if (index < 0)\n                            return i;\n                    }\n                }\n                return index;\n            }\n            else {\n                index += this._firstIndex;\n                if (this._loop && this._numItems > 0)\n                    index = index % this._numItems;\n                return index;\n            }\n        };\n        GList.prototype.itemIndexToChildIndex = function (index) {\n            if (!this._virtual)\n                return index;\n            if (this._layout == fgui.ListLayoutType.Pagination) {\n                return this.getChildIndex(this._virtualItems[index].obj);\n            }\n            else {\n                if (this._loop && this._numItems > 0) {\n                    var j = this._firstIndex % this._numItems;\n                    if (index >= j)\n                        index = index - j;\n                    else\n                        index = this._numItems - j + index;\n                }\n                else\n                    index -= this._firstIndex;\n                return index;\n            }\n        };\n        GList.prototype.setVirtual = function () {\n            this._setVirtual(false);\n        };\n        GList.prototype.setVirtualAndLoop = function () {\n            this._setVirtual(true);\n        };\n        GList.prototype._setVirtual = function (loop) {\n            if (!this._virtual) {\n                if (this._scrollPane == null)\n                    throw \"Virtual list must be scrollable!\";\n                if (loop) {\n                    if (this._layout == fgui.ListLayoutType.FlowHorizontal || this._layout == fgui.ListLayoutType.FlowVertical)\n                        throw \"Loop list is not supported for FlowHorizontal or FlowVertical layout!\";\n                    this._scrollPane.bouncebackEffect = false;\n                }\n                this._virtual = true;\n                this._loop = loop;\n                this._virtualItems = new Array();\n                this.removeChildrenToPool();\n                if (this._itemSize == null) {\n                    this._itemSize = new cc.Size(0, 0);\n                    var obj = this.getFromPool(null);\n                    if (obj == null) {\n                        throw \"Virtual List must have a default list item resource.\";\n                    }\n                    else {\n                        this._itemSize.width = obj.width;\n                        this._itemSize.height = obj.height;\n                    }\n                    this.returnToPool(obj);\n                }\n                if (this._layout == fgui.ListLayoutType.SingleColumn || this._layout == fgui.ListLayoutType.FlowHorizontal) {\n                    this._scrollPane.scrollStep = this._itemSize.height;\n                    if (this._loop)\n                        this._scrollPane._loop = 2;\n                }\n                else {\n                    this._scrollPane.scrollStep = this._itemSize.width;\n                    if (this._loop)\n                        this._scrollPane._loop = 1;\n                }\n                this._node.on(fgui.Event.SCROLL, this.__scrolled, this);\n                this.setVirtualListChangedFlag(true);\n            }\n        };\n        Object.defineProperty(GList.prototype, \"numItems\", {\n            get: function () {\n                if (this._virtual)\n                    return this._numItems;\n                else\n                    return this._children.length;\n            },\n            set: function (value) {\n                if (this._virtual) {\n                    if (this.itemRenderer == null)\n                        throw \"Set itemRenderer first!\";\n                    this._numItems = value;\n                    if (this._loop)\n                        this._realNumItems = this._numItems * 6;\n                    else\n                        this._realNumItems = this._numItems;\n                    var oldCount = this._virtualItems.length;\n                    if (this._realNumItems > oldCount) {\n                        for (i = oldCount; i < this._realNumItems; i++) {\n                            var ii = new ItemInfo();\n                            ii.width = this._itemSize.width;\n                            ii.height = this._itemSize.height;\n                            this._virtualItems.push(ii);\n                        }\n                    }\n                    else {\n                        for (i = this._realNumItems; i < oldCount; i++)\n                            this._virtualItems[i].selected = false;\n                    }\n                    if (this._virtualListChanged != 0)\n                        this._partner.unschedule(this._refreshVirtualList);\n                    this._refreshVirtualList();\n                }\n                else {\n                    var cnt = this._children.length;\n                    if (value > cnt) {\n                        for (var i = cnt; i < value; i++) {\n                            if (this.itemProvider == null)\n                                this.addItemFromPool();\n                            else\n                                this.addItemFromPool(this.itemProvider(i));\n                        }\n                    }\n                    else {\n                        this.removeChildrenToPool(value, cnt);\n                    }\n                    if (this.itemRenderer != null) {\n                        for (i = 0; i < value; i++)\n                            this.itemRenderer(i, this.getChildAt(i));\n                    }\n                }\n            },\n            enumerable: false,\n            configurable: true\n        });\n        GList.prototype.refreshVirtualList = function () {\n            this.setVirtualListChangedFlag(false);\n        };\n        GList.prototype.checkVirtualList = function () {\n            if (this._virtualListChanged != 0) {\n                this._refreshVirtualList();\n                this._partner.unschedule(this._refreshVirtualList);\n            }\n        };\n        GList.prototype.setVirtualListChangedFlag = function (layoutChanged) {\n            if (layoutChanged)\n                this._virtualListChanged = 2;\n            else if (this._virtualListChanged == 0)\n                this._virtualListChanged = 1;\n            this._partner.callLater(this._refreshVirtualList);\n        };\n        GList.prototype._refreshVirtualList = function (dt) {\n            if (!isNaN(dt)) {\n                var _t = (this.node[\"$gobj\"]);\n                _t._refreshVirtualList();\n                return;\n            }\n            var layoutChanged = this._virtualListChanged == 2;\n            this._virtualListChanged = 0;\n            this._eventLocked = true;\n            if (layoutChanged) {\n                if (this._layout == fgui.ListLayoutType.SingleColumn || this._layout == fgui.ListLayoutType.SingleRow)\n                    this._curLineItemCount = 1;\n                else if (this._layout == fgui.ListLayoutType.FlowHorizontal) {\n                    if (this._columnCount > 0)\n                        this._curLineItemCount = this._columnCount;\n                    else {\n                        this._curLineItemCount = Math.floor((this._scrollPane.viewWidth + this._columnGap) / (this._itemSize.width + this._columnGap));\n                        if (this._curLineItemCount <= 0)\n                            this._curLineItemCount = 1;\n                    }\n                }\n                else if (this._layout == fgui.ListLayoutType.FlowVertical) {\n                    if (this._lineCount > 0)\n                        this._curLineItemCount = this._lineCount;\n                    else {\n                        this._curLineItemCount = Math.floor((this._scrollPane.viewHeight + this._lineGap) / (this._itemSize.height + this._lineGap));\n                        if (this._curLineItemCount <= 0)\n                            this._curLineItemCount = 1;\n                    }\n                }\n                else {\n                    if (this._columnCount > 0)\n                        this._curLineItemCount = this._columnCount;\n                    else {\n                        this._curLineItemCount = Math.floor((this._scrollPane.viewWidth + this._columnGap) / (this._itemSize.width + this._columnGap));\n                        if (this._curLineItemCount <= 0)\n                            this._curLineItemCount = 1;\n                    }\n                    if (this._lineCount > 0)\n                        this._curLineItemCount2 = this._lineCount;\n                    else {\n                        this._curLineItemCount2 = Math.floor((this._scrollPane.viewHeight + this._lineGap) / (this._itemSize.height + this._lineGap));\n                        if (this._curLineItemCount2 <= 0)\n                            this._curLineItemCount2 = 1;\n                    }\n                }\n            }\n            var ch = 0, cw = 0;\n            if (this._realNumItems > 0) {\n                var i;\n                var len = Math.ceil(this._realNumItems / this._curLineItemCount) * this._curLineItemCount;\n                var len2 = Math.min(this._curLineItemCount, this._realNumItems);\n                if (this._layout == fgui.ListLayoutType.SingleColumn || this._layout == fgui.ListLayoutType.FlowHorizontal) {\n                    for (i = 0; i < len; i += this._curLineItemCount)\n                        ch += this._virtualItems[i].height + this._lineGap;\n                    if (ch > 0)\n                        ch -= this._lineGap;\n                    if (this._autoResizeItem)\n                        cw = this._scrollPane.viewWidth;\n                    else {\n                        for (i = 0; i < len2; i++)\n                            cw += this._virtualItems[i].width + this._columnGap;\n                        if (cw > 0)\n                            cw -= this._columnGap;\n                    }\n                }\n                else if (this._layout == fgui.ListLayoutType.SingleRow || this._layout == fgui.ListLayoutType.FlowVertical) {\n                    for (i = 0; i < len; i += this._curLineItemCount)\n                        cw += this._virtualItems[i].width + this._columnGap;\n                    if (cw > 0)\n                        cw -= this._columnGap;\n                    if (this._autoResizeItem)\n                        ch = this._scrollPane.viewHeight;\n                    else {\n                        for (i = 0; i < len2; i++)\n                            ch += this._virtualItems[i].height + this._lineGap;\n                        if (ch > 0)\n                            ch -= this._lineGap;\n                    }\n                }\n                else {\n                    var pageCount = Math.ceil(len / (this._curLineItemCount * this._curLineItemCount2));\n                    cw = pageCount * this.viewWidth;\n                    ch = this.viewHeight;\n                }\n            }\n            this.handleAlign(cw, ch);\n            this._scrollPane.setContentSize(cw, ch);\n            this._eventLocked = false;\n            this.handleScroll(true);\n        };\n        GList.prototype.__scrolled = function (evt) {\n            this.handleScroll(false);\n        };\n        GList.prototype.getIndexOnPos1 = function (forceUpdate) {\n            if (this._realNumItems < this._curLineItemCount) {\n                GList.pos_param = 0;\n                return 0;\n            }\n            var i;\n            var pos2;\n            var pos3;\n            if (this.numChildren > 0 && !forceUpdate) {\n                pos2 = this.getChildAt(0).y;\n                if (pos2 > GList.pos_param) {\n                    for (i = this._firstIndex - this._curLineItemCount; i >= 0; i -= this._curLineItemCount) {\n                        pos2 -= (this._virtualItems[i].height + this._lineGap);\n                        if (pos2 <= GList.pos_param) {\n                            GList.pos_param = pos2;\n                            return i;\n                        }\n                    }\n                    GList.pos_param = 0;\n                    return 0;\n                }\n                else {\n                    for (i = this._firstIndex; i < this._realNumItems; i += this._curLineItemCount) {\n                        pos3 = pos2 + this._virtualItems[i].height + this._lineGap;\n                        if (pos3 > GList.pos_param) {\n                            GList.pos_param = pos2;\n                            return i;\n                        }\n                        pos2 = pos3;\n                    }\n                    GList.pos_param = pos2;\n                    return this._realNumItems - this._curLineItemCount;\n                }\n            }\n            else {\n                pos2 = 0;\n                for (i = 0; i < this._realNumItems; i += this._curLineItemCount) {\n                    pos3 = pos2 + this._virtualItems[i].height + this._lineGap;\n                    if (pos3 > GList.pos_param) {\n                        GList.pos_param = pos2;\n                        return i;\n                    }\n                    pos2 = pos3;\n                }\n                GList.pos_param = pos2;\n                return this._realNumItems - this._curLineItemCount;\n            }\n        };\n        GList.prototype.getIndexOnPos2 = function (forceUpdate) {\n            if (this._realNumItems < this._curLineItemCount) {\n                GList.pos_param = 0;\n                return 0;\n            }\n            var i;\n            var pos2;\n            var pos3;\n            if (this.numChildren > 0 && !forceUpdate) {\n                pos2 = this.getChildAt(0).x;\n                if (pos2 > GList.pos_param) {\n                    for (i = this._firstIndex - this._curLineItemCount; i >= 0; i -= this._curLineItemCount) {\n                        pos2 -= (this._virtualItems[i].width + this._columnGap);\n                        if (pos2 <= GList.pos_param) {\n                            GList.pos_param = pos2;\n                            return i;\n                        }\n                    }\n                    GList.pos_param = 0;\n                    return 0;\n                }\n                else {\n                    for (i = this._firstIndex; i < this._realNumItems; i += this._curLineItemCount) {\n                        pos3 = pos2 + this._virtualItems[i].width + this._columnGap;\n                        if (pos3 > GList.pos_param) {\n                            GList.pos_param = pos2;\n                            return i;\n                        }\n                        pos2 = pos3;\n                    }\n                    GList.pos_param = pos2;\n                    return this._realNumItems - this._curLineItemCount;\n                }\n            }\n            else {\n                pos2 = 0;\n                for (i = 0; i < this._realNumItems; i += this._curLineItemCount) {\n                    pos3 = pos2 + this._virtualItems[i].width + this._columnGap;\n                    if (pos3 > GList.pos_param) {\n                        GList.pos_param = pos2;\n                        return i;\n                    }\n                    pos2 = pos3;\n                }\n                GList.pos_param = pos2;\n                return this._realNumItems - this._curLineItemCount;\n            }\n        };\n        GList.prototype.getIndexOnPos3 = function (forceUpdate) {\n            if (this._realNumItems < this._curLineItemCount) {\n                GList.pos_param = 0;\n                return 0;\n            }\n            var viewWidth = this.viewWidth;\n            var page = Math.floor(GList.pos_param / viewWidth);\n            var startIndex = page * (this._curLineItemCount * this._curLineItemCount2);\n            var pos2 = page * viewWidth;\n            var i;\n            var pos3;\n            for (i = 0; i < this._curLineItemCount; i++) {\n                pos3 = pos2 + this._virtualItems[startIndex + i].width + this._columnGap;\n                if (pos3 > GList.pos_param) {\n                    GList.pos_param = pos2;\n                    return startIndex + i;\n                }\n                pos2 = pos3;\n            }\n            GList.pos_param = pos2;\n            return startIndex + this._curLineItemCount - 1;\n        };\n        GList.prototype.handleScroll = function (forceUpdate) {\n            if (this._eventLocked)\n                return;\n            if (this._layout == fgui.ListLayoutType.SingleColumn || this._layout == fgui.ListLayoutType.FlowHorizontal) {\n                var enterCounter = 0;\n                while (this.handleScroll1(forceUpdate)) {\n                    enterCounter++;\n                    forceUpdate = false;\n                    if (enterCounter > 20) {\n                        console.log(\"FairyGUI: list will never be filled as the item renderer function always returns a different size.\");\n                        break;\n                    }\n                }\n                this.handleArchOrder1();\n            }\n            else if (this._layout == fgui.ListLayoutType.SingleRow || this._layout == fgui.ListLayoutType.FlowVertical) {\n                enterCounter = 0;\n                while (this.handleScroll2(forceUpdate)) {\n                    enterCounter++;\n                    forceUpdate = false;\n                    if (enterCounter > 20) {\n                        console.log(\"FairyGUI: list will never be filled as the item renderer function always returns a different size.\");\n                        break;\n                    }\n                }\n                this.handleArchOrder2();\n            }\n            else {\n                this.handleScroll3(forceUpdate);\n            }\n            this._boundsChanged = false;\n        };\n        GList.prototype.handleScroll1 = function (forceUpdate) {\n            var pos = this._scrollPane.scrollingPosY;\n            var max = pos + this._scrollPane.viewHeight;\n            var end = max == this._scrollPane.contentHeight;\n            GList.pos_param = pos;\n            var newFirstIndex = this.getIndexOnPos1(forceUpdate);\n            pos = GList.pos_param;\n            if (newFirstIndex == this._firstIndex && !forceUpdate) {\n                return false;\n            }\n            var oldFirstIndex = this._firstIndex;\n            this._firstIndex = newFirstIndex;\n            var curIndex = newFirstIndex;\n            var forward = oldFirstIndex > newFirstIndex;\n            var childCount = this.numChildren;\n            var lastIndex = oldFirstIndex + childCount - 1;\n            var reuseIndex = forward ? lastIndex : oldFirstIndex;\n            var curX = 0, curY = pos;\n            var needRender;\n            var deltaSize = 0;\n            var firstItemDeltaSize = 0;\n            var url = this.defaultItem;\n            var ii, ii2;\n            var i, j;\n            var partSize = (this._scrollPane.viewWidth - this._columnGap * (this._curLineItemCount - 1)) / this._curLineItemCount;\n            this.itemInfoVer++;\n            while (curIndex < this._realNumItems && (end || curY < max)) {\n                ii = this._virtualItems[curIndex];\n                if (ii.obj == null || forceUpdate) {\n                    if (this.itemProvider != null) {\n                        url = this.itemProvider(curIndex % this._numItems);\n                        if (url == null)\n                            url = this._defaultItem;\n                        url = fgui.UIPackage.normalizeURL(url);\n                    }\n                    if (ii.obj != null && ii.obj.resourceURL != url) {\n                        if (ii.obj instanceof fgui.GButton)\n                            ii.selected = ii.obj.selected;\n                        this.removeChildToPool(ii.obj);\n                        ii.obj = null;\n                    }\n                }\n                if (ii.obj == null) {\n                    if (forward) {\n                        for (j = reuseIndex; j >= oldFirstIndex; j--) {\n                            ii2 = this._virtualItems[j];\n                            if (ii2.obj != null && ii2.updateFlag != this.itemInfoVer && ii2.obj.resourceURL == url) {\n                                if (ii2.obj instanceof fgui.GButton)\n                                    ii2.selected = ii2.obj.selected;\n                                ii.obj = ii2.obj;\n                                ii2.obj = null;\n                                if (j == reuseIndex)\n                                    reuseIndex--;\n                                break;\n                            }\n                        }\n                    }\n                    else {\n                        for (j = reuseIndex; j <= lastIndex; j++) {\n                            ii2 = this._virtualItems[j];\n                            if (ii2.obj != null && ii2.updateFlag != this.itemInfoVer && ii2.obj.resourceURL == url) {\n                                if (ii2.obj instanceof fgui.GButton)\n                                    ii2.selected = ii2.obj.selected;\n                                ii.obj = ii2.obj;\n                                ii2.obj = null;\n                                if (j == reuseIndex)\n                                    reuseIndex++;\n                                break;\n                            }\n                        }\n                    }\n                    if (ii.obj != null) {\n                        this.setChildIndex(ii.obj, forward ? curIndex - newFirstIndex : this.numChildren);\n                    }\n                    else {\n                        ii.obj = this._pool.getObject(url);\n                        if (forward)\n                            this.addChildAt(ii.obj, curIndex - newFirstIndex);\n                        else\n                            this.addChild(ii.obj);\n                    }\n                    if (ii.obj instanceof fgui.GButton)\n                        ii.obj.selected = ii.selected;\n                    needRender = true;\n                }\n                else\n                    needRender = forceUpdate;\n                if (needRender) {\n                    if (this._autoResizeItem && (this._layout == fgui.ListLayoutType.SingleColumn || this._columnCount > 0))\n                        ii.obj.setSize(partSize, ii.obj.height, true);\n                    this.itemRenderer(curIndex % this._numItems, ii.obj);\n                    if (curIndex % this._curLineItemCount == 0) {\n                        deltaSize += Math.ceil(ii.obj.height) - ii.height;\n                        if (curIndex == newFirstIndex && oldFirstIndex > newFirstIndex) {\n                            firstItemDeltaSize = Math.ceil(ii.obj.height) - ii.height;\n                        }\n                    }\n                    ii.width = Math.ceil(ii.obj.width);\n                    ii.height = Math.ceil(ii.obj.height);\n                }\n                ii.updateFlag = this.itemInfoVer;\n                ii.obj.setPosition(curX, curY);\n                if (curIndex == newFirstIndex)\n                    max += ii.height;\n                curX += ii.width + this._columnGap;\n                if (curIndex % this._curLineItemCount == this._curLineItemCount - 1) {\n                    curX = 0;\n                    curY += ii.height + this._lineGap;\n                }\n                curIndex++;\n            }\n            for (i = 0; i < childCount; i++) {\n                ii = this._virtualItems[oldFirstIndex + i];\n                if (ii.updateFlag != this.itemInfoVer && ii.obj != null) {\n                    if (ii.obj instanceof fgui.GButton)\n                        ii.selected = ii.obj.selected;\n                    this.removeChildToPool(ii.obj);\n                    ii.obj = null;\n                }\n            }\n            childCount = this._children.length;\n            for (i = 0; i < childCount; i++) {\n                var obj = this._virtualItems[newFirstIndex + i].obj;\n                if (this._children[i] != obj)\n                    this.setChildIndex(obj, i);\n            }\n            if (deltaSize != 0 || firstItemDeltaSize != 0)\n                this._scrollPane.changeContentSizeOnScrolling(0, deltaSize, 0, firstItemDeltaSize);\n            if (curIndex > 0 && this.numChildren > 0 && this._container.y <= 0 && this.getChildAt(0).y > -this._container.y)\n                return true;\n            else\n                return false;\n        };\n        GList.prototype.handleScroll2 = function (forceUpdate) {\n            var pos = this._scrollPane.scrollingPosX;\n            var max = pos + this._scrollPane.viewWidth;\n            var end = pos == this._scrollPane.contentWidth;\n            GList.pos_param = pos;\n            var newFirstIndex = this.getIndexOnPos2(forceUpdate);\n            pos = GList.pos_param;\n            if (newFirstIndex == this._firstIndex && !forceUpdate) {\n                return false;\n            }\n            var oldFirstIndex = this._firstIndex;\n            this._firstIndex = newFirstIndex;\n            var curIndex = newFirstIndex;\n            var forward = oldFirstIndex > newFirstIndex;\n            var childCount = this.numChildren;\n            var lastIndex = oldFirstIndex + childCount - 1;\n            var reuseIndex = forward ? lastIndex : oldFirstIndex;\n            var curX = pos, curY = 0;\n            var needRender;\n            var deltaSize = 0;\n            var firstItemDeltaSize = 0;\n            var url = this.defaultItem;\n            var ii, ii2;\n            var i, j;\n            var partSize = (this._scrollPane.viewHeight - this._lineGap * (this._curLineItemCount - 1)) / this._curLineItemCount;\n            this.itemInfoVer++;\n            while (curIndex < this._realNumItems && (end || curX < max)) {\n                ii = this._virtualItems[curIndex];\n                if (ii.obj == null || forceUpdate) {\n                    if (this.itemProvider != null) {\n                        url = this.itemProvider(curIndex % this._numItems);\n                        if (url == null)\n                            url = this._defaultItem;\n                        url = fgui.UIPackage.normalizeURL(url);\n                    }\n                    if (ii.obj != null && ii.obj.resourceURL != url) {\n                        if (ii.obj instanceof fgui.GButton)\n                            ii.selected = ii.obj.selected;\n                        this.removeChildToPool(ii.obj);\n                        ii.obj = null;\n                    }\n                }\n                if (ii.obj == null) {\n                    if (forward) {\n                        for (j = reuseIndex; j >= oldFirstIndex; j--) {\n                            ii2 = this._virtualItems[j];\n                            if (ii2.obj != null && ii2.updateFlag != this.itemInfoVer && ii2.obj.resourceURL == url) {\n                                if (ii2.obj instanceof fgui.GButton)\n                                    ii2.selected = ii2.obj.selected;\n                                ii.obj = ii2.obj;\n                                ii2.obj = null;\n                                if (j == reuseIndex)\n                                    reuseIndex--;\n                                break;\n                            }\n                        }\n                    }\n                    else {\n                        for (j = reuseIndex; j <= lastIndex; j++) {\n                            ii2 = this._virtualItems[j];\n                            if (ii2.obj != null && ii2.updateFlag != this.itemInfoVer && ii2.obj.resourceURL == url) {\n                                if (ii2.obj instanceof fgui.GButton)\n                                    ii2.selected = ii2.obj.selected;\n                                ii.obj = ii2.obj;\n                                ii2.obj = null;\n                                if (j == reuseIndex)\n                                    reuseIndex++;\n                                break;\n                            }\n                        }\n                    }\n                    if (ii.obj != null) {\n                        this.setChildIndex(ii.obj, forward ? curIndex - newFirstIndex : this.numChildren);\n                    }\n                    else {\n                        ii.obj = this._pool.getObject(url);\n                        if (forward)\n                            this.addChildAt(ii.obj, curIndex - newFirstIndex);\n                        else\n                            this.addChild(ii.obj);\n                    }\n                    if (ii.obj instanceof fgui.GButton)\n                        ii.obj.selected = ii.selected;\n                    needRender = true;\n                }\n                else\n                    needRender = forceUpdate;\n                if (needRender) {\n                    if (this._autoResizeItem && (this._layout == fgui.ListLayoutType.SingleRow || this._lineCount > 0))\n                        ii.obj.setSize(ii.obj.width, partSize, true);\n                    this.itemRenderer(curIndex % this._numItems, ii.obj);\n                    if (curIndex % this._curLineItemCount == 0) {\n                        deltaSize += Math.ceil(ii.obj.width) - ii.width;\n                        if (curIndex == newFirstIndex && oldFirstIndex > newFirstIndex) {\n                            firstItemDeltaSize = Math.ceil(ii.obj.width) - ii.width;\n                        }\n                    }\n                    ii.width = Math.ceil(ii.obj.width);\n                    ii.height = Math.ceil(ii.obj.height);\n                }\n                ii.updateFlag = this.itemInfoVer;\n                ii.obj.setPosition(curX, curY);\n                if (curIndex == newFirstIndex)\n                    max += ii.width;\n                curY += ii.height + this._lineGap;\n                if (curIndex % this._curLineItemCount == this._curLineItemCount - 1) {\n                    curY = 0;\n                    curX += ii.width + this._columnGap;\n                }\n                curIndex++;\n            }\n            for (i = 0; i < childCount; i++) {\n                ii = this._virtualItems[oldFirstIndex + i];\n                if (ii.updateFlag != this.itemInfoVer && ii.obj != null) {\n                    if (ii.obj instanceof fgui.GButton)\n                        ii.selected = ii.obj.selected;\n                    this.removeChildToPool(ii.obj);\n                    ii.obj = null;\n                }\n            }\n            childCount = this._children.length;\n            for (i = 0; i < childCount; i++) {\n                var obj = this._virtualItems[newFirstIndex + i].obj;\n                if (this._children[i] != obj)\n                    this.setChildIndex(obj, i);\n            }\n            if (deltaSize != 0 || firstItemDeltaSize != 0)\n                this._scrollPane.changeContentSizeOnScrolling(deltaSize, 0, firstItemDeltaSize, 0);\n            if (curIndex > 0 && this.numChildren > 0 && this._container.x <= 0 && this.getChildAt(0).x > -this._container.x)\n                return true;\n            else\n                return false;\n        };\n        GList.prototype.handleScroll3 = function (forceUpdate) {\n            var pos = this._scrollPane.scrollingPosX;\n            GList.pos_param = pos;\n            var newFirstIndex = this.getIndexOnPos3(forceUpdate);\n            pos = GList.pos_param;\n            if (newFirstIndex == this._firstIndex && !forceUpdate)\n                return;\n            var oldFirstIndex = this._firstIndex;\n            this._firstIndex = newFirstIndex;\n            var reuseIndex = oldFirstIndex;\n            var virtualItemCount = this._virtualItems.length;\n            var pageSize = this._curLineItemCount * this._curLineItemCount2;\n            var startCol = newFirstIndex % this._curLineItemCount;\n            var viewWidth = this.viewWidth;\n            var page = Math.floor(newFirstIndex / pageSize);\n            var startIndex = page * pageSize;\n            var lastIndex = startIndex + pageSize * 2;\n            var needRender;\n            var i;\n            var ii, ii2;\n            var col;\n            var url = this._defaultItem;\n            var partWidth = (this._scrollPane.viewWidth - this._columnGap * (this._curLineItemCount - 1)) / this._curLineItemCount;\n            var partHeight = (this._scrollPane.viewHeight - this._lineGap * (this._curLineItemCount2 - 1)) / this._curLineItemCount2;\n            this.itemInfoVer++;\n            for (i = startIndex; i < lastIndex; i++) {\n                if (i >= this._realNumItems)\n                    continue;\n                col = i % this._curLineItemCount;\n                if (i - startIndex < pageSize) {\n                    if (col < startCol)\n                        continue;\n                }\n                else {\n                    if (col > startCol)\n                        continue;\n                }\n                ii = this._virtualItems[i];\n                ii.updateFlag = this.itemInfoVer;\n            }\n            var lastObj = null;\n            var insertIndex = 0;\n            for (i = startIndex; i < lastIndex; i++) {\n                if (i >= this._realNumItems)\n                    continue;\n                ii = this._virtualItems[i];\n                if (ii.updateFlag != this.itemInfoVer)\n                    continue;\n                if (ii.obj == null) {\n                    while (reuseIndex < virtualItemCount) {\n                        ii2 = this._virtualItems[reuseIndex];\n                        if (ii2.obj != null && ii2.updateFlag != this.itemInfoVer) {\n                            if (ii2.obj instanceof fgui.GButton)\n                                ii2.selected = ii2.obj.selected;\n                            ii.obj = ii2.obj;\n                            ii2.obj = null;\n                            break;\n                        }\n                        reuseIndex++;\n                    }\n                    if (insertIndex == -1)\n                        insertIndex = this.getChildIndex(lastObj) + 1;\n                    if (ii.obj == null) {\n                        if (this.itemProvider != null) {\n                            url = this.itemProvider(i % this._numItems);\n                            if (url == null)\n                                url = this._defaultItem;\n                            url = fgui.UIPackage.normalizeURL(url);\n                        }\n                        ii.obj = this._pool.getObject(url);\n                        this.addChildAt(ii.obj, insertIndex);\n                    }\n                    else {\n                        insertIndex = this.setChildIndexBefore(ii.obj, insertIndex);\n                    }\n                    insertIndex++;\n                    if (ii.obj instanceof fgui.GButton)\n                        ii.obj.selected = ii.selected;\n                    needRender = true;\n                }\n                else {\n                    needRender = forceUpdate;\n                    insertIndex = -1;\n                    lastObj = ii.obj;\n                }\n                if (needRender) {\n                    if (this._autoResizeItem) {\n                        if (this._curLineItemCount == this._columnCount && this._curLineItemCount2 == this._lineCount)\n                            ii.obj.setSize(partWidth, partHeight, true);\n                        else if (this._curLineItemCount == this._columnCount)\n                            ii.obj.setSize(partWidth, ii.obj.height, true);\n                        else if (this._curLineItemCount2 == this._lineCount)\n                            ii.obj.setSize(ii.obj.width, partHeight, true);\n                    }\n                    this.itemRenderer(i % this._numItems, ii.obj);\n                    ii.width = Math.ceil(ii.obj.width);\n                    ii.height = Math.ceil(ii.obj.height);\n                }\n            }\n            var borderX = (startIndex / pageSize) * viewWidth;\n            var xx = borderX;\n            var yy = 0;\n            var lineHeight = 0;\n            for (i = startIndex; i < lastIndex; i++) {\n                if (i >= this._realNumItems)\n                    continue;\n                ii = this._virtualItems[i];\n                if (ii.updateFlag == this.itemInfoVer)\n                    ii.obj.setPosition(xx, yy);\n                if (ii.height > lineHeight)\n                    lineHeight = ii.height;\n                if (i % this._curLineItemCount == this._curLineItemCount - 1) {\n                    xx = borderX;\n                    yy += lineHeight + this._lineGap;\n                    lineHeight = 0;\n                    if (i == startIndex + pageSize - 1) {\n                        borderX += viewWidth;\n                        xx = borderX;\n                        yy = 0;\n                    }\n                }\n                else\n                    xx += ii.width + this._columnGap;\n            }\n            for (i = reuseIndex; i < virtualItemCount; i++) {\n                ii = this._virtualItems[i];\n                if (ii.updateFlag != this.itemInfoVer && ii.obj != null) {\n                    if (ii.obj instanceof fgui.GButton)\n                        ii.selected = ii.obj.selected;\n                    this.removeChildToPool(ii.obj);\n                    ii.obj = null;\n                }\n            }\n        };\n        GList.prototype.handleArchOrder1 = function () {\n            if (this._childrenRenderOrder == fgui.ChildrenRenderOrder.Arch) {\n                var mid = this._scrollPane.posY + this.viewHeight / 2;\n                var minDist = Number.POSITIVE_INFINITY;\n                var dist = 0;\n                var apexIndex = 0;\n                var cnt = this.numChildren;\n                for (var i = 0; i < cnt; i++) {\n                    var obj = this.getChildAt(i);\n                    if (!this.foldInvisibleItems || obj.visible) {\n                        dist = Math.abs(mid - obj.y - obj.height / 2);\n                        if (dist < minDist) {\n                            minDist = dist;\n                            apexIndex = i;\n                        }\n                    }\n                }\n                this.apexIndex = apexIndex;\n            }\n        };\n        GList.prototype.handleArchOrder2 = function () {\n            if (this._childrenRenderOrder == fgui.ChildrenRenderOrder.Arch) {\n                var mid = this._scrollPane.posX + this.viewWidth / 2;\n                var minDist = Number.POSITIVE_INFINITY;\n                var dist = 0;\n                var apexIndex = 0;\n                var cnt = this.numChildren;\n                for (var i = 0; i < cnt; i++) {\n                    var obj = this.getChildAt(i);\n                    if (!this.foldInvisibleItems || obj.visible) {\n                        dist = Math.abs(mid - obj.x - obj.width / 2);\n                        if (dist < minDist) {\n                            minDist = dist;\n                            apexIndex = i;\n                        }\n                    }\n                }\n                this.apexIndex = apexIndex;\n            }\n        };\n        GList.prototype.handleAlign = function (contentWidth, contentHeight) {\n            var newOffsetX = 0;\n            var newOffsetY = 0;\n            if (contentHeight < this.viewHeight) {\n                if (this._verticalAlign == fgui.VertAlignType.Middle)\n                    newOffsetY = Math.floor((this.viewHeight - contentHeight) / 2);\n                else if (this._verticalAlign == fgui.VertAlignType.Bottom)\n                    newOffsetY = this.viewHeight - contentHeight;\n            }\n            if (contentWidth < this.viewWidth) {\n                if (this._align == fgui.AlignType.Center)\n                    newOffsetX = Math.floor((this.viewWidth - contentWidth) / 2);\n                else if (this._align == fgui.AlignType.Right)\n                    newOffsetX = this.viewWidth - contentWidth;\n            }\n            if (newOffsetX != this._alignOffset.x || newOffsetY != this._alignOffset.y) {\n                this._alignOffset.x = newOffsetX;\n                this._alignOffset.y = newOffsetY;\n                if (this._scrollPane != null)\n                    this._scrollPane.adjustMaskContainer();\n                else\n                    this._container.setPosition(this._pivotCorrectX + this._alignOffset.x, this._pivotCorrectY - this._alignOffset.y);\n            }\n        };\n        GList.prototype.updateBounds = function () {\n            if (this._virtual)\n                return;\n            var i;\n            var child;\n            var curX = 0;\n            var curY = 0;\n            var maxWidth = 0;\n            var maxHeight = 0;\n            var cw = 0, ch = 0;\n            var j = 0;\n            var page = 0;\n            var k = 0;\n            var cnt = this._children.length;\n            var viewWidth = this.viewWidth;\n            var viewHeight = this.viewHeight;\n            var lineSize = 0;\n            var lineStart = 0;\n            var ratio = 0;\n            if (this._layout == fgui.ListLayoutType.SingleColumn) {\n                for (i = 0; i < cnt; i++) {\n                    child = this.getChildAt(i);\n                    if (this.foldInvisibleItems && !child.visible)\n                        continue;\n                    if (curY != 0)\n                        curY += this._lineGap;\n                    child.y = curY;\n                    if (this._autoResizeItem)\n                        child.setSize(viewWidth, child.height, true);\n                    curY += Math.ceil(child.height);\n                    if (child.width > maxWidth)\n                        maxWidth = child.width;\n                }\n                ch = curY;\n                if (ch <= viewHeight && this._autoResizeItem && this._scrollPane && this._scrollPane._displayInDemand && this._scrollPane.vtScrollBar) {\n                    viewWidth += this._scrollPane.vtScrollBar.width;\n                    for (i = 0; i < cnt; i++) {\n                        child = this.getChildAt(i);\n                        if (this.foldInvisibleItems && !child.visible)\n                            continue;\n                        child.setSize(viewWidth, child.height, true);\n                        if (child.width > maxWidth)\n                            maxWidth = child.width;\n                    }\n                }\n                cw = Math.ceil(maxWidth);\n            }\n            else if (this._layout == fgui.ListLayoutType.SingleRow) {\n                for (i = 0; i < cnt; i++) {\n                    child = this.getChildAt(i);\n                    if (this.foldInvisibleItems && !child.visible)\n                        continue;\n                    if (curX != 0)\n                        curX += this._columnGap;\n                    child.x = curX;\n                    if (this._autoResizeItem)\n                        child.setSize(child.width, viewHeight, true);\n                    curX += Math.ceil(child.width);\n                    if (child.height > maxHeight)\n                        maxHeight = child.height;\n                }\n                cw = curX;\n                if (cw <= viewWidth && this._autoResizeItem && this._scrollPane && this._scrollPane._displayInDemand && this._scrollPane.hzScrollBar) {\n                    viewHeight += this._scrollPane.hzScrollBar.height;\n                    for (i = 0; i < cnt; i++) {\n                        child = this.getChildAt(i);\n                        if (this.foldInvisibleItems && !child.visible)\n                            continue;\n                        child.setSize(child.width, viewHeight, true);\n                        if (child.height > maxHeight)\n                            maxHeight = child.height;\n                    }\n                }\n                ch = Math.ceil(maxHeight);\n            }\n            else if (this._layout == fgui.ListLayoutType.FlowHorizontal) {\n                if (this._autoResizeItem && this._columnCount > 0) {\n                    for (i = 0; i < cnt; i++) {\n                        child = this.getChildAt(i);\n                        if (this.foldInvisibleItems && !child.visible)\n                            continue;\n                        lineSize += child.sourceWidth;\n                        j++;\n                        if (j == this._columnCount || i == cnt - 1) {\n                            ratio = (viewWidth - lineSize - (j - 1) * this._columnGap) / lineSize;\n                            curX = 0;\n                            for (j = lineStart; j <= i; j++) {\n                                child = this.getChildAt(j);\n                                if (this.foldInvisibleItems && !child.visible)\n                                    continue;\n                                child.setPosition(curX, curY);\n                                if (j < i) {\n                                    child.setSize(child.sourceWidth + Math.round(child.sourceWidth * ratio), child.height, true);\n                                    curX += Math.ceil(child.width) + this._columnGap;\n                                }\n                                else {\n                                    child.setSize(viewWidth - curX, child.height, true);\n                                }\n                                if (child.height > maxHeight)\n                                    maxHeight = child.height;\n                            }\n                            curY += Math.ceil(maxHeight) + this._lineGap;\n                            maxHeight = 0;\n                            j = 0;\n                            lineStart = i + 1;\n                            lineSize = 0;\n                        }\n                    }\n                    ch = curY + Math.ceil(maxHeight);\n                    cw = viewWidth;\n                }\n                else {\n                    for (i = 0; i < cnt; i++) {\n                        child = this.getChildAt(i);\n                        if (this.foldInvisibleItems && !child.visible)\n                            continue;\n                        if (curX != 0)\n                            curX += this._columnGap;\n                        if (this._columnCount != 0 && j >= this._columnCount\n                            || this._columnCount == 0 && curX + child.width > viewWidth && maxHeight != 0) {\n                            curX = 0;\n                            curY += Math.ceil(maxHeight) + this._lineGap;\n                            maxHeight = 0;\n                            j = 0;\n                        }\n                        child.setPosition(curX, curY);\n                        curX += Math.ceil(child.width);\n                        if (curX > maxWidth)\n                            maxWidth = curX;\n                        if (child.height > maxHeight)\n                            maxHeight = child.height;\n                        j++;\n                    }\n                    ch = curY + Math.ceil(maxHeight);\n                    cw = Math.ceil(maxWidth);\n                }\n            }\n            else if (this._layout == fgui.ListLayoutType.FlowVertical) {\n                if (this._autoResizeItem && this._lineCount > 0) {\n                    for (i = 0; i < cnt; i++) {\n                        child = this.getChildAt(i);\n                        if (this.foldInvisibleItems && !child.visible)\n                            continue;\n                        lineSize += child.sourceHeight;\n                        j++;\n                        if (j == this._lineCount || i == cnt - 1) {\n                            ratio = (viewHeight - lineSize - (j - 1) * this._lineGap) / lineSize;\n                            curY = 0;\n                            for (j = lineStart; j <= i; j++) {\n                                child = this.getChildAt(j);\n                                if (this.foldInvisibleItems && !child.visible)\n                                    continue;\n                                child.setPosition(curX, curY);\n                                if (j < i) {\n                                    child.setSize(child.width, child.sourceHeight + Math.round(child.sourceHeight * ratio), true);\n                                    curY += Math.ceil(child.height) + this._lineGap;\n                                }\n                                else {\n                                    child.setSize(child.width, viewHeight - curY, true);\n                                }\n                                if (child.width > maxWidth)\n                                    maxWidth = child.width;\n                            }\n                            curX += Math.ceil(maxWidth) + this._columnGap;\n                            maxWidth = 0;\n                            j = 0;\n                            lineStart = i + 1;\n                            lineSize = 0;\n                        }\n                    }\n                    cw = curX + Math.ceil(maxWidth);\n                    ch = viewHeight;\n                }\n                else {\n                    for (i = 0; i < cnt; i++) {\n                        child = this.getChildAt(i);\n                        if (this.foldInvisibleItems && !child.visible)\n                            continue;\n                        if (curY != 0)\n                            curY += this._lineGap;\n                        if (this._lineCount != 0 && j >= this._lineCount\n                            || this._lineCount == 0 && curY + child.height > viewHeight && maxWidth != 0) {\n                            curY = 0;\n                            curX += Math.ceil(maxWidth) + this._columnGap;\n                            maxWidth = 0;\n                            j = 0;\n                        }\n                        child.setPosition(curX, curY);\n                        curY += Math.ceil(child.height);\n                        if (curY > maxHeight)\n                            maxHeight = curY;\n                        if (child.width > maxWidth)\n                            maxWidth = child.width;\n                        j++;\n                    }\n                    cw = curX + Math.ceil(maxWidth);\n                    ch = Math.ceil(maxHeight);\n                }\n            }\n            else {\n                var eachHeight;\n                if (this._autoResizeItem && this._lineCount > 0)\n                    eachHeight = Math.floor((viewHeight - (this._lineCount - 1) * this._lineGap) / this._lineCount);\n                if (this._autoResizeItem && this._columnCount > 0) {\n                    for (i = 0; i < cnt; i++) {\n                        child = this.getChildAt(i);\n                        if (this.foldInvisibleItems && !child.visible)\n                            continue;\n                        if (j == 0 && (this._lineCount != 0 && k >= this._lineCount\n                            || this._lineCount == 0 && curY + (this._lineCount > 0 ? eachHeight : child.height) > viewHeight)) {\n                            page++;\n                            curY = 0;\n                            k = 0;\n                        }\n                        lineSize += child.sourceWidth;\n                        j++;\n                        if (j == this._columnCount || i == cnt - 1) {\n                            ratio = (viewWidth - lineSize - (j - 1) * this._columnGap) / lineSize;\n                            curX = 0;\n                            for (j = lineStart; j <= i; j++) {\n                                child = this.getChildAt(j);\n                                if (this.foldInvisibleItems && !child.visible)\n                                    continue;\n                                child.setPosition(page * viewWidth + curX, curY);\n                                if (j < i) {\n                                    child.setSize(child.sourceWidth + Math.round(child.sourceWidth * ratio), this._lineCount > 0 ? eachHeight : child.height, true);\n                                    curX += Math.ceil(child.width) + this._columnGap;\n                                }\n                                else {\n                                    child.setSize(viewWidth - curX, this._lineCount > 0 ? eachHeight : child.height, true);\n                                }\n                                if (child.height > maxHeight)\n                                    maxHeight = child.height;\n                            }\n                            curY += Math.ceil(maxHeight) + this._lineGap;\n                            maxHeight = 0;\n                            j = 0;\n                            lineStart = i + 1;\n                            lineSize = 0;\n                            k++;\n                        }\n                    }\n                }\n                else {\n                    for (i = 0; i < cnt; i++) {\n                        child = this.getChildAt(i);\n                        if (this.foldInvisibleItems && !child.visible)\n                            continue;\n                        if (curX != 0)\n                            curX += this._columnGap;\n                        if (this._autoResizeItem && this._lineCount > 0)\n                            child.setSize(child.width, eachHeight, true);\n                        if (this._columnCount != 0 && j >= this._columnCount\n                            || this._columnCount == 0 && curX + child.width > viewWidth && maxHeight != 0) {\n                            curX = 0;\n                            curY += Math.ceil(maxHeight) + this._lineGap;\n                            maxHeight = 0;\n                            j = 0;\n                            k++;\n                            if (this._lineCount != 0 && k >= this._lineCount\n                                || this._lineCount == 0 && curY + child.height > viewHeight && maxWidth != 0) {\n                                page++;\n                                curY = 0;\n                                k = 0;\n                            }\n                        }\n                        child.setPosition(page * viewWidth + curX, curY);\n                        curX += Math.ceil(child.width);\n                        if (curX > maxWidth)\n                            maxWidth = curX;\n                        if (child.height > maxHeight)\n                            maxHeight = child.height;\n                        j++;\n                    }\n                }\n                ch = page > 0 ? viewHeight : curY + Math.ceil(maxHeight);\n                cw = (page + 1) * viewWidth;\n            }\n            this.handleAlign(cw, ch);\n            this.setBounds(0, 0, cw, ch);\n        };\n        GList.prototype.setup_beforeAdd = function (buffer, beginPos) {\n            _super.prototype.setup_beforeAdd.call(this, buffer, beginPos);\n            buffer.seek(beginPos, 5);\n            this._layout = buffer.readByte();\n            this._selectionMode = buffer.readByte();\n            this._align = buffer.readByte();\n            this._verticalAlign = buffer.readByte();\n            this._lineGap = buffer.readShort();\n            this._columnGap = buffer.readShort();\n            this._lineCount = buffer.readShort();\n            this._columnCount = buffer.readShort();\n            this._autoResizeItem = buffer.readBool();\n            this._childrenRenderOrder = buffer.readByte();\n            this._apexIndex = buffer.readShort();\n            if (buffer.readBool()) {\n                this._margin.top = buffer.readInt();\n                this._margin.bottom = buffer.readInt();\n                this._margin.left = buffer.readInt();\n                this._margin.right = buffer.readInt();\n            }\n            var overflow = buffer.readByte();\n            if (overflow == fgui.OverflowType.Scroll) {\n                var savedPos = buffer.position;\n                buffer.seek(beginPos, 7);\n                this.setupScroll(buffer);\n                buffer.position = savedPos;\n            }\n            else\n                this.setupOverflow(overflow);\n            if (buffer.readBool())\n                buffer.skip(8);\n            if (buffer.version >= 2) {\n                this.scrollItemToViewOnClick = buffer.readBool();\n                this.foldInvisibleItems = buffer.readBool();\n            }\n            buffer.seek(beginPos, 8);\n            this._defaultItem = buffer.readS();\n            this.readItems(buffer);\n        };\n        GList.prototype.readItems = function (buffer) {\n            var cnt;\n            var i;\n            var nextPos;\n            var str;\n            cnt = buffer.readShort();\n            for (i = 0; i < cnt; i++) {\n                nextPos = buffer.readShort();\n                nextPos += buffer.position;\n                str = buffer.readS();\n                if (str == null) {\n                    str = this.defaultItem;\n                    if (!str) {\n                        buffer.position = nextPos;\n                        continue;\n                    }\n                }\n                var obj = this.getFromPool(str);\n                if (obj != null) {\n                    this.addChild(obj);\n                    this.setupItem(buffer, obj);\n                }\n                buffer.position = nextPos;\n            }\n        };\n        GList.prototype.setupItem = function (buffer, obj) {\n            var str;\n            str = buffer.readS();\n            if (str != null)\n                obj.text = str;\n            str = buffer.readS();\n            if (str != null && (obj instanceof fgui.GButton))\n                obj.selectedTitle = str;\n            str = buffer.readS();\n            if (str != null)\n                obj.icon = str;\n            str = buffer.readS();\n            if (str != null && (obj instanceof fgui.GButton))\n                obj.selectedIcon = str;\n            str = buffer.readS();\n            if (str != null)\n                obj.name = str;\n            var cnt;\n            var i;\n            if (obj instanceof fgui.GComponent) {\n                cnt = buffer.readShort();\n                for (i = 0; i < cnt; i++) {\n                    var cc = obj.getController(buffer.readS());\n                    str = buffer.readS();\n                    if (cc != null)\n                        cc.selectedPageId = str;\n                }\n                if (buffer.version >= 2) {\n                    cnt = buffer.readShort();\n                    for (i = 0; i < cnt; i++) {\n                        var target = buffer.readS();\n                        var propertyId = buffer.readShort();\n                        var value = buffer.readS();\n                        var obj2 = obj.getChildByPath(target);\n                        if (obj2)\n                            obj2.setProp(propertyId, value);\n                    }\n                }\n            }\n        };\n        GList.prototype.setup_afterAdd = function (buffer, beginPos) {\n            _super.prototype.setup_afterAdd.call(this, buffer, beginPos);\n            buffer.seek(beginPos, 6);\n            var i = buffer.readShort();\n            if (i != -1)\n                this._selectionController = this.parent.getControllerAt(i);\n        };\n        return GList;\n    }(fgui.GComponent));\n    fgui.GList = GList;\n    var ItemInfo = (function () {\n        function ItemInfo() {\n            this.width = 0;\n            this.height = 0;\n            this.updateFlag = 0;\n            this.selected = false;\n        }\n        return ItemInfo;\n    }());\n})(fgui || (fgui = {}));\nvar fgui;\n(function (fgui) {\n    var GObjectPool = (function () {\n        function GObjectPool() {\n            this._count = 0;\n            this._pool = {};\n        }\n        GObjectPool.prototype.clear = function () {\n            var keys = Object.keys(this._pool);\n            for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n                var i1 = keys_1[_i];\n                var arr = this._pool[i1];\n                var cnt = arr.length;\n                for (var i = 0; i < cnt; i++)\n                    arr[i].dispose();\n            }\n            this._pool = {};\n            this._count = 0;\n        };\n        Object.defineProperty(GObjectPool.prototype, \"count\", {\n            get: function () {\n                return this._count;\n            },\n            set: function (c) { },\n            enumerable: false,\n            configurable: true\n        });\n        ;\n        GObjectPool.prototype.getObject = function (url) {\n            url = fgui.UIPackage.normalizeURL(url);\n            if (url == null)\n                return null;\n            var arr = this._pool[url];\n            if (arr != null && arr.length) {\n                this._count--;\n                return arr.shift();\n            }\n            var child = fgui.UIPackage.createObjectFromURL(url);\n            return child;\n        };\n        GObjectPool.prototype.returnObject = function (obj) {\n            var url = obj.resourceURL;\n            if (!url)\n                return;\n            var arr = this._pool[url];\n            if (arr == null) {\n                arr = new Array();\n                this._pool[url] = arr;\n            }\n            this._count++;\n            arr.push(obj);\n        };\n        return GObjectPool;\n    }());\n    fgui.GObjectPool = GObjectPool;\n})(fgui || (fgui = {}));\nvar fgui;\n(function (fgui) {\n    var GLoader = (function (_super) {\n        __extends(GLoader, _super);\n        function GLoader() {\n            var _this = _super.call(this) || this;\n            _this._frame = 0;\n            _this._contentSourceWidth = 0;\n            _this._contentSourceHeight = 0;\n            _this._contentWidth = 0;\n            _this._contentHeight = 0;\n            _this._node.name = \"GLoader\";\n            _this._playing = true;\n            _this._url = \"\";\n            _this._fill = fgui.LoaderFillType.None;\n            _this._align = fgui.AlignType.Left;\n            _this._verticalAlign = fgui.VertAlignType.Top;\n            _this._showErrorSign = true;\n            _this._color = new cc.Color(255, 255, 255, 255);\n            _this._container = new cc.Node(\"Image\");\n            _this._container.setAnchorPoint(0, 1);\n            _this._node.addChild(_this._container);\n            _this._content = _this._container.addComponent(fgui.MovieClip);\n            _this._content.sizeMode = cc.Sprite.SizeMode.CUSTOM;\n            _this._content.trim = false;\n            _this._content.setPlaySettings();\n            return _this;\n        }\n        GLoader.prototype.dispose = function () {\n            if (this._contentItem == null) {\n                if (this._content.spriteFrame != null)\n                    this.freeExternal(this._content.spriteFrame);\n            }\n            if (this._content2 != null)\n                this._content2.dispose();\n            _super.prototype.dispose.call(this);\n        };\n        Object.defineProperty(GLoader.prototype, \"url\", {\n            get: function () {\n                return this._url;\n            },\n            set: function (value) {\n                if (this._url == value)\n                    return;\n                this._url = value;\n                this.loadContent();\n                this.updateGear(7);\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GLoader.prototype, \"icon\", {\n            get: function () {\n                return this._url;\n            },\n            set: function (value) {\n                this.url = value;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GLoader.prototype, \"align\", {\n            get: function () {\n                return this._align;\n            },\n            set: function (value) {\n                if (this._align != value) {\n                    this._align = value;\n                    this.updateLayout();\n                }\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GLoader.prototype, \"verticalAlign\", {\n            get: function () {\n                return this._verticalAlign;\n            },\n            set: function (value) {\n                if (this._verticalAlign != value) {\n                    this._verticalAlign = value;\n                    this.updateLayout();\n                }\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GLoader.prototype, \"fill\", {\n            get: function () {\n                return this._fill;\n            },\n            set: function (value) {\n                if (this._fill != value) {\n                    this._fill = value;\n                    this.updateLayout();\n                }\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GLoader.prototype, \"shrinkOnly\", {\n            get: function () {\n                return this._shrinkOnly;\n            },\n            set: function (value) {\n                if (this._shrinkOnly != value) {\n                    this._shrinkOnly = value;\n                    this.updateLayout();\n                }\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GLoader.prototype, \"autoSize\", {\n            get: function () {\n                return this._autoSize;\n            },\n            set: function (value) {\n                if (this._autoSize != value) {\n                    this._autoSize = value;\n                    this.updateLayout();\n                }\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GLoader.prototype, \"playing\", {\n            get: function () {\n                return this._playing;\n            },\n            set: function (value) {\n                if (this._playing != value) {\n                    this._playing = value;\n                    if (this._content instanceof fgui.MovieClip)\n                        this._content.playing = value;\n                    this.updateGear(5);\n                }\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GLoader.prototype, \"frame\", {\n            get: function () {\n                return this._frame;\n            },\n            set: function (value) {\n                if (this._frame != value) {\n                    this._frame = value;\n                    if (this._content instanceof fgui.MovieClip)\n                        this._content.frame = value;\n                    this.updateGear(5);\n                }\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GLoader.prototype, \"color\", {\n            get: function () {\n                return this._color;\n            },\n            set: function (value) {\n                if (!this._color.equals(value)) {\n                    this._color.set(value);\n                    this.updateGear(4);\n                    this._container.color = value;\n                }\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GLoader.prototype, \"fillMethod\", {\n            get: function () {\n                return this._content.fillMethod;\n            },\n            set: function (value) {\n                this._content.fillMethod = value;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GLoader.prototype, \"fillOrigin\", {\n            get: function () {\n                return this._content.fillOrigin;\n            },\n            set: function (value) {\n                this._content.fillOrigin = value;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GLoader.prototype, \"fillClockwise\", {\n            get: function () {\n                return this._content.fillClockwise;\n            },\n            set: function (value) {\n                this._content.fillClockwise = value;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GLoader.prototype, \"fillAmount\", {\n            get: function () {\n                return this._content.fillAmount;\n            },\n            set: function (value) {\n                this._content.fillAmount = value;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GLoader.prototype, \"showErrorSign\", {\n            get: function () {\n                return this._showErrorSign;\n            },\n            set: function (value) {\n                this._showErrorSign = value;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GLoader.prototype, \"component\", {\n            get: function () {\n                return this._content2;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GLoader.prototype, \"texture\", {\n            get: function () {\n                return this._content.spriteFrame;\n            },\n            set: function (value) {\n                this.url = null;\n                this._content.spriteFrame = value;\n                this._content.type = cc.Sprite.Type.SIMPLE;\n                if (value != null) {\n                    this._contentSourceWidth = value.getRect().width;\n                    this._contentSourceHeight = value.getRect().height;\n                }\n                else {\n                    this._contentSourceWidth = this._contentHeight = 0;\n                }\n                this.updateLayout();\n            },\n            enumerable: false,\n            configurable: true\n        });\n        GLoader.prototype.loadContent = function () {\n            this.clearContent();\n            if (!this._url)\n                return;\n            if (fgui.ToolSet.startsWith(this._url, \"ui://\"))\n                this.loadFromPackage(this._url);\n            else\n                this.loadExternal();\n        };\n        GLoader.prototype.loadFromPackage = function (itemURL) {\n            this._contentItem = fgui.UIPackage.getItemByURL(itemURL);\n            if (this._contentItem != null) {\n                this._contentItem = this._contentItem.getBranch();\n                this._contentSourceWidth = this._contentItem.width;\n                this._contentSourceHeight = this._contentItem.height;\n                this._contentItem = this._contentItem.getHighResolution();\n                this._contentItem.load();\n                if (this._autoSize)\n                    this.setSize(this._contentSourceWidth, this._contentSourceHeight);\n                if (this._contentItem.type == fgui.PackageItemType.Image) {\n                    if (!this._contentItem.asset) {\n                        this.setErrorState();\n                    }\n                    else {\n                        this._content.spriteFrame = this._contentItem.asset;\n                        if (this._content.fillMethod == 0) {\n                            if (this._contentItem.scale9Grid)\n                                this._content.type = cc.Sprite.Type.SLICED;\n                            else if (this._contentItem.scaleByTile)\n                                this._content.type = cc.Sprite.Type.TILED;\n                            else\n                                this._content.type = cc.Sprite.Type.SIMPLE;\n                        }\n                        this.updateLayout();\n                    }\n                }\n                else if (this._contentItem.type == fgui.PackageItemType.MovieClip) {\n                    this._content.interval = this._contentItem.interval;\n                    this._content.swing = this._contentItem.swing;\n                    this._content.repeatDelay = this._contentItem.repeatDelay;\n                    this._content.frames = this._contentItem.frames;\n                    this.updateLayout();\n                }\n                else if (this._contentItem.type == fgui.PackageItemType.Component) {\n                    var obj = fgui.UIPackage.createObjectFromURL(itemURL);\n                    if (!obj)\n                        this.setErrorState();\n                    else if (!(obj instanceof fgui.GComponent)) {\n                        obj.dispose();\n                        this.setErrorState();\n                    }\n                    else {\n                        this._content2 = obj.asCom;\n                        this._container.addChild(this._content2.node);\n                        this.updateLayout();\n                    }\n                }\n                else\n                    this.setErrorState();\n            }\n            else\n                this.setErrorState();\n        };\n        GLoader.prototype.loadExternal = function () {\n            if (fgui.ToolSet.startsWith(this._url, \"http://\")\n                || fgui.ToolSet.startsWith(this._url, \"https://\")\n                || fgui.ToolSet.startsWith(this._url, '/'))\n                cc.loader.load(this._url, this.onLoaded.bind(this));\n            else\n                cc.loader.loadRes(this._url, cc.Asset, this.onLoaded.bind(this));\n        };\n        GLoader.prototype.onLoaded = function (err, asset) {\n            if (!this._url || !cc.isValid(this._node))\n                return;\n            asset = cc.loader.getRes(this._url);\n            if (!asset)\n                return;\n            if (asset instanceof cc.SpriteFrame)\n                this.onExternalLoadSuccess(asset);\n            else if (asset instanceof cc.Texture2D)\n                this.onExternalLoadSuccess(new cc.SpriteFrame(asset));\n        };\n        GLoader.prototype.freeExternal = function (texture) {\n        };\n        GLoader.prototype.onExternalLoadSuccess = function (texture) {\n            this._content.spriteFrame = texture;\n            this._content.type = cc.Sprite.Type.SIMPLE;\n            this._contentSourceWidth = texture.getRect().width;\n            this._contentSourceHeight = texture.getRect().height;\n            if (this._autoSize)\n                this.setSize(this._contentSourceWidth, this._contentSourceHeight);\n            this.updateLayout();\n        };\n        GLoader.prototype.onExternalLoadFailed = function () {\n            this.setErrorState();\n        };\n        GLoader.prototype.setErrorState = function () {\n            if (!this._showErrorSign)\n                return;\n            if (this._errorSign == null) {\n                if (fgui.UIConfig.loaderErrorSign != null) {\n                    this._errorSign = GLoader._errorSignPool.getObject(fgui.UIConfig.loaderErrorSign);\n                }\n            }\n            if (this._errorSign != null) {\n                this._errorSign.setSize(this.width, this.height);\n                this._container.addChild(this._errorSign.node);\n            }\n        };\n        GLoader.prototype.clearErrorState = function () {\n            if (this._errorSign != null) {\n                this._container.removeChild(this._errorSign.node);\n                GLoader._errorSignPool.returnObject(this._errorSign);\n                this._errorSign = null;\n            }\n        };\n        GLoader.prototype.updateLayout = function () {\n            if (this._content2 == null && this._content == null) {\n                if (this._autoSize) {\n                    this._updatingLayout = true;\n                    this.setSize(50, 30);\n                    this._updatingLayout = false;\n                }\n                return;\n            }\n            this._contentWidth = this._contentSourceWidth;\n            this._contentHeight = this._contentSourceHeight;\n            var pivotCorrectX = -this.pivotX * this._width;\n            var pivotCorrectY = this.pivotY * this._height;\n            if (this._autoSize) {\n                this._updatingLayout = true;\n                if (this._contentWidth == 0)\n                    this._contentWidth = 50;\n                if (this._contentHeight == 0)\n                    this._contentHeight = 30;\n                this.setSize(this._contentWidth, this._contentHeight);\n                this._updatingLayout = false;\n                this._container.setContentSize(this._width, this._height);\n                this._container.setPosition(pivotCorrectX, pivotCorrectY);\n                if (this._content2 != null) {\n                    this._content2.setPosition(pivotCorrectX + this._width * this.pivotX, pivotCorrectY - this._height * this.pivotY);\n                    this._content2.setScale(1, 1);\n                }\n                if (this._contentWidth == this._width && this._contentHeight == this._height)\n                    return;\n            }\n            var sx = 1, sy = 1;\n            if (this._fill != fgui.LoaderFillType.None) {\n                sx = this.width / this._contentSourceWidth;\n                sy = this.height / this._contentSourceHeight;\n                if (sx != 1 || sy != 1) {\n                    if (this._fill == fgui.LoaderFillType.ScaleMatchHeight)\n                        sx = sy;\n                    else if (this._fill == fgui.LoaderFillType.ScaleMatchWidth)\n                        sy = sx;\n                    else if (this._fill == fgui.LoaderFillType.Scale) {\n                        if (sx > sy)\n                            sx = sy;\n                        else\n                            sy = sx;\n                    }\n                    else if (this._fill == fgui.LoaderFillType.ScaleNoBorder) {\n                        if (sx > sy)\n                            sy = sx;\n                        else\n                            sx = sy;\n                    }\n                    if (this._shrinkOnly) {\n                        if (sx > 1)\n                            sx = 1;\n                        if (sy > 1)\n                            sy = 1;\n                    }\n                    this._contentWidth = this._contentSourceWidth * sx;\n                    this._contentHeight = this._contentSourceHeight * sy;\n                }\n            }\n            this._container.setContentSize(this._contentWidth, this._contentHeight);\n            if (this._content2 != null) {\n                this._content2.setPosition(pivotCorrectX + this._width * this.pivotX, pivotCorrectY - this._height * this.pivotY);\n                this._content2.setScale(sx, sy);\n            }\n            var nx, ny;\n            if (this._align == fgui.AlignType.Left)\n                nx = 0;\n            else if (this._align == fgui.AlignType.Center)\n                nx = Math.floor((this._width - this._contentWidth) / 2);\n            else\n                nx = this._width - this._contentWidth;\n            if (this._verticalAlign == fgui.VertAlignType.Top)\n                ny = 0;\n            else if (this._verticalAlign == fgui.VertAlignType.Middle)\n                ny = Math.floor((this._height - this._contentHeight) / 2);\n            else\n                ny = this._height - this._contentHeight;\n            ny = -ny;\n            this._container.setPosition(pivotCorrectX + nx, pivotCorrectY + ny);\n        };\n        GLoader.prototype.clearContent = function () {\n            this.clearErrorState();\n            if (this._contentItem == null) {\n                var texture = this._content.spriteFrame;\n                if (texture != null)\n                    this.freeExternal(texture);\n            }\n            if (this._content2 != null) {\n                this._container.removeChild(this._content2.node);\n                this._content2.dispose();\n                this._content2 = null;\n            }\n            this._content.frames = null;\n            this._content.spriteFrame = null;\n            this._contentItem = null;\n        };\n        GLoader.prototype.handleSizeChanged = function () {\n            _super.prototype.handleSizeChanged.call(this);\n            if (!this._updatingLayout)\n                this.updateLayout();\n        };\n        GLoader.prototype.handleAnchorChanged = function () {\n            _super.prototype.handleAnchorChanged.call(this);\n            if (!this._updatingLayout)\n                this.updateLayout();\n        };\n        GLoader.prototype.handleGrayedChanged = function () {\n            this._content.grayed = this._grayed;\n        };\n        GLoader.prototype.hitTest = function (globalPt) {\n            if (this._touchDisabled || !this._touchable || !this._node.activeInHierarchy)\n                return null;\n            if (this._content2) {\n                var obj = this._content2.hitTest(globalPt);\n                if (obj)\n                    return obj;\n            }\n            var pt = this._node.convertToNodeSpaceAR(globalPt);\n            pt.x += this._node.anchorX * this._width;\n            pt.y += this._node.anchorY * this._height;\n            if (pt.x >= 0 && pt.y >= 0 && pt.x < this._width && pt.y < this._height)\n                return this;\n            else\n                return null;\n        };\n        GLoader.prototype.getProp = function (index) {\n            switch (index) {\n                case fgui.ObjectPropID.Color:\n                    return this.color;\n                case fgui.ObjectPropID.Playing:\n                    return this.playing;\n                case fgui.ObjectPropID.Frame:\n                    return this.frame;\n                case fgui.ObjectPropID.TimeScale:\n                    return this._content.timeScale;\n                default:\n                    return _super.prototype.getProp.call(this, index);\n            }\n        };\n        GLoader.prototype.setProp = function (index, value) {\n            switch (index) {\n                case fgui.ObjectPropID.Color:\n                    this.color = value;\n                    break;\n                case fgui.ObjectPropID.Playing:\n                    this.playing = value;\n                    break;\n                case fgui.ObjectPropID.Frame:\n                    this.frame = value;\n                    break;\n                case fgui.ObjectPropID.TimeScale:\n                    this._content.timeScale = value;\n                    break;\n                case fgui.ObjectPropID.DeltaTime:\n                    this._content.advance(value);\n                    break;\n                default:\n                    _super.prototype.setProp.call(this, index, value);\n                    break;\n            }\n        };\n        GLoader.prototype.setup_beforeAdd = function (buffer, beginPos) {\n            _super.prototype.setup_beforeAdd.call(this, buffer, beginPos);\n            buffer.seek(beginPos, 5);\n            this._url = buffer.readS();\n            this._align = buffer.readByte();\n            this._verticalAlign = buffer.readByte();\n            this._fill = buffer.readByte();\n            this._shrinkOnly = buffer.readBool();\n            this._autoSize = buffer.readBool();\n            this._showErrorSign = buffer.readBool();\n            this._playing = buffer.readBool();\n            this._frame = buffer.readInt();\n            if (buffer.readBool())\n                this.color = buffer.readColor();\n            this._content.fillMethod = buffer.readByte();\n            if (this._content.fillMethod != 0) {\n                this._content.fillOrigin = buffer.readByte();\n                this._content.fillClockwise = buffer.readBool();\n                this._content.fillAmount = buffer.readFloat();\n            }\n            if (this._url)\n                this.loadContent();\n        };\n        GLoader._errorSignPool = new fgui.GObjectPool();\n        return GLoader;\n    }(fgui.GObject));\n    fgui.GLoader = GLoader;\n})(fgui || (fgui = {}));\nvar fgui;\n(function (fgui) {\n    var GMovieClip = (function (_super) {\n        __extends(GMovieClip, _super);\n        function GMovieClip() {\n            var _this = _super.call(this) || this;\n            _this._node.name = \"GMovieClip\";\n            _this._touchDisabled = true;\n            _this._content = _this._node.addComponent(fgui.MovieClip);\n            _this._events = {};\n            _this._content.registerFrameCallback(_this._onFrameDraw, _this);\n            return _this;\n        }\n        Object.defineProperty(GMovieClip.prototype, \"color\", {\n            get: function () {\n                return cc.Color.WHITE;\n            },\n            set: function (value) {\n                if (this._node.color != value) {\n                    this._node.color = value;\n                    this.updateGear(4);\n                }\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GMovieClip.prototype, \"playing\", {\n            get: function () {\n                return this._content.playing;\n            },\n            set: function (value) {\n                if (this._content.playing != value) {\n                    this._content.playing = value;\n                    this.updateGear(5);\n                }\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GMovieClip.prototype, \"frame\", {\n            get: function () {\n                return this._content.frame;\n            },\n            set: function (value) {\n                if (this._content.frame != value) {\n                    this._content.frame = value;\n                    this.updateGear(5);\n                }\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GMovieClip.prototype, \"frameCount\", {\n            get: function () {\n                return this._content.frameCount;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GMovieClip.prototype, \"timeScale\", {\n            get: function () {\n                return this._content.timeScale;\n            },\n            set: function (value) {\n                this._content.timeScale = value;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        GMovieClip.prototype.rewind = function () {\n            this._content.rewind();\n        };\n        GMovieClip.prototype.syncStatus = function (anotherMc) {\n            this._content.syncStatus(anotherMc._content);\n        };\n        GMovieClip.prototype.advance = function (timeInMiniseconds) {\n            this._content.advance(timeInMiniseconds);\n        };\n        GMovieClip.prototype.setPlaySettings = function (start, end, times, endAt, endCallback, callbackObj) {\n            this._callback = endCallback;\n            this._callbackObj = callbackObj;\n            this._content.setPlaySettings(start, end, times, endAt, this._onComplete, this);\n        };\n        GMovieClip.prototype.addFrameEvent = function (frame, name) {\n            this._events[frame] = name;\n        };\n        GMovieClip.prototype.handleGrayedChanged = function () {\n            this._content.grayed = this._grayed;\n        };\n        GMovieClip.prototype.getProp = function (index) {\n            switch (index) {\n                case fgui.ObjectPropID.Color:\n                    return this.color;\n                case fgui.ObjectPropID.Playing:\n                    return this.playing;\n                case fgui.ObjectPropID.Frame:\n                    return this.frame;\n                case fgui.ObjectPropID.TimeScale:\n                    return this.timeScale;\n                default:\n                    return _super.prototype.getProp.call(this, index);\n            }\n        };\n        GMovieClip.prototype.setProp = function (index, value) {\n            switch (index) {\n                case fgui.ObjectPropID.Color:\n                    this.color = value;\n                    break;\n                case fgui.ObjectPropID.Playing:\n                    this.playing = value;\n                    break;\n                case fgui.ObjectPropID.Frame:\n                    this.frame = value;\n                    break;\n                case fgui.ObjectPropID.TimeScale:\n                    this.timeScale = value;\n                    break;\n                case fgui.ObjectPropID.DeltaTime:\n                    this.advance(value);\n                    break;\n                default:\n                    _super.prototype.setProp.call(this, index, value);\n                    break;\n            }\n        };\n        GMovieClip.prototype.constructFromResource = function () {\n            var contentItem = this.packageItem.getBranch();\n            this.sourceWidth = contentItem.width;\n            this.sourceHeight = contentItem.height;\n            this.initWidth = this.sourceWidth;\n            this.initHeight = this.sourceHeight;\n            this.setSize(this.sourceWidth, this.sourceHeight);\n            contentItem = contentItem.getHighResolution();\n            contentItem.offLoad(this._loadContent, this);\n            contentItem.onLoad(this._loadContent, this);\n        };\n        GMovieClip.prototype._loadContent = function (asset) {\n            var contentItem = this.packageItem.getBranch().getHighResolution();\n            this._content.interval = contentItem.interval;\n            this._content.swing = contentItem.swing;\n            this._content.repeatDelay = contentItem.repeatDelay;\n            this._content.frames = contentItem.frames;\n            this._content.smoothing = contentItem.smoothing;\n        };\n        GMovieClip.prototype.setup_beforeAdd = function (buffer, beginPos) {\n            _super.prototype.setup_beforeAdd.call(this, buffer, beginPos);\n            buffer.seek(beginPos, 5);\n            if (buffer.readBool())\n                this.color = buffer.readColor();\n            buffer.readByte();\n            this._content.frame = buffer.readInt();\n            this._content.playing = buffer.readBool();\n        };\n        GMovieClip.prototype._onComplete = function () {\n            if (this._callback) {\n                var callback = this._callback;\n                var caller = this._callbackObj;\n                this._callback = null;\n                this._callbackObj = null;\n                callback.call(caller);\n            }\n            this.dispatchEventWith(GMovieClip.COMPLETE);\n        };\n        GMovieClip.prototype._onFrameDraw = function (frame) {\n            var eventName = this._events[frame];\n            if (eventName) {\n                this.dispatchEventWith(GMovieClip.FRAME_LABEL, false, eventName);\n            }\n        };\n        GMovieClip.COMPLETE = \"complete\";\n        GMovieClip.FRAME_LABEL = \"frameLabel\";\n        return GMovieClip;\n    }(fgui.GObject));\n    fgui.GMovieClip = GMovieClip;\n})(fgui || (fgui = {}));\nvar fgui;\n(function (fgui) {\n    var GProgressBar = (function (_super) {\n        __extends(GProgressBar, _super);\n        function GProgressBar() {\n            var _this = _super.call(this) || this;\n            _this._min = 0;\n            _this._max = 0;\n            _this._value = 0;\n            _this._barMaxWidth = 0;\n            _this._barMaxHeight = 0;\n            _this._barMaxWidthDelta = 0;\n            _this._barMaxHeightDelta = 0;\n            _this._barStartX = 0;\n            _this._barStartY = 0;\n            _this._node.name = \"GProgressBar\";\n            _this._titleType = fgui.ProgressTitleType.Percent;\n            _this._value = 50;\n            _this._max = 100;\n            return _this;\n        }\n        Object.defineProperty(GProgressBar.prototype, \"titleType\", {\n            get: function () {\n                return this._titleType;\n            },\n            set: function (value) {\n                if (this._titleType != value) {\n                    this._titleType = value;\n                    this.update(this._value);\n                }\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GProgressBar.prototype, \"min\", {\n            get: function () {\n                return this._min;\n            },\n            set: function (value) {\n                if (this._min != value) {\n                    this._min = value;\n                    this.update(this._value);\n                }\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GProgressBar.prototype, \"max\", {\n            get: function () {\n                return this._max;\n            },\n            set: function (value) {\n                if (this._max != value) {\n                    this._max = value;\n                    this.update(this._value);\n                }\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GProgressBar.prototype, \"value\", {\n            get: function () {\n                return this._value;\n            },\n            set: function (value) {\n                if (this._value != value) {\n                    fgui.GTween.kill(this, false, this.update);\n                    this._value = value;\n                    this.update(value);\n                }\n            },\n            enumerable: false,\n            configurable: true\n        });\n        GProgressBar.prototype.tweenValue = function (value, duration) {\n            var oldValule;\n            var tweener = fgui.GTween.getTween(this, this.update);\n            if (tweener != null) {\n                oldValule = tweener.value.x;\n                tweener.kill();\n            }\n            else\n                oldValule = this._value;\n            this._value = value;\n            return fgui.GTween.to(oldValule, this._value, duration).setTarget(this, this.update).setEase(fgui.EaseType.Linear);\n        };\n        GProgressBar.prototype.update = function (newValue) {\n            var percent = fgui.ToolSet.clamp01((newValue - this._min) / (this._max - this._min));\n            if (this._titleObject) {\n                switch (this._titleType) {\n                    case fgui.ProgressTitleType.Percent:\n                        this._titleObject.text = Math.floor(percent * 100) + \"%\";\n                        break;\n                    case fgui.ProgressTitleType.ValueAndMax:\n                        this._titleObject.text = Math.floor(newValue) + \"/\" + Math.floor(this._max);\n                        break;\n                    case fgui.ProgressTitleType.Value:\n                        this._titleObject.text = \"\" + Math.floor(newValue);\n                        break;\n                    case fgui.ProgressTitleType.Max:\n                        this._titleObject.text = \"\" + Math.floor(this._max);\n                        break;\n                }\n            }\n            var fullWidth = this.width - this._barMaxWidthDelta;\n            var fullHeight = this.height - this._barMaxHeightDelta;\n            if (!this._reverse) {\n                if (this._barObjectH) {\n                    if ((this._barObjectH instanceof fgui.GImage) && this._barObjectH.fillMethod != fgui.FillMethod.None)\n                        this._barObjectH.fillAmount = percent;\n                    else\n                        this._barObjectH.width = Math.round(fullWidth * percent);\n                }\n                if (this._barObjectV) {\n                    if ((this._barObjectV instanceof fgui.GImage) && this._barObjectV.fillMethod != fgui.FillMethod.None)\n                        this._barObjectV.fillAmount = percent;\n                    else\n                        this._barObjectV.height = Math.round(fullHeight * percent);\n                }\n            }\n            else {\n                if (this._barObjectH) {\n                    if ((this._barObjectH instanceof fgui.GImage) && this._barObjectH.fillMethod != fgui.FillMethod.None)\n                        this._barObjectH.fillAmount = 1 - percent;\n                    else {\n                        this._barObjectH.width = Math.round(fullWidth * percent);\n                        this._barObjectH.x = this._barStartX + (fullWidth - this._barObjectH.width);\n                    }\n                }\n                if (this._barObjectV) {\n                    if ((this._barObjectV instanceof fgui.GImage) && this._barObjectV.fillMethod != fgui.FillMethod.None)\n                        this._barObjectV.fillAmount = 1 - percent;\n                    else {\n                        this._barObjectV.height = Math.round(fullHeight * percent);\n                        this._barObjectV.y = this._barStartY + (fullHeight - this._barObjectV.height);\n                    }\n                }\n            }\n            if (this._aniObject)\n                this._aniObject.setProp(fgui.ObjectPropID.Frame, Math.floor(percent * 100));\n        };\n        GProgressBar.prototype.constructExtension = function (buffer) {\n            buffer.seek(0, 6);\n            this._titleType = buffer.readByte();\n            this._reverse = buffer.readBool();\n            this._titleObject = (this.getChild(\"title\"));\n            this._barObjectH = this.getChild(\"bar\");\n            this._barObjectV = this.getChild(\"bar_v\");\n            this._aniObject = this.getChild(\"ani\");\n            if (this._barObjectH) {\n                this._barMaxWidth = this._barObjectH.width;\n                this._barMaxWidthDelta = this.width - this._barMaxWidth;\n                this._barStartX = this._barObjectH.x;\n            }\n            if (this._barObjectV) {\n                this._barMaxHeight = this._barObjectV.height;\n                this._barMaxHeightDelta = this.height - this._barMaxHeight;\n                this._barStartY = this._barObjectV.y;\n            }\n        };\n        GProgressBar.prototype.handleSizeChanged = function () {\n            _super.prototype.handleSizeChanged.call(this);\n            if (this._barObjectH)\n                this._barMaxWidth = this.width - this._barMaxWidthDelta;\n            if (this._barObjectV)\n                this._barMaxHeight = this.height - this._barMaxHeightDelta;\n            if (!this._underConstruct)\n                this.update(this._value);\n        };\n        GProgressBar.prototype.setup_afterAdd = function (buffer, beginPos) {\n            _super.prototype.setup_afterAdd.call(this, buffer, beginPos);\n            if (!buffer.seek(beginPos, 6)) {\n                this.update(this._value);\n                return;\n            }\n            if (buffer.readByte() != this.packageItem.objectType) {\n                this.update(this._value);\n                return;\n            }\n            this._value = buffer.readInt();\n            this._max = buffer.readInt();\n            if (buffer.version >= 2)\n                this._min = buffer.readInt();\n            this.update(this._value);\n        };\n        return GProgressBar;\n    }(fgui.GComponent));\n    fgui.GProgressBar = GProgressBar;\n})(fgui || (fgui = {}));\nvar fgui;\n(function (fgui) {\n    var GTextField = (function (_super) {\n        __extends(GTextField, _super);\n        function GTextField() {\n            var _this = _super.call(this) || this;\n            _this._fontSize = 0;\n            _this._leading = 0;\n            _this._node.name = \"GTextField\";\n            _this._touchDisabled = true;\n            _this._text = \"\";\n            _this._color = new cc.Color(255, 255, 255, 255);\n            _this._strokeColor = new cc.Color();\n            _this._templateVars = null;\n            _this.createRenderer();\n            _this.fontSize = 12;\n            _this.leading = 3;\n            _this.singleLine = false;\n            _this._sizeDirty = false;\n            _this._node.on(cc.Node.EventType.SIZE_CHANGED, _this.onLabelSizeChanged, _this);\n            return _this;\n        }\n        GTextField.prototype.createRenderer = function () {\n            this._label = this._node.addComponent(cc.Label);\n            this.autoSize = fgui.AutoSizeType.Both;\n        };\n        Object.defineProperty(GTextField.prototype, \"text\", {\n            get: function () {\n                return this._text;\n            },\n            set: function (value) {\n                this._text = value;\n                if (this._text == null)\n                    this._text = \"\";\n                this.updateGear(6);\n                this.markSizeChanged();\n                this.updateText();\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GTextField.prototype, \"font\", {\n            get: function () {\n                return this._font;\n            },\n            set: function (value) {\n                if (this._font != value || !value) {\n                    this._font = value;\n                    this.markSizeChanged();\n                    var newFont = value ? value : fgui.UIConfig.defaultFont;\n                    if (fgui.ToolSet.startsWith(newFont, \"ui://\")) {\n                        var pi = fgui.UIPackage.getItemByURL(newFont);\n                        if (pi)\n                            newFont = pi.owner.getItemAsset(pi);\n                        else\n                            newFont = fgui.UIConfig.defaultFont;\n                    }\n                    this._realFont = newFont;\n                    this.updateFont();\n                }\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GTextField.prototype, \"fontSize\", {\n            get: function () {\n                return this._fontSize;\n            },\n            set: function (value) {\n                if (value < 0)\n                    return;\n                if (this._fontSize != value) {\n                    this._fontSize = value;\n                    this.markSizeChanged();\n                    this.updateFontSize();\n                }\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GTextField.prototype, \"color\", {\n            get: function () {\n                return this._color;\n            },\n            set: function (value) {\n                if (!this._color.equals(value)) {\n                    this._color.set(value);\n                    this.updateGear(4);\n                    this.updateFontColor();\n                }\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GTextField.prototype, \"align\", {\n            get: function () {\n                return this._label.horizontalAlign;\n            },\n            set: function (value) {\n                this._label.horizontalAlign = value;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GTextField.prototype, \"verticalAlign\", {\n            get: function () {\n                return this._label.verticalAlign;\n            },\n            set: function (value) {\n                this._label.verticalAlign = value;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GTextField.prototype, \"leading\", {\n            get: function () {\n                return this._leading;\n            },\n            set: function (value) {\n                if (this._leading != value) {\n                    this._leading = value;\n                    this.markSizeChanged();\n                    this.updateFontSize();\n                }\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GTextField.prototype, \"letterSpacing\", {\n            get: function () {\n                return this._label[\"spacingX\"];\n            },\n            set: function (value) {\n                if (this._label[\"spacingX\"] != value) {\n                    this.markSizeChanged();\n                    this._label[\"spacingX\"] = value;\n                }\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GTextField.prototype, \"underline\", {\n            get: function () {\n                return false;\n            },\n            set: function (value) {\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GTextField.prototype, \"bold\", {\n            get: function () {\n                return false;\n            },\n            set: function (value) {\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GTextField.prototype, \"italic\", {\n            get: function () {\n                return false;\n            },\n            set: function (value) {\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GTextField.prototype, \"singleLine\", {\n            get: function () {\n                return !this._label.enableWrapText;\n            },\n            set: function (value) {\n                this._label.enableWrapText = !value;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GTextField.prototype, \"stroke\", {\n            get: function () {\n                return (this._outline && this._outline.enabled) ? this._outline.width : 0;\n            },\n            set: function (value) {\n                if (value == 0) {\n                    if (this._outline)\n                        this._outline.enabled = false;\n                }\n                else {\n                    if (!this._outline) {\n                        this._outline = this._node.addComponent(cc.LabelOutline);\n                        this.updateStrokeColor();\n                    }\n                    else\n                        this._outline.enabled = true;\n                    this._outline.width = value;\n                }\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GTextField.prototype, \"strokeColor\", {\n            get: function () {\n                return this._strokeColor;\n            },\n            set: function (value) {\n                if (!this._strokeColor.equals(value)) {\n                    this._strokeColor.set(value);\n                    this.updateGear(4);\n                    this.updateStrokeColor();\n                }\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GTextField.prototype, \"ubbEnabled\", {\n            get: function () {\n                return this._ubbEnabled;\n            },\n            set: function (value) {\n                if (this._ubbEnabled != value) {\n                    this._ubbEnabled = value;\n                    this.markSizeChanged();\n                    this.updateText();\n                }\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GTextField.prototype, \"autoSize\", {\n            get: function () {\n                return this._autoSize;\n            },\n            set: function (value) {\n                if (this._autoSize != value) {\n                    this._autoSize = value;\n                    this.markSizeChanged();\n                    this.updateOverflow();\n                }\n            },\n            enumerable: false,\n            configurable: true\n        });\n        GTextField.prototype.parseTemplate = function (template) {\n            var pos1 = 0, pos2, pos3;\n            var tag;\n            var value;\n            var result = \"\";\n            while ((pos2 = template.indexOf(\"{\", pos1)) != -1) {\n                if (pos2 > 0 && template.charCodeAt(pos2 - 1) == 92) {\n                    result += template.substring(pos1, pos2 - 1);\n                    result += \"{\";\n                    pos1 = pos2 + 1;\n                    continue;\n                }\n                result += template.substring(pos1, pos2);\n                pos1 = pos2;\n                pos2 = template.indexOf(\"}\", pos1);\n                if (pos2 == -1)\n                    break;\n                if (pos2 == pos1 + 1) {\n                    result += template.substr(pos1, 2);\n                    pos1 = pos2 + 1;\n                    continue;\n                }\n                tag = template.substring(pos1 + 1, pos2);\n                pos3 = tag.indexOf(\"=\");\n                if (pos3 != -1) {\n                    value = this._templateVars[tag.substring(0, pos3)];\n                    if (value == null)\n                        result += tag.substring(pos3 + 1);\n                    else\n                        result += value;\n                }\n                else {\n                    value = this._templateVars[tag];\n                    if (value != null)\n                        result += value;\n                }\n                pos1 = pos2 + 1;\n            }\n            if (pos1 < template.length)\n                result += template.substr(pos1);\n            return result;\n        };\n        Object.defineProperty(GTextField.prototype, \"templateVars\", {\n            get: function () {\n                return this._templateVars;\n            },\n            set: function (value) {\n                if (this._templateVars == null && value == null)\n                    return;\n                this._templateVars = value;\n                this.flushVars();\n            },\n            enumerable: false,\n            configurable: true\n        });\n        GTextField.prototype.setVar = function (name, value) {\n            if (!this._templateVars)\n                this._templateVars = {};\n            this._templateVars[name] = value;\n            return this;\n        };\n        GTextField.prototype.flushVars = function () {\n            this.markSizeChanged();\n            this.updateText();\n        };\n        Object.defineProperty(GTextField.prototype, \"textWidth\", {\n            get: function () {\n                this.ensureSizeCorrect();\n                return this._node.width;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        GTextField.prototype.ensureSizeCorrect = function () {\n            if (this._sizeDirty) {\n                if (this._label[\"_forceUpdateRenderData\"])\n                    this._label[\"_forceUpdateRenderData\"]();\n                else\n                    this._label[\"_updateRenderData\"](true);\n                this._sizeDirty = false;\n            }\n        };\n        GTextField.prototype.updateText = function () {\n            var text2 = this._text;\n            if (this._templateVars != null)\n                text2 = this.parseTemplate(text2);\n            if (this._ubbEnabled)\n                text2 = fgui.UBBParser.inst.parse(fgui.ToolSet.encodeHTML(text2), true);\n            this._label.string = text2;\n        };\n        GTextField.prototype.assignFont = function (label, value) {\n            if (value instanceof cc.Font)\n                label.font = value;\n            else {\n                var font = fgui.getFontByName(value);\n                if (!font) {\n                    label.fontFamily = value;\n                    label.useSystemFont = true;\n                }\n                else\n                    label.font = font;\n            }\n        };\n        GTextField.prototype.assignFontColor = function (label, value) {\n            var font = label.font;\n            if ((font instanceof cc.BitmapFont) && !(font._fntConfig.canTint))\n                value = cc.Color.WHITE;\n            if (this._grayed)\n                value = fgui.ToolSet.toGrayed(value);\n            label.node.color = value;\n        };\n        GTextField.prototype.updateFont = function () {\n            this.assignFont(this._label, this._realFont);\n        };\n        GTextField.prototype.updateFontColor = function () {\n            this.assignFontColor(this._label, this._color);\n        };\n        GTextField.prototype.updateStrokeColor = function () {\n            if (!this._outline)\n                return;\n            if (this._grayed)\n                this._outline.color = fgui.ToolSet.toGrayed(this._strokeColor);\n            else\n                this._outline.color = this._strokeColor;\n        };\n        GTextField.prototype.updateFontSize = function () {\n            var font = this._label.font;\n            if (font instanceof cc.BitmapFont) {\n                var fntConfig = font._fntConfig;\n                if (fntConfig.resizable)\n                    this._label.fontSize = this._fontSize;\n                else\n                    this._label.fontSize = fntConfig.fontSize;\n                this._label.lineHeight = fntConfig.fontSize + (this._leading + 4) * fntConfig.fontSize / this._label.fontSize;\n            }\n            else {\n                this._label.fontSize = this._fontSize;\n                this._label.lineHeight = this._fontSize + this._leading;\n            }\n        };\n        GTextField.prototype.updateOverflow = function () {\n            if (this._autoSize == fgui.AutoSizeType.Both)\n                this._label.overflow = cc.Label.Overflow.NONE;\n            else if (this._autoSize == fgui.AutoSizeType.Height) {\n                this._label.overflow = cc.Label.Overflow.RESIZE_HEIGHT;\n                this._node.width = this._width;\n            }\n            else if (this._autoSize == fgui.AutoSizeType.Shrink) {\n                this._label.overflow = cc.Label.Overflow.SHRINK;\n                this._node.setContentSize(this._width, this._height);\n            }\n            else {\n                this._label.overflow = cc.Label.Overflow.CLAMP;\n                this._node.setContentSize(this._width, this._height);\n            }\n        };\n        GTextField.prototype.markSizeChanged = function () {\n            if (this._underConstruct)\n                return;\n            if (this._autoSize == fgui.AutoSizeType.Both || this._autoSize == fgui.AutoSizeType.Height) {\n                if (!this._sizeDirty) {\n                    this._node.emit(fgui.Event.SIZE_DELAY_CHANGE, this);\n                    this._sizeDirty = true;\n                }\n            }\n        };\n        GTextField.prototype.onLabelSizeChanged = function () {\n            this._sizeDirty = false;\n            if (this._underConstruct)\n                return;\n            if (this._autoSize == fgui.AutoSizeType.Both || this._autoSize == fgui.AutoSizeType.Height) {\n                this._updatingSize = true;\n                this.setSize(this._node.width, this._node.height);\n                this._updatingSize = false;\n            }\n        };\n        GTextField.prototype.handleSizeChanged = function () {\n            if (this._updatingSize)\n                return;\n            if (this._autoSize == fgui.AutoSizeType.None || this._autoSize == fgui.AutoSizeType.Shrink) {\n                this._node.setContentSize(this._width, this._height);\n            }\n            else if (this._autoSize == fgui.AutoSizeType.Height)\n                this._node.width = this._width;\n        };\n        GTextField.prototype.handleGrayedChanged = function () {\n            this.updateFontColor();\n            this.updateStrokeColor();\n        };\n        GTextField.prototype.getProp = function (index) {\n            switch (index) {\n                case fgui.ObjectPropID.Color:\n                    return this.color;\n                case fgui.ObjectPropID.OutlineColor:\n                    return this.strokeColor;\n                case fgui.ObjectPropID.FontSize:\n                    return this.fontSize;\n                default:\n                    return _super.prototype.getProp.call(this, index);\n            }\n        };\n        GTextField.prototype.setProp = function (index, value) {\n            switch (index) {\n                case fgui.ObjectPropID.Color:\n                    this.color = value;\n                    break;\n                case fgui.ObjectPropID.OutlineColor:\n                    this.strokeColor = value;\n                    break;\n                case fgui.ObjectPropID.FontSize:\n                    this.fontSize = value;\n                    break;\n                default:\n                    _super.prototype.setProp.call(this, index, value);\n                    break;\n            }\n        };\n        GTextField.prototype.setup_beforeAdd = function (buffer, beginPos) {\n            _super.prototype.setup_beforeAdd.call(this, buffer, beginPos);\n            buffer.seek(beginPos, 5);\n            this.font = buffer.readS();\n            this.fontSize = buffer.readShort();\n            this.color = buffer.readColor();\n            this.align = buffer.readByte();\n            this.verticalAlign = buffer.readByte();\n            this.leading = buffer.readShort();\n            this.letterSpacing = buffer.readShort();\n            this._ubbEnabled = buffer.readBool();\n            this.autoSize = buffer.readByte();\n            this.underline = buffer.readBool();\n            this.italic = buffer.readBool();\n            this.bold = buffer.readBool();\n            this.singleLine = buffer.readBool();\n            if (buffer.readBool()) {\n                this.strokeColor = buffer.readColor();\n                this.stroke = buffer.readFloat();\n            }\n            if (buffer.readBool())\n                buffer.skip(12);\n            if (buffer.readBool())\n                this._templateVars = {};\n        };\n        GTextField.prototype.setup_afterAdd = function (buffer, beginPos) {\n            _super.prototype.setup_afterAdd.call(this, buffer, beginPos);\n            buffer.seek(beginPos, 6);\n            var str = buffer.readS();\n            if (str != null)\n                this.text = str;\n        };\n        return GTextField;\n    }(fgui.GObject));\n    fgui.GTextField = GTextField;\n})(fgui || (fgui = {}));\nvar fgui;\n(function (fgui) {\n    var RichTextImageAtlas = (function (_super) {\n        __extends(RichTextImageAtlas, _super);\n        function RichTextImageAtlas() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        RichTextImageAtlas.prototype.getSpriteFrame = function (key) {\n            var pi = fgui.UIPackage.getItemByURL(key);\n            if (pi) {\n                pi.load();\n                if (pi.type == fgui.PackageItemType.Image)\n                    return pi.asset;\n                else if (pi.type == fgui.PackageItemType.MovieClip)\n                    return pi.frames[0].texture;\n            }\n            return _super.prototype.getSpriteFrame.call(this, key);\n        };\n        return RichTextImageAtlas;\n    }(cc.SpriteAtlas));\n    fgui.RichTextImageAtlas = RichTextImageAtlas;\n    var GRichTextField = (function (_super) {\n        __extends(GRichTextField, _super);\n        function GRichTextField() {\n            var _this = _super.call(this) || this;\n            _this._node.name = \"GRichTextField\";\n            _this._touchDisabled = false;\n            _this.linkUnderline = fgui.UIConfig.linkUnderline;\n            return _this;\n        }\n        GRichTextField.prototype.createRenderer = function () {\n            this._richText = this._node.addComponent(cc.RichText);\n            this._richText.handleTouchEvent = false;\n            this.autoSize = fgui.AutoSizeType.None;\n            this._richText.imageAtlas = GRichTextField.imageAtlas;\n        };\n        Object.defineProperty(GRichTextField.prototype, \"align\", {\n            get: function () {\n                return this._richText.horizontalAlign;\n            },\n            set: function (value) {\n                this._richText.horizontalAlign = value;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GRichTextField.prototype, \"verticalAlign\", {\n            get: function () {\n                return cc.Label.VerticalAlign.TOP;\n            },\n            set: function (value) {\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GRichTextField.prototype, \"letterSpacing\", {\n            get: function () {\n                return 0;\n            },\n            set: function (value) {\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GRichTextField.prototype, \"underline\", {\n            get: function () {\n                return this._underline;\n            },\n            set: function (value) {\n                if (this._underline != value) {\n                    this._underline = value;\n                    this.updateText();\n                }\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GRichTextField.prototype, \"bold\", {\n            get: function () {\n                return this._bold;\n            },\n            set: function (value) {\n                if (this._bold != value) {\n                    this._bold = value;\n                    this.updateText();\n                }\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GRichTextField.prototype, \"italic\", {\n            get: function () {\n                return this._italics;\n            },\n            set: function (value) {\n                if (this._italics != value) {\n                    this._italics = value;\n                    this.updateText();\n                }\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GRichTextField.prototype, \"singleLine\", {\n            get: function () {\n                return false;\n            },\n            set: function (value) {\n            },\n            enumerable: false,\n            configurable: true\n        });\n        GRichTextField.prototype.markSizeChanged = function () {\n        };\n        GRichTextField.prototype.updateText = function () {\n            var text2 = this._text;\n            if (this._templateVars != null)\n                text2 = this.parseTemplate(text2);\n            if (this._ubbEnabled) {\n                fgui.UBBParser.inst.linkUnderline = this.linkUnderline;\n                fgui.UBBParser.inst.linkColor = this.linkColor;\n                text2 = fgui.UBBParser.inst.parse(fgui.ToolSet.encodeHTML(text2));\n            }\n            if (this._bold)\n                text2 = \"<b>\" + text2 + \"</b>\";\n            if (this._italics)\n                text2 = \"<i>\" + text2 + \"</i>\";\n            if (this._underline)\n                text2 = \"<u>\" + text2 + \"</u>\";\n            var c = this._color;\n            if (this._grayed)\n                c = fgui.ToolSet.toGrayed(c);\n            text2 = \"<color=\" + c.toHEX(\"#rrggbb\") + \">\" + text2 + \"</color>\";\n            if (this._autoSize == fgui.AutoSizeType.Both) {\n                if (this._richText.maxWidth != 0)\n                    this._richText.maxWidth = 0;\n                this._richText.string = text2;\n                if (this.maxWidth != 0 && this._node.width > this.maxWidth)\n                    this._richText.maxWidth = this.maxWidth;\n            }\n            else\n                this._richText.string = text2;\n        };\n        GRichTextField.prototype.updateFont = function () {\n            this.assignFont(this._richText, this._realFont);\n        };\n        GRichTextField.prototype.updateFontColor = function () {\n            this.assignFontColor(this._richText, this._color);\n        };\n        GRichTextField.prototype.updateFontSize = function () {\n            var fontSize = this._fontSize;\n            var font = this._richText.font;\n            if (font instanceof cc.BitmapFont) {\n                if (!font._fntConfig.resizable)\n                    fontSize = font._fntConfig.fontSize;\n            }\n            this._richText.fontSize = fontSize;\n            this._richText.lineHeight = fontSize + this._leading;\n        };\n        GRichTextField.prototype.updateOverflow = function () {\n            if (this._autoSize == fgui.AutoSizeType.Both)\n                this._richText.maxWidth = 0;\n            else\n                this._richText.maxWidth = this._width;\n        };\n        GRichTextField.prototype.handleSizeChanged = function () {\n            if (this._updatingSize)\n                return;\n            if (this._autoSize != fgui.AutoSizeType.Both)\n                this._richText.maxWidth = this._width;\n        };\n        GRichTextField.imageAtlas = new RichTextImageAtlas();\n        return GRichTextField;\n    }(fgui.GTextField));\n    fgui.GRichTextField = GRichTextField;\n})(fgui || (fgui = {}));\nvar fgui;\n(function (fgui) {\n    var AppOrientation;\n    (function (AppOrientation) {\n        AppOrientation[AppOrientation[\"HORIZONTAL\"] = 1] = \"HORIZONTAL\";\n        AppOrientation[AppOrientation[\"VERTICAL\"] = 2] = \"VERTICAL\";\n    })(AppOrientation = fgui.AppOrientation || (fgui.AppOrientation = {}));\n    var GRoot = (function (_super) {\n        __extends(GRoot, _super);\n        function GRoot() {\n            var _this = _super.call(this) || this;\n            _this._designWidth = 800;\n            _this._designHeight = 480;\n            _this._scaleAdjust = false;\n            _this._node.name = \"GRoot\";\n            _this.opaque = false;\n            _this._volumeScale = 1;\n            _this._popupStack = new Array();\n            _this._justClosedPopups = new Array();\n            _this._modalLayer = new fgui.GGraph();\n            _this._modalLayer.setSize(_this.width, _this.height);\n            _this._modalLayer.drawRect(0, cc.Color.TRANSPARENT, fgui.UIConfig.modalLayerColor);\n            _this._modalLayer.addRelation(_this, fgui.RelationType.Size);\n            _this._thisOnResized = _this.onWinResize.bind(_this);\n            _this._inputProcessor = _this.node.addComponent(fgui.InputProcessor);\n            _this._inputProcessor._captureCallback = _this.onTouchBegin_1;\n            if (CC_EDITOR) {\n                cc.engine.on('design-resolution-changed', _this._thisOnResized);\n            }\n            else {\n                if (cc.sys.isMobile) {\n                    window.addEventListener('resize', _this._thisOnResized);\n                }\n                else {\n                    cc.view.on('canvas-resize', _this._thisOnResized);\n                }\n            }\n            _this.onWinResize();\n            return _this;\n        }\n        Object.defineProperty(GRoot, \"inst\", {\n            get: function () {\n                if (!GRoot._inst)\n                    throw 'Call GRoot.create first!';\n                return GRoot._inst;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        GRoot.create = function () {\n            GRoot._inst = new GRoot();\n            GRoot._inst.node.parent = cc.director.getScene();\n            return GRoot._inst;\n        };\n        GRoot.prototype.onDestroy = function () {\n            if (CC_EDITOR) {\n                cc.engine.off('design-resolution-changed', this._thisOnResized);\n            }\n            else {\n                if (cc.sys.isMobile) {\n                    window.removeEventListener('resize', this._thisOnResized);\n                }\n                else {\n                    cc.view.off('canvas-resize', this._thisOnResized);\n                }\n            }\n            if (this == GRoot._inst)\n                GRoot._inst = null;\n        };\n        GRoot.prototype.setDesignSize = function (width, height) {\n            this._designWidth = width;\n            this._designHeight = height;\n            this.setSize(width, height);\n            this.onWinResize();\n        };\n        Object.defineProperty(GRoot.prototype, \"designWidth\", {\n            get: function () {\n                return this._designWidth > 0 ? this._designWidth : this._width;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GRoot.prototype, \"designHeight\", {\n            get: function () {\n                return this._designHeight > 0 ? this._designHeight : this._height;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        GRoot.prototype.getDesignViewWidth = function () {\n            var canvasSize = cc.view.getCanvasSize();\n            return canvasSize.width / cc.view.getScaleX() / this.scaleX;\n        };\n        GRoot.prototype.getDesignViewHeight = function () {\n            var canvasSize = cc.view.getCanvasSize();\n            return canvasSize.height / cc.view.getScaleY() / this.scaleY;\n        };\n        GRoot.prototype.getTouchPosition = function (touchId) {\n            return this._inputProcessor.getTouchPosition(touchId);\n        };\n        Object.defineProperty(GRoot.prototype, \"touchTarget\", {\n            get: function () {\n                return this._inputProcessor.getTouchTarget();\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GRoot.prototype, \"inputProcessor\", {\n            get: function () {\n                return this._inputProcessor;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        GRoot.prototype.showWindow = function (win) {\n            this.addChild(win);\n            win.requestFocus();\n            if (win.x > this.width)\n                win.x = this.width - win.width;\n            else if (win.x + win.width < 0)\n                win.x = 0;\n            if (win.y > this.height)\n                win.y = this.height - win.height;\n            else if (win.y + win.height < 0)\n                win.y = 0;\n            this.adjustModalLayer();\n        };\n        GRoot.prototype.hideWindow = function (win, remove) {\n            if (remove === void 0) { remove = true; }\n            win.hide(remove);\n        };\n        GRoot.prototype.hideWindowImmediately = function (win, remove) {\n            if (remove === void 0) { remove = true; }\n            if (win.parent == this) {\n                if (remove) {\n                    this.removeChild(win);\n                }\n                else {\n                    win.hidden = true;\n                }\n            }\n            this.adjustModalLayer();\n        };\n        GRoot.prototype.bringToFront = function (win) {\n            var cnt = this.numChildren;\n            var i;\n            if (this._modalLayer.parent != null && !win.modal)\n                i = this.getChildIndex(this._modalLayer) - 1;\n            else\n                i = cnt - 1;\n            for (; i >= 0; i--) {\n                var g = this.getChildAt(i);\n                if (g == win)\n                    return;\n                if (g instanceof fgui.Window)\n                    break;\n            }\n            if (i >= 0)\n                this.setChildIndex(win, i);\n        };\n        GRoot.prototype.showModalWait = function (msg) {\n            if (fgui.UIConfig.globalModalWaiting != null) {\n                if (this._modalWaitPane == null)\n                    this._modalWaitPane = fgui.UIPackage.createObjectFromURL(fgui.UIConfig.globalModalWaiting);\n                this._modalWaitPane.setSize(this.width, this.height);\n                this._modalWaitPane.addRelation(this, fgui.RelationType.Size);\n                this.addChild(this._modalWaitPane);\n                this._modalWaitPane.text = msg;\n            }\n        };\n        GRoot.prototype.closeModalWait = function () {\n            if (this._modalWaitPane != null && this._modalWaitPane.parent != null)\n                this.removeChild(this._modalWaitPane);\n        };\n        GRoot.prototype.closeAllExceptModals = function () {\n            var arr = this._children.slice();\n            var cnt = arr.length;\n            for (var i = 0; i < cnt; i++) {\n                var g = arr[i];\n                if ((g instanceof fgui.Window) && !g.modal)\n                    g.hide();\n            }\n        };\n        GRoot.prototype.closeAllWindows = function () {\n            var arr = this._children.slice();\n            var cnt = arr.length;\n            for (var i = 0; i < cnt; i++) {\n                var g = arr[i];\n                if (g instanceof fgui.Window)\n                    g.hide();\n            }\n        };\n        GRoot.prototype.getTopWindow = function () {\n            var cnt = this.numChildren;\n            for (var i = cnt - 1; i >= 0; i--) {\n                var g = this.getChildAt(i);\n                if (g instanceof fgui.Window) {\n                    return g;\n                }\n            }\n            return null;\n        };\n        Object.defineProperty(GRoot.prototype, \"modalLayer\", {\n            get: function () {\n                return this._modalLayer;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GRoot.prototype, \"hasModalWindow\", {\n            get: function () {\n                return this._modalLayer.parent != null;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GRoot.prototype, \"modalWaiting\", {\n            get: function () {\n                return this._modalWaitPane && this._modalWaitPane.node.activeInHierarchy;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        GRoot.prototype.getPopupPosition = function (popup, target, downward, result) {\n            var pos = result ? result : new cc.Vec2();\n            var sizeW = 0, sizeH = 0;\n            if (target) {\n                pos = target.localToRoot();\n                var pos2 = target.localToRoot(target.width, target.height);\n                sizeW = pos2.x - pos.x;\n                sizeH = pos2.y - pos.y;\n            }\n            else {\n                pos = this.getTouchPosition();\n                pos = this.globalToLocal(pos.x, pos.y);\n            }\n            if (pos.x + popup.width > this.width)\n                pos.x = pos.x + sizeW - popup.width;\n            pos.y += sizeH;\n            if ((downward == undefined && pos.y + popup.height > this.height)\n                || downward == false) {\n                pos.y = pos.y - sizeH - popup.height - 1;\n                if (pos.y < 0) {\n                    pos.y = 0;\n                    pos.x += sizeW / 2;\n                }\n            }\n            return pos;\n        };\n        GRoot.prototype.showPopup = function (popup, target, downward) {\n            if (this._popupStack.length > 0) {\n                var k = this._popupStack.indexOf(popup);\n                if (k != -1) {\n                    for (var i = this._popupStack.length - 1; i >= k; i--)\n                        this.removeChild(this._popupStack.pop());\n                }\n            }\n            this._popupStack.push(popup);\n            if (target != null) {\n                var p = target;\n                while (p != null) {\n                    if (p.parent == this) {\n                        if (popup.sortingOrder < p.sortingOrder) {\n                            popup.sortingOrder = p.sortingOrder;\n                        }\n                        break;\n                    }\n                    p = p.parent;\n                }\n            }\n            this.addChild(popup);\n            this.adjustModalLayer();\n            var pt = this.getPopupPosition(popup, target, downward);\n            popup.setPosition(pt.x, pt.y);\n        };\n        GRoot.prototype.togglePopup = function (popup, target, downward) {\n            if (this._justClosedPopups.indexOf(popup) != -1)\n                return;\n            this.showPopup(popup, target, downward);\n        };\n        GRoot.prototype.hidePopup = function (popup) {\n            if (popup != null) {\n                var k = this._popupStack.indexOf(popup);\n                if (k != -1) {\n                    for (var i = this._popupStack.length - 1; i >= k; i--)\n                        this.closePopup(this._popupStack.pop());\n                }\n            }\n            else {\n                var cnt = this._popupStack.length;\n                for (i = cnt - 1; i >= 0; i--)\n                    this.closePopup(this._popupStack[i]);\n                this._popupStack.length = 0;\n            }\n        };\n        Object.defineProperty(GRoot.prototype, \"hasAnyPopup\", {\n            get: function () {\n                return this._popupStack.length != 0;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        GRoot.prototype.closePopup = function (target) {\n            if (target.parent != null) {\n                if (target instanceof fgui.Window)\n                    target.hide();\n                else\n                    this.removeChild(target);\n            }\n        };\n        GRoot.prototype.showTooltips = function (msg) {\n            if (this._defaultTooltipWin == null) {\n                var resourceURL = fgui.UIConfig.tooltipsWin;\n                if (!resourceURL) {\n                    console.error(\"UIConfig.tooltipsWin not defined\");\n                    return;\n                }\n                this._defaultTooltipWin = fgui.UIPackage.createObjectFromURL(resourceURL);\n            }\n            this._defaultTooltipWin.text = msg;\n            this.showTooltipsWin(this._defaultTooltipWin);\n        };\n        GRoot.prototype.showTooltipsWin = function (tooltipWin) {\n            this.hideTooltips();\n            this._tooltipWin = tooltipWin;\n            var pt = this.getTouchPosition();\n            pt.x += 10;\n            pt.y += 20;\n            this.globalToLocal(pt.x, pt.y, pt);\n            if (pt.x + this._tooltipWin.width > this.width) {\n                pt.x = pt.x - this._tooltipWin.width - 1;\n                if (pt.x < 0)\n                    pt.x = 10;\n            }\n            if (pt.y + this._tooltipWin.height > this.height) {\n                pt.y = pt.y - this._tooltipWin.height - 1;\n                if (pt.y < 0)\n                    pt.y = 10;\n            }\n            this._tooltipWin.setPosition(pt.x, pt.y);\n            this.addChild(this._tooltipWin);\n        };\n        GRoot.prototype.hideTooltips = function () {\n            if (this._tooltipWin != null) {\n                if (this._tooltipWin.parent)\n                    this.removeChild(this._tooltipWin);\n                this._tooltipWin = null;\n            }\n        };\n        Object.defineProperty(GRoot.prototype, \"volumeScale\", {\n            get: function () {\n                return this._volumeScale;\n            },\n            set: function (value) {\n                this._volumeScale = value;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GRoot.prototype, \"playSoundHandler\", {\n            set: function (func) {\n                this._playSoundHandler = func;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        GRoot.prototype.playSoundAsync = function (name, volumeScale) {\n            var _this = this;\n            if (this._playSoundHandler) {\n                this._playSoundHandler(name, volumeScale);\n                return;\n            }\n            if (this._volumeScale == 0)\n                return;\n            if (volumeScale === undefined)\n                volumeScale = 1;\n            var clip = cc.loader.getRes(\"sound/\" + name);\n            if (clip) {\n                var id = cc.audioEngine.play(clip, false, this._volumeScale * volumeScale);\n            }\n            else {\n                cc.loader.loadRes(\"sound/\" + name, (function (err, clip) {\n                    if (err) {\n                        cc.error(err);\n                        return;\n                    }\n                    var id = cc.audioEngine.play(clip, false, _this._volumeScale * volumeScale);\n                }).bind(this));\n            }\n        };\n        GRoot.prototype.playOneShotSound = function (clip, volumeScale) {\n            if (this._volumeScale == 0)\n                return;\n            if (volumeScale === undefined)\n                volumeScale = 1;\n            cc.audioEngine.play(clip, false, this._volumeScale * volumeScale);\n        };\n        GRoot.prototype.adjustModalLayer = function () {\n            var cnt = this.numChildren;\n            if (this._modalWaitPane != null && this._modalWaitPane.parent != null)\n                this.setChildIndex(this._modalWaitPane, cnt - 1);\n            for (var i = cnt - 1; i >= 0; i--) {\n                var g = this.getChildAt(i);\n                if ((g instanceof fgui.Window) && g.modal) {\n                    var w = g;\n                    if (w.isShowing && w.visible && w.alpha > 0 && w.parent == this) {\n                        if (this._modalLayer.parent == null)\n                            this.addChildAt(this._modalLayer, i);\n                        else\n                            this.setChildIndexBefore(this._modalLayer, i);\n                        return;\n                    }\n                }\n            }\n            if (this._modalLayer.parent != null)\n                this.removeChild(this._modalLayer);\n        };\n        GRoot.prototype.onTouchBegin_1 = function (evt) {\n            if (this._tooltipWin != null)\n                this.hideTooltips();\n            this._justClosedPopups.length = 0;\n            if (this._popupStack.length > 0) {\n                var mc = evt.initiator;\n                while (mc != this && mc != null) {\n                    var pindex = this._popupStack.indexOf(mc);\n                    if (pindex != -1) {\n                        for (var i = this._popupStack.length - 1; i > pindex; i--) {\n                            var popup = this._popupStack.pop();\n                            this.closePopup(popup);\n                            this._justClosedPopups.push(popup);\n                        }\n                        return;\n                    }\n                    mc = mc.findParent();\n                }\n                var cnt = this._popupStack.length;\n                for (var i = cnt - 1; i >= 0; i--) {\n                    popup = this._popupStack[i];\n                    this.closePopup(popup);\n                    this._justClosedPopups.push(popup);\n                }\n                this._popupStack.length = 0;\n            }\n        };\n        GRoot.prototype._adjustVertical = function () {\n            var canvasSize = cc.view.getCanvasSize();\n            var size = cc.size(canvasSize);\n            var globalScale = GRoot.globalScale;\n            var viewScaleX = cc.view.getScaleX();\n            var viewScaleY = cc.view.getScaleY();\n            if (!this._designWidth || !this._designHeight || canvasSize.width / canvasSize.height <= 0.6) {\n                console.log(\"[V] GRoot onWinResize: canvas size = \", size.width, size.height);\n                size.width /= viewScaleX;\n                size.height /= viewScaleY;\n                console.log(\"[V] GRoot onWinResize: view scale = \", cc.view.getScaleX(), cc.view.getScaleY());\n                console.log(\"[V] GRoot onWinResize: adjust size = \", size.width, size.height);\n                var pos = cc.view.getViewportRect().origin;\n                console.log(\"[V] GRoot onWinResize: viewport pos = \", pos.x, pos.y);\n                pos.x = pos.x / viewScaleX;\n                pos.y = pos.y / viewScaleY;\n                console.log(\"[V] GRoot onWinResize: adjust viewport pos = \", pos.x, pos.y);\n                this.setSize(size.width / globalScale, size.height / globalScale);\n                this.setScale(globalScale, globalScale);\n                GRoot.contentScaleFactor = globalScale;\n                this._node.setPosition(-pos.x, this._height * globalScale - pos.y);\n                console.log(\"[V] GRoot onWinResize: root size = \", this.width, this.height);\n                console.log(\"[V] GRoot onWinResize: node pos = \", this._node.x, this._node.y);\n                console.log(\"[V] GRoot onWinResize: root pos = \", this.x, this.y);\n                this._modalLayer.setSize(this.width, this.height);\n                this._modalLayer.setPosition(0, 0);\n            }\n            else {\n                console.log(\"----- GRoot onWinResize -----\");\n                canvasSize.width /= cc.view.getScaleX();\n                canvasSize.height /= cc.view.getScaleY();\n                var scaleX = canvasSize.width / this.width;\n                var scaleY = canvasSize.height / this.height;\n                var scale = Math.min(scaleX, scaleY);\n                GRoot.contentScaleFactor = scale;\n                this.setScale(scale, scale);\n                this._node.x = canvasSize.width / 2 - this.width * scale / 2;\n                this.setPosition(canvasSize.width / 2 - this.width * scale / 2, canvasSize.height / 2 - this.height * scale / 2);\n                console.log(\"----- GRoot onWinResize ----- pos = \", this.x, this.y);\n                console.log(\"----- GRoot onWinResize ----- size = \", this.width, this.height);\n                console.log(\"----- GRoot onWinResize ----- scale = \", this.scaleX, this.scaleY);\n                this._modalLayer.setSize(canvasSize.width / this.scaleX, canvasSize.height / this.scaleY);\n                this._modalLayer.setPosition(this.width / 2 - this._modalLayer.width / 2, this.height / 2 - this._modalLayer.height / 2);\n            }\n        };\n        GRoot.prototype._adjustHorizontal = function () {\n            var canvasSize = cc.view.getCanvasSize();\n            var globalScale = GRoot.globalScale;\n            var viewScaleX = cc.view.getScaleX();\n            var viewScaleY = cc.view.getScaleY();\n            var size = cc.size(canvasSize);\n            size.width /= viewScaleX;\n            size.height /= viewScaleY;\n            if (!this._designWidth || !this._designHeight || canvasSize.height / canvasSize.width <= this.designHeight / this.designWidth) {\n                console.log(\"[H] GRoot onWinResize: canvas size = \", size.width, size.height);\n                console.log(\"[H] GRoot onWinResize: view scale = \", cc.view.getScaleX(), cc.view.getScaleY());\n                console.log(\"[H] GRoot onWinResize: adjust size = \", size.width, size.height);\n                var pos = cc.view.getViewportRect().origin;\n                console.log(\"[H] GRoot onWinResize: viewport pos = \", pos.x, pos.y);\n                pos.x = pos.x / viewScaleX;\n                pos.y = pos.y / viewScaleY;\n                console.log(\"[H] GRoot onWinResize: adjust viewport pos = \", pos.x, pos.y);\n                this.setSize(size.width / globalScale, size.height / globalScale);\n                this.setScale(globalScale, globalScale);\n                GRoot.contentScaleFactor = globalScale;\n                this._node.setPosition(-pos.x, this._height * globalScale - pos.y);\n                this._x = pos.x;\n                this._y = pos.y;\n                console.log(\"[H] GRoot onWinResize: root size = \", this.width, this.height);\n                console.log(\"[H] GRoot onWinResize: node pos = \", this._node.x, this._node.y);\n                console.log(\"[H] GRoot onWinResize: root pos = \", this.x, this.y);\n                this._modalLayer.setSize(this.width, this.height);\n                this._modalLayer.setPosition(0, 0);\n            }\n            else {\n                console.log(\"[H] ----- GRoot onWinResize ----- canvas size \", canvasSize.width, canvasSize.height);\n                console.log(\"[H] ----- GRoot onWinResize ----- view size \", size.width, size.height);\n                var scaleX = size.width / this.width;\n                var scaleY = size.height / this.height;\n                var scale = Math.min(scaleX, scaleY);\n                GRoot.contentScaleFactor = scale;\n                this.setScale(scale, scale);\n                var x = 0;\n                var y = this.height * scale;\n                this._node.x = x;\n                this._node.y = y;\n                this.setPosition(x, y);\n                console.log(\"[H] ----- GRoot onWinResize ----- pos = \", this.x, this.y);\n                console.log(\"[H] ----- GRoot onWinResize ----- node pos = \", this.node.x, this.node.y);\n                console.log(\"[H] ----- GRoot onWinResize ----- size = \", this.width, this.height);\n                console.log(\"[H] ----- GRoot onWinResize ----- scale = \", this.scaleX, this.scaleY);\n                this._modalLayer.setSize(size.width / this.scaleX, size.height / this.scaleY);\n                this._modalLayer.setPosition(this.width / 2 - this._modalLayer.width / 2, this.height / 2 - this._modalLayer.height / 2);\n            }\n        };\n        GRoot.prototype.onWinResize = function () {\n            if (GRoot.orientation == AppOrientation.VERTICAL) {\n                this._adjustVertical();\n            }\n            else {\n                this._adjustHorizontal();\n            }\n            this.updateContentScaleLevel();\n            this._node.emit(\"root-change-size\");\n        };\n        GRoot.prototype.handlePositionChanged = function () {\n        };\n        GRoot.prototype.updateContentScaleLevel = function () {\n            var ss = Math.max(cc.view.getScaleX(), cc.view.getScaleY());\n            if (ss >= 3.5)\n                GRoot.contentScaleLevel = 3;\n            else if (ss >= 2.5)\n                GRoot.contentScaleLevel = 2;\n            else if (ss >= 1.5)\n                GRoot.contentScaleLevel = 1;\n            else\n                GRoot.contentScaleLevel = 0;\n        };\n        GRoot.contentScaleLevel = 0;\n        GRoot.contentScaleFactor = 1;\n        GRoot.orientation = AppOrientation.VERTICAL;\n        GRoot.globalScale = 0.5;\n        return GRoot;\n    }(fgui.GComponent));\n    fgui.GRoot = GRoot;\n})(fgui || (fgui = {}));\nvar fgui;\n(function (fgui) {\n    var GScrollBar = (function (_super) {\n        __extends(GScrollBar, _super);\n        function GScrollBar() {\n            var _this = _super.call(this) || this;\n            _this._node.name = \"GScrollBar\";\n            _this._dragOffset = new cc.Vec2();\n            _this._scrollPerc = 0;\n            return _this;\n        }\n        GScrollBar.prototype.setScrollPane = function (target, vertical) {\n            this._target = target;\n            this._vertical = vertical;\n        };\n        GScrollBar.prototype.setDisplayPerc = function (value) {\n            if (this._vertical) {\n                if (!this._fixedGripSize)\n                    this._grip.height = Math.floor(value * this._bar.height);\n                this._grip.y = this._bar.y + (this._bar.height - this._grip.height) * this._scrollPerc;\n            }\n            else {\n                if (!this._fixedGripSize)\n                    this._grip.width = Math.floor(value * this._bar.width);\n                this._grip.x = this._bar.x + (this._bar.width - this._grip.width) * this._scrollPerc;\n            }\n            this._grip.visible = value != 0 && value != 1;\n        };\n        GScrollBar.prototype.setScrollPerc = function (val) {\n            this._scrollPerc = val;\n            if (this._vertical)\n                this._grip.y = this._bar.y + (this._bar.height - this._grip.height) * this._scrollPerc;\n            else\n                this._grip.x = this._bar.x + (this._bar.width - this._grip.width) * this._scrollPerc;\n        };\n        Object.defineProperty(GScrollBar.prototype, \"minSize\", {\n            get: function () {\n                if (this._vertical)\n                    return (this._arrowButton1 != null ? this._arrowButton1.height : 0) + (this._arrowButton2 != null ? this._arrowButton2.height : 0);\n                else\n                    return (this._arrowButton1 != null ? this._arrowButton1.width : 0) + (this._arrowButton2 != null ? this._arrowButton2.width : 0);\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GScrollBar.prototype, \"gripDragging\", {\n            get: function () {\n                return this._gripDragging;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        GScrollBar.prototype.constructExtension = function (buffer) {\n            buffer.seek(0, 6);\n            this._fixedGripSize = buffer.readBool();\n            this._grip = this.getChild(\"grip\");\n            if (!this._grip) {\n                console.error(\"需要定义grip\");\n                return;\n            }\n            this._bar = this.getChild(\"bar\");\n            if (!this._bar) {\n                console.error(\"需要定义bar\");\n                return;\n            }\n            this._arrowButton1 = this.getChild(\"arrow1\");\n            this._arrowButton2 = this.getChild(\"arrow2\");\n            this._grip.on(fgui.Event.TOUCH_BEGIN, this.onGripTouchDown, this);\n            this._grip.on(fgui.Event.TOUCH_MOVE, this.onGripTouchMove, this);\n            this._grip.on(fgui.Event.TOUCH_END, this.onGripTouchEnd, this);\n            if (this._arrowButton1)\n                this._arrowButton1.on(fgui.Event.TOUCH_BEGIN, this.onClickArrow1, this);\n            if (this._arrowButton2)\n                this._arrowButton2.on(fgui.Event.TOUCH_BEGIN, this.onClickArrow2, this);\n            this.on(fgui.Event.TOUCH_BEGIN, this.onBarTouchBegin, this);\n        };\n        GScrollBar.prototype.onGripTouchDown = function (evt) {\n            evt.stopPropagation();\n            evt.captureTouch();\n            this._gripDragging = true;\n            this._target.updateScrollBarVisible();\n            this.globalToLocal(evt.pos.x, evt.pos.y, this._dragOffset);\n            this._dragOffset.x -= this._grip.x;\n            this._dragOffset.y -= this._grip.y;\n        };\n        GScrollBar.prototype.onGripTouchMove = function (evt) {\n            if (!this.onStage)\n                return;\n            var pt = this.globalToLocal(evt.pos.x, evt.pos.y, GScrollBar.sScrollbarHelperPoint);\n            if (this._vertical) {\n                var curY = pt.y - this._dragOffset.y;\n                this._target.setPercY((curY - this._bar.y) / (this._bar.height - this._grip.height), false);\n            }\n            else {\n                var curX = pt.x - this._dragOffset.x;\n                this._target.setPercX((curX - this._bar.x) / (this._bar.width - this._grip.width), false);\n            }\n        };\n        GScrollBar.prototype.onGripTouchEnd = function (evt) {\n            if (!this.onStage)\n                return;\n            this._gripDragging = false;\n            this._target.updateScrollBarVisible();\n        };\n        GScrollBar.prototype.onClickArrow1 = function (evt) {\n            evt.stopPropagation();\n            if (this._vertical)\n                this._target.scrollUp();\n            else\n                this._target.scrollLeft();\n        };\n        GScrollBar.prototype.onClickArrow2 = function (evt) {\n            evt.stopPropagation();\n            if (this._vertical)\n                this._target.scrollDown();\n            else\n                this._target.scrollRight();\n        };\n        GScrollBar.prototype.onBarTouchBegin = function (evt) {\n            var pt = this._grip.globalToLocal(evt.pos.x, evt.pos.y, GScrollBar.sScrollbarHelperPoint);\n            if (this._vertical) {\n                if (pt.y < 0)\n                    this._target.scrollUp(4);\n                else\n                    this._target.scrollDown(4);\n            }\n            else {\n                if (pt.x < 0)\n                    this._target.scrollLeft(4);\n                else\n                    this._target.scrollRight(4);\n            }\n        };\n        GScrollBar.sScrollbarHelperPoint = new cc.Vec2();\n        return GScrollBar;\n    }(fgui.GComponent));\n    fgui.GScrollBar = GScrollBar;\n})(fgui || (fgui = {}));\nvar fgui;\n(function (fgui) {\n    var GSlider = (function (_super) {\n        __extends(GSlider, _super);\n        function GSlider() {\n            var _this = _super.call(this) || this;\n            _this._min = 0;\n            _this._max = 0;\n            _this._value = 0;\n            _this._barMaxWidth = 0;\n            _this._barMaxHeight = 0;\n            _this._barMaxWidthDelta = 0;\n            _this._barMaxHeightDelta = 0;\n            _this._clickPercent = 0;\n            _this._barStartX = 0;\n            _this._barStartY = 0;\n            _this.changeOnClick = true;\n            _this.canDrag = true;\n            _this._node.name = \"GSlider\";\n            _this._titleType = fgui.ProgressTitleType.Percent;\n            _this._value = 50;\n            _this._max = 100;\n            _this._clickPos = new cc.Vec2();\n            return _this;\n        }\n        Object.defineProperty(GSlider.prototype, \"titleType\", {\n            get: function () {\n                return this._titleType;\n            },\n            set: function (value) {\n                this._titleType = value;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GSlider.prototype, \"wholeNumbers\", {\n            get: function () {\n                return this._wholeNumbers;\n            },\n            set: function (value) {\n                if (this._wholeNumbers != value) {\n                    this._wholeNumbers = value;\n                    this.update();\n                }\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GSlider.prototype, \"min\", {\n            get: function () {\n                return this._min;\n            },\n            set: function (value) {\n                if (this._min != value) {\n                    this._min = value;\n                    this.update();\n                }\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GSlider.prototype, \"max\", {\n            get: function () {\n                return this._max;\n            },\n            set: function (value) {\n                if (this._max != value) {\n                    this._max = value;\n                    this.update();\n                }\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GSlider.prototype, \"value\", {\n            get: function () {\n                return this._value;\n            },\n            set: function (value) {\n                if (this._value != value) {\n                    this._value = value;\n                    this.update();\n                }\n            },\n            enumerable: false,\n            configurable: true\n        });\n        GSlider.prototype.update = function () {\n            this.updateWithPercent((this._value - this._min) / (this._max - this._min));\n        };\n        GSlider.prototype.updateWithPercent = function (percent, manual) {\n            percent = fgui.ToolSet.clamp01(percent);\n            if (manual) {\n                var newValue = fgui.ToolSet.clamp(this._min + (this._max - this._min) * percent, this._min, this._max);\n                if (this._wholeNumbers) {\n                    newValue = Math.round(newValue);\n                    percent = fgui.ToolSet.clamp01((newValue - this._min) / (this._max - this._min));\n                }\n                if (newValue != this._value) {\n                    this._value = newValue;\n                    this._node.emit(fgui.Event.STATUS_CHANGED, this);\n                }\n            }\n            if (this._titleObject) {\n                switch (this._titleType) {\n                    case fgui.ProgressTitleType.Percent:\n                        this._titleObject.text = Math.floor(percent * 100) + \"%\";\n                        break;\n                    case fgui.ProgressTitleType.ValueAndMax:\n                        this._titleObject.text = this._value + \"/\" + this._max;\n                        break;\n                    case fgui.ProgressTitleType.Value:\n                        this._titleObject.text = \"\" + this._value;\n                        break;\n                    case fgui.ProgressTitleType.Max:\n                        this._titleObject.text = \"\" + this._max;\n                        break;\n                }\n            }\n            var fullWidth = this.width - this._barMaxWidthDelta;\n            var fullHeight = this.height - this._barMaxHeightDelta;\n            if (!this._reverse) {\n                if (this._barObjectH)\n                    this._barObjectH.width = Math.round(fullWidth * percent);\n                if (this._barObjectV)\n                    this._barObjectV.height = Math.round(fullHeight * percent);\n            }\n            else {\n                if (this._barObjectH) {\n                    this._barObjectH.width = Math.round(fullWidth * percent);\n                    this._barObjectH.x = this._barStartX + (fullWidth - this._barObjectH.width);\n                }\n                if (this._barObjectV) {\n                    this._barObjectV.height = Math.round(fullHeight * percent);\n                    this._barObjectV.y = this._barStartY + (fullHeight - this._barObjectV.height);\n                }\n            }\n        };\n        GSlider.prototype.constructExtension = function (buffer) {\n            buffer.seek(0, 6);\n            this._titleType = buffer.readByte();\n            this._reverse = buffer.readBool();\n            if (buffer.version >= 2) {\n                this._wholeNumbers = buffer.readBool();\n                this.changeOnClick = buffer.readBool();\n            }\n            this._titleObject = (this.getChild(\"title\"));\n            this._barObjectH = this.getChild(\"bar\");\n            this._barObjectV = this.getChild(\"bar_v\");\n            this._gripObject = this.getChild(\"grip\");\n            if (this._barObjectH) {\n                this._barMaxWidth = this._barObjectH.width;\n                this._barMaxWidthDelta = this.width - this._barMaxWidth;\n                this._barStartX = this._barObjectH.x;\n            }\n            if (this._barObjectV) {\n                this._barMaxHeight = this._barObjectV.height;\n                this._barMaxHeightDelta = this.height - this._barMaxHeight;\n                this._barStartY = this._barObjectV.y;\n            }\n            if (this._gripObject) {\n                this._gripObject.on(fgui.Event.TOUCH_BEGIN, this.onGripTouchBegin, this);\n                this._gripObject.on(fgui.Event.TOUCH_MOVE, this.onGripTouchMove, this);\n            }\n            this._node.on(fgui.Event.TOUCH_BEGIN, this.onBarTouchBegin, this);\n        };\n        GSlider.prototype.handleSizeChanged = function () {\n            _super.prototype.handleSizeChanged.call(this);\n            if (this._barObjectH)\n                this._barMaxWidth = this.width - this._barMaxWidthDelta;\n            if (this._barObjectV)\n                this._barMaxHeight = this.height - this._barMaxHeightDelta;\n            if (!this._underConstruct)\n                this.update();\n        };\n        GSlider.prototype.setup_afterAdd = function (buffer, beginPos) {\n            _super.prototype.setup_afterAdd.call(this, buffer, beginPos);\n            if (!buffer.seek(beginPos, 6)) {\n                this.update();\n                return;\n            }\n            if (buffer.readByte() != this.packageItem.objectType) {\n                this.update();\n                return;\n            }\n            this._value = buffer.readInt();\n            this._max = buffer.readInt();\n            if (buffer.version >= 2)\n                this._min = buffer.readInt();\n            this.update();\n        };\n        GSlider.prototype.onGripTouchBegin = function (evt) {\n            this.canDrag = true;\n            evt.stopPropagation();\n            evt.captureTouch();\n            this._clickPos = this.globalToLocal(evt.pos.x, evt.pos.y);\n            this._clickPercent = fgui.ToolSet.clamp01((this._value - this._min) / (this._max - this._min));\n        };\n        GSlider.prototype.onGripTouchMove = function (evt) {\n            if (!this.canDrag) {\n                return;\n            }\n            var pt = this.globalToLocal(evt.pos.x, evt.pos.y, GSlider.sSilderHelperPoint);\n            var deltaX = pt.x - this._clickPos.x;\n            var deltaY = pt.y - this._clickPos.y;\n            if (this._reverse) {\n                deltaX = -deltaX;\n                deltaY = -deltaY;\n            }\n            var percent;\n            if (this._barObjectH)\n                percent = this._clickPercent + deltaX / this._barMaxWidth;\n            else\n                percent = this._clickPercent + deltaY / this._barMaxHeight;\n            this.updateWithPercent(percent, true);\n        };\n        GSlider.prototype.onBarTouchBegin = function (evt) {\n            if (!this.changeOnClick)\n                return;\n            var pt = this._gripObject.globalToLocal(evt.pos.x, evt.pos.y, GSlider.sSilderHelperPoint);\n            var percent = fgui.ToolSet.clamp01((this._value - this._min) / (this._max - this._min));\n            var delta;\n            if (this._barObjectH)\n                delta = pt.x / this._barMaxWidth;\n            if (this._barObjectV)\n                delta = pt.y / this._barMaxHeight;\n            if (this._reverse)\n                percent -= delta;\n            else\n                percent += delta;\n            this.updateWithPercent(percent, true);\n        };\n        GSlider.sSilderHelperPoint = new cc.Vec2();\n        return GSlider;\n    }(fgui.GComponent));\n    fgui.GSlider = GSlider;\n})(fgui || (fgui = {}));\nvar fgui;\n(function (fgui) {\n    var GTextInput = (function (_super) {\n        __extends(GTextInput, _super);\n        function GTextInput() {\n            var _this = _super.call(this) || this;\n            _this._node.name = \"GTextInput\";\n            _this._touchDisabled = false;\n            return _this;\n        }\n        GTextInput.prototype.createRenderer = function () {\n            this._editBox = this._node.addComponent(MyEditBox);\n            this._editBox.maxLength = -1;\n            this._editBox[\"_updateTextLabel\"]();\n            this._node.on('text-changed', this.onTextChanged, this);\n            this.on(fgui.Event.TOUCH_END, this.onTouchEnd1, this);\n            this.autoSize = fgui.AutoSizeType.None;\n        };\n        Object.defineProperty(GTextInput.prototype, \"editable\", {\n            get: function () {\n                return this._editBox.enabled;\n            },\n            set: function (val) {\n                this._editBox.enabled = val;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GTextInput.prototype, \"maxLength\", {\n            get: function () {\n                return this._editBox.maxLength;\n            },\n            set: function (val) {\n                if (val == 0)\n                    val = -1;\n                this._editBox.maxLength = val;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GTextInput.prototype, \"promptText\", {\n            get: function () {\n                return this._promptText;\n            },\n            set: function (val) {\n                this._promptText = val;\n                var newCreate = !this._editBox.placeholderLabel;\n                this._editBox[\"_updatePlaceholderLabel\"]();\n                if (newCreate)\n                    this.assignFont(this._editBox.placeholderLabel, this._realFont);\n                this._editBox.placeholderLabel.string = fgui.UBBParser.inst.parse(this._promptText, true);\n                if (fgui.UBBParser.inst.lastColor) {\n                    var c = this._editBox.placeholderLabel.node.color;\n                    if (!c)\n                        c = new cc.Color();\n                    c.fromHEX(fgui.UBBParser.inst.lastColor);\n                    this.assignFontColor(this._editBox.placeholderLabel, c);\n                }\n                else\n                    this.assignFontColor(this._editBox.placeholderLabel, this._color);\n                if (fgui.UBBParser.inst.lastSize)\n                    this._editBox.placeholderLabel.fontSize = parseInt(fgui.UBBParser.inst.lastSize);\n                else\n                    this._editBox.placeholderLabel.fontSize = this._fontSize;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GTextInput.prototype, \"restrict\", {\n            get: function () {\n                return \"\";\n            },\n            set: function (value) {\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GTextInput.prototype, \"password\", {\n            get: function () {\n                return this._editBox.inputFlag == cc.EditBox.InputFlag.PASSWORD;\n                ;\n            },\n            set: function (val) {\n                this._editBox.inputFlag = val ? cc.EditBox.InputFlag.PASSWORD : cc.EditBox.InputFlag.DEFAULT;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GTextInput.prototype, \"align\", {\n            get: function () {\n                return this._editBox.textLabel.horizontalAlign;\n            },\n            set: function (value) {\n                this._editBox.textLabel.horizontalAlign = value;\n                if (this._editBox.placeholderLabel) {\n                    this._editBox.placeholderLabel.horizontalAlign = value;\n                }\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GTextInput.prototype, \"verticalAlign\", {\n            get: function () {\n                return this._editBox.textLabel.verticalAlign;\n            },\n            set: function (value) {\n                this._editBox.textLabel.verticalAlign = value;\n                if (this._editBox.placeholderLabel) {\n                    this._editBox.placeholderLabel.verticalAlign = value;\n                }\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GTextInput.prototype, \"letterSpacing\", {\n            get: function () {\n                return 0;\n            },\n            set: function (value) {\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GTextInput.prototype, \"singleLine\", {\n            get: function () {\n                return this._editBox.inputMode != cc.EditBox.InputMode.ANY;\n            },\n            set: function (value) {\n                this._editBox.inputMode = value ? cc.EditBox.InputMode.SINGLE_LINE : cc.EditBox.InputMode.ANY;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        GTextInput.prototype.requestFocus = function () {\n            this._editBox.focus();\n        };\n        GTextInput.prototype.markSizeChanged = function () {\n        };\n        GTextInput.prototype.updateText = function () {\n            var text2 = this._text;\n            if (this._templateVars != null)\n                text2 = this.parseTemplate(text2);\n            if (this._ubbEnabled)\n                text2 = fgui.UBBParser.inst.parse(fgui.ToolSet.encodeHTML(text2), true);\n            this._editBox.string = text2;\n        };\n        GTextInput.prototype.updateFont = function () {\n            this.assignFont(this._editBox.textLabel, this._realFont);\n            if (this._editBox.placeholderLabel)\n                this.assignFont(this._editBox.placeholderLabel, this._realFont);\n        };\n        GTextInput.prototype.updateFontColor = function () {\n            this.assignFontColor(this._editBox.textLabel, this._color);\n        };\n        GTextInput.prototype.updateFontSize = function () {\n            this._editBox.textLabel.fontSize = this._fontSize;\n            this._editBox.textLabel.lineHeight = this._fontSize + this._leading;\n            if (this._editBox.placeholderLabel)\n                this._editBox.placeholderLabel.fontSize = this._editBox.textLabel.fontSize;\n        };\n        GTextInput.prototype.updateOverflow = function () {\n        };\n        GTextInput.prototype.onTextChanged = function () {\n            this._text = this._editBox.string;\n        };\n        GTextInput.prototype.onTouchEnd1 = function (evt) {\n            this._editBox.openKeyboard(evt.touch);\n        };\n        GTextInput.prototype.setup_beforeAdd = function (buffer, beginPos) {\n            _super.prototype.setup_beforeAdd.call(this, buffer, beginPos);\n            buffer.seek(beginPos, 4);\n            var str = buffer.readS();\n            if (str != null)\n                this.promptText = str;\n            str = buffer.readS();\n            if (str != null)\n                this.restrict = str;\n            var iv = buffer.readInt();\n            if (iv != 0)\n                this.maxLength = iv;\n            iv = buffer.readInt();\n            if (iv != 0) {\n            }\n            if (buffer.readBool())\n                this.password = true;\n            if (this._editBox.placeholderLabel) {\n                var hAlign = this._editBox.textLabel.horizontalAlign;\n                this._editBox.placeholderLabel.horizontalAlign = hAlign;\n                var vAlign = this._editBox.textLabel.verticalAlign;\n                this._editBox.placeholderLabel.verticalAlign = vAlign;\n            }\n        };\n        return GTextInput;\n    }(fgui.GTextField));\n    fgui.GTextInput = GTextInput;\n    var MyEditBox = (function (_super) {\n        __extends(MyEditBox, _super);\n        function MyEditBox() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        MyEditBox.prototype._registerEvent = function () {\n        };\n        MyEditBox.prototype._syncSize = function () {\n            var size = this.node.getContentSize();\n            var impl = this[\"_impl\"];\n            impl.setSize(size.width, size.height);\n            if (this.textLabel)\n                this.textLabel.node.setContentSize(size.width, size.height);\n            if (this.placeholderLabel)\n                this.placeholderLabel.node.setContentSize(size.width, size.height);\n        };\n        MyEditBox.prototype.openKeyboard = function (touch) {\n            var impl = this[\"_impl\"];\n            if (impl) {\n                impl.beginEditing();\n            }\n        };\n        return MyEditBox;\n    }(cc.EditBox));\n})(fgui || (fgui = {}));\nvar fgui;\n(function (fgui) {\n    var GTree = (function (_super) {\n        __extends(GTree, _super);\n        function GTree() {\n            var _this = _super.call(this) || this;\n            _this._indent = 15;\n            _this._rootNode = new fgui.GTreeNode(true);\n            _this._rootNode._setTree(_this);\n            _this._rootNode.expanded = true;\n            return _this;\n        }\n        Object.defineProperty(GTree.prototype, \"rootNode\", {\n            get: function () {\n                return this._rootNode;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GTree.prototype, \"indent\", {\n            get: function () {\n                return this._indent;\n            },\n            set: function (value) {\n                this._indent = value;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GTree.prototype, \"clickToExpand\", {\n            get: function () {\n                return this._clickToExpand;\n            },\n            set: function (value) {\n                this._clickToExpand = value;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        GTree.prototype.getSelectedNode = function () {\n            if (this.selectedIndex != -1)\n                return this.getChildAt(this.selectedIndex)._treeNode;\n            else\n                return null;\n        };\n        GTree.prototype.getSelectedNodes = function (result) {\n            if (!result)\n                result = new Array();\n            GTree.helperIntList.length = 0;\n            _super.prototype.getSelection.call(this, GTree.helperIntList);\n            var cnt = GTree.helperIntList.length;\n            var ret = new Array();\n            for (var i = 0; i < cnt; i++) {\n                var node = this.getChildAt(GTree.helperIntList[i])._treeNode;\n                ret.push(node);\n            }\n            return ret;\n        };\n        GTree.prototype.selectNode = function (node, scrollItToView) {\n            var parentNode = node.parent;\n            while (parentNode != null && parentNode != this._rootNode) {\n                parentNode.expanded = true;\n                parentNode = parentNode.parent;\n            }\n            if (!node._cell)\n                return;\n            this.addSelection(this.getChildIndex(node._cell), scrollItToView);\n        };\n        GTree.prototype.unselectNode = function (node) {\n            if (!node._cell)\n                return;\n            this.removeSelection(this.getChildIndex(node._cell));\n        };\n        GTree.prototype.expandAll = function (folderNode) {\n            if (!folderNode)\n                folderNode = this._rootNode;\n            folderNode.expanded = true;\n            var cnt = folderNode.numChildren;\n            for (var i = 0; i < cnt; i++) {\n                var node = folderNode.getChildAt(i);\n                if (node.isFolder)\n                    this.expandAll(node);\n            }\n        };\n        GTree.prototype.collapseAll = function (folderNode) {\n            if (!folderNode)\n                folderNode = this._rootNode;\n            if (folderNode != this._rootNode)\n                folderNode.expanded = false;\n            var cnt = folderNode.numChildren;\n            for (var i = 0; i < cnt; i++) {\n                var node = folderNode.getChildAt(i);\n                if (node.isFolder)\n                    this.collapseAll(node);\n            }\n        };\n        GTree.prototype.createCell = function (node) {\n            var child = this.getFromPool(node._resURL);\n            if (!child)\n                throw new Error(\"cannot create tree node object.\");\n            child._treeNode = node;\n            node._cell = child;\n            var indentObj = child.getChild(\"indent\");\n            if (indentObj != null)\n                indentObj.width = (node.level - 1) * this._indent;\n            var cc;\n            cc = child.getController(\"expanded\");\n            if (cc) {\n                cc.on(fgui.Event.STATUS_CHANGED, this.__expandedStateChanged, this);\n                cc.selectedIndex = node.expanded ? 1 : 0;\n            }\n            cc = child.getController(\"leaf\");\n            if (cc)\n                cc.selectedIndex = node.isFolder ? 0 : 1;\n            if (node.isFolder)\n                node._cell.on(fgui.Event.TOUCH_BEGIN, this.__cellMouseDown, this);\n            if (this.treeNodeRender)\n                this.treeNodeRender(node, child);\n        };\n        GTree.prototype._afterInserted = function (node) {\n            if (!node._cell)\n                this.createCell(node);\n            var index = this.getInsertIndexForNode(node);\n            this.addChildAt(node._cell, index);\n            if (this.treeNodeRender)\n                this.treeNodeRender(node, node._cell);\n            if (node.isFolder && node.expanded)\n                this.checkChildren(node, index);\n        };\n        GTree.prototype.getInsertIndexForNode = function (node) {\n            var prevNode = node.getPrevSibling();\n            if (prevNode == null)\n                prevNode = node.parent;\n            var insertIndex = this.getChildIndex(prevNode._cell) + 1;\n            var myLevel = node.level;\n            var cnt = this.numChildren;\n            for (var i = insertIndex; i < cnt; i++) {\n                var testNode = this.getChildAt(i)._treeNode;\n                if (testNode.level <= myLevel)\n                    break;\n                insertIndex++;\n            }\n            return insertIndex;\n        };\n        GTree.prototype._afterRemoved = function (node) {\n            this.removeNode(node);\n        };\n        GTree.prototype._afterExpanded = function (node) {\n            if (node == this._rootNode) {\n                this.checkChildren(this._rootNode, 0);\n                return;\n            }\n            if (this.treeNodeWillExpand != null)\n                this.treeNodeWillExpand(node, true);\n            if (node._cell == null)\n                return;\n            if (this.treeNodeRender)\n                this.treeNodeRender(node, node._cell);\n            var cc = node._cell.getController(\"expanded\");\n            if (cc)\n                cc.selectedIndex = 1;\n            if (node._cell.parent != null)\n                this.checkChildren(node, this.getChildIndex(node._cell));\n        };\n        GTree.prototype._afterCollapsed = function (node) {\n            if (node == this._rootNode) {\n                this.checkChildren(this._rootNode, 0);\n                return;\n            }\n            if (this.treeNodeWillExpand)\n                this.treeNodeWillExpand(node, false);\n            if (node._cell == null)\n                return;\n            if (this.treeNodeRender)\n                this.treeNodeRender(node, node._cell);\n            var cc = node._cell.getController(\"expanded\");\n            if (cc)\n                cc.selectedIndex = 0;\n            if (node._cell.parent != null)\n                this.hideFolderNode(node);\n        };\n        GTree.prototype._afterMoved = function (node) {\n            var startIndex = this.getChildIndex(node._cell);\n            var endIndex;\n            if (node.isFolder)\n                endIndex = this.getFolderEndIndex(startIndex, node.level);\n            else\n                endIndex = startIndex + 1;\n            var insertIndex = this.getInsertIndexForNode(node);\n            var i;\n            var cnt = endIndex - startIndex;\n            var obj;\n            if (insertIndex < startIndex) {\n                for (i = 0; i < cnt; i++) {\n                    obj = this.getChildAt(startIndex + i);\n                    this.setChildIndex(obj, insertIndex + i);\n                }\n            }\n            else {\n                for (i = 0; i < cnt; i++) {\n                    obj = this.getChildAt(startIndex);\n                    this.setChildIndex(obj, insertIndex);\n                }\n            }\n        };\n        GTree.prototype.getFolderEndIndex = function (startIndex, level) {\n            var cnt = this.numChildren;\n            for (var i = startIndex + 1; i < cnt; i++) {\n                var node = this.getChildAt(i)._treeNode;\n                if (node.level <= level)\n                    return i;\n            }\n            return cnt;\n        };\n        GTree.prototype.checkChildren = function (folderNode, index) {\n            var cnt = folderNode.numChildren;\n            for (var i = 0; i < cnt; i++) {\n                index++;\n                var node = folderNode.getChildAt(i);\n                if (node._cell == null)\n                    this.createCell(node);\n                if (!node._cell.parent)\n                    this.addChildAt(node._cell, index);\n                if (node.isFolder && node.expanded)\n                    index = this.checkChildren(node, index);\n            }\n            return index;\n        };\n        GTree.prototype.hideFolderNode = function (folderNode) {\n            var cnt = folderNode.numChildren;\n            for (var i = 0; i < cnt; i++) {\n                var node = folderNode.getChildAt(i);\n                if (node._cell)\n                    this.removeChild(node._cell);\n                if (node.isFolder && node.expanded)\n                    this.hideFolderNode(node);\n            }\n        };\n        GTree.prototype.removeNode = function (node) {\n            if (node._cell != null) {\n                if (node._cell.parent != null)\n                    this.removeChild(node._cell);\n                this.returnToPool(node._cell);\n                node._cell._treeNode = null;\n                node._cell = null;\n            }\n            if (node.isFolder) {\n                var cnt = node.numChildren;\n                for (var i = 0; i < cnt; i++) {\n                    var node2 = node.getChildAt(i);\n                    this.removeNode(node2);\n                }\n            }\n        };\n        GTree.prototype.__cellMouseDown = function (evt) {\n            var node = fgui.GObject.cast(evt.currentTarget)._treeNode;\n            this._expandedStatusInEvt = node.expanded;\n        };\n        GTree.prototype.__expandedStateChanged = function (cc) {\n            var node = cc.parent._treeNode;\n            node.expanded = cc.selectedIndex == 1;\n        };\n        GTree.prototype.dispatchItemEvent = function (item, evt) {\n            if (this._clickToExpand != 0) {\n                var node = item._treeNode;\n                if (node && this._expandedStatusInEvt == node.expanded) {\n                    if (this._clickToExpand == 2) {\n                    }\n                    else\n                        node.expanded = !node.expanded;\n                }\n            }\n            _super.prototype.dispatchItemEvent.call(this, item, evt);\n        };\n        GTree.prototype.setup_beforeAdd = function (buffer, beginPos) {\n            _super.prototype.setup_beforeAdd.call(this, buffer, beginPos);\n            buffer.seek(beginPos, 9);\n            this._indent = buffer.readInt();\n            this._clickToExpand = buffer.readByte();\n        };\n        GTree.prototype.readItems = function (buffer) {\n            var cnt;\n            var i;\n            var nextPos;\n            var str;\n            var isFolder;\n            var lastNode;\n            var level;\n            var prevLevel = 0;\n            cnt = buffer.readShort();\n            for (i = 0; i < cnt; i++) {\n                nextPos = buffer.readShort();\n                nextPos += buffer.position;\n                str = buffer.readS();\n                if (str == null) {\n                    str = this.defaultItem;\n                    if (!str) {\n                        buffer.position = nextPos;\n                        continue;\n                    }\n                }\n                isFolder = buffer.readBool();\n                level = buffer.readByte();\n                var node = new fgui.GTreeNode(isFolder, str);\n                node.expanded = true;\n                if (i == 0)\n                    this._rootNode.addChild(node);\n                else {\n                    if (level > prevLevel)\n                        lastNode.addChild(node);\n                    else if (level < prevLevel) {\n                        for (var j = level; j <= prevLevel; j++)\n                            lastNode = lastNode.parent;\n                        lastNode.addChild(node);\n                    }\n                    else\n                        lastNode.parent.addChild(node);\n                }\n                lastNode = node;\n                prevLevel = level;\n                this.setupItem(buffer, node.cell);\n                buffer.position = nextPos;\n            }\n        };\n        GTree.helperIntList = new Array();\n        return GTree;\n    }(fgui.GList));\n    fgui.GTree = GTree;\n})(fgui || (fgui = {}));\nvar fgui;\n(function (fgui) {\n    var GTreeNode = (function () {\n        function GTreeNode(hasChild, resURL) {\n            this._expanded = false;\n            this._level = 0;\n            this._resURL = resURL;\n            if (hasChild)\n                this._children = new Array();\n        }\n        Object.defineProperty(GTreeNode.prototype, \"expanded\", {\n            get: function () {\n                return this._expanded;\n            },\n            set: function (value) {\n                if (this._children == null)\n                    return;\n                if (this._expanded != value) {\n                    this._expanded = value;\n                    if (this._tree != null) {\n                        if (this._expanded)\n                            this._tree._afterExpanded(this);\n                        else\n                            this._tree._afterCollapsed(this);\n                    }\n                }\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GTreeNode.prototype, \"isFolder\", {\n            get: function () {\n                return this._children != null;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GTreeNode.prototype, \"parent\", {\n            get: function () {\n                return this._parent;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GTreeNode.prototype, \"text\", {\n            get: function () {\n                if (this._cell != null)\n                    return this._cell.text;\n                else\n                    return null;\n            },\n            set: function (value) {\n                if (this._cell != null)\n                    this._cell.text = value;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GTreeNode.prototype, \"icon\", {\n            get: function () {\n                if (this._cell != null)\n                    return this._cell.icon;\n                else\n                    return null;\n            },\n            set: function (value) {\n                if (this._cell != null)\n                    this._cell.icon = value;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GTreeNode.prototype, \"cell\", {\n            get: function () {\n                return this._cell;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GTreeNode.prototype, \"level\", {\n            get: function () {\n                return this._level;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        GTreeNode.prototype._setLevel = function (value) {\n            this._level = value;\n        };\n        GTreeNode.prototype.addChild = function (child) {\n            this.addChildAt(child, this._children.length);\n            return child;\n        };\n        GTreeNode.prototype.addChildAt = function (child, index) {\n            if (!child)\n                throw new Error(\"child is null\");\n            var numChildren = this._children.length;\n            if (index >= 0 && index <= numChildren) {\n                if (child._parent == this) {\n                    this.setChildIndex(child, index);\n                }\n                else {\n                    if (child._parent)\n                        child._parent.removeChild(child);\n                    var cnt = this._children.length;\n                    if (index == cnt)\n                        this._children.push(child);\n                    else\n                        this._children.splice(index, 0, child);\n                    child._parent = this;\n                    child._level = this._level + 1;\n                    child._setTree(this._tree);\n                    if (this._tree != null && this == this._tree.rootNode || this._cell != null && this._cell.parent != null && this._expanded)\n                        this._tree._afterInserted(child);\n                }\n                return child;\n            }\n            else {\n                throw new RangeError(\"Invalid child index\");\n            }\n        };\n        GTreeNode.prototype.removeChild = function (child) {\n            var childIndex = this._children.indexOf(child);\n            if (childIndex != -1) {\n                this.removeChildAt(childIndex);\n            }\n            return child;\n        };\n        GTreeNode.prototype.removeChildAt = function (index) {\n            if (index >= 0 && index < this.numChildren) {\n                var child = this._children[index];\n                this._children.splice(index, 1);\n                child._parent = null;\n                if (this._tree != null) {\n                    child._setTree(null);\n                    this._tree._afterRemoved(child);\n                }\n                return child;\n            }\n            else {\n                throw \"Invalid child index\";\n            }\n        };\n        GTreeNode.prototype.removeChildren = function (beginIndex, endIndex) {\n            if (beginIndex === void 0) { beginIndex = 0; }\n            if (endIndex === void 0) { endIndex = -1; }\n            if (endIndex < 0 || endIndex >= this.numChildren)\n                endIndex = this.numChildren - 1;\n            for (var i = beginIndex; i <= endIndex; ++i)\n                this.removeChildAt(beginIndex);\n        };\n        GTreeNode.prototype.getChildAt = function (index) {\n            if (index >= 0 && index < this.numChildren)\n                return this._children[index];\n            else\n                throw \"Invalid child index\";\n        };\n        GTreeNode.prototype.getChildIndex = function (child) {\n            return this._children.indexOf(child);\n        };\n        GTreeNode.prototype.getPrevSibling = function () {\n            if (this._parent == null)\n                return null;\n            var i = this._parent._children.indexOf(this);\n            if (i <= 0)\n                return null;\n            return this._parent._children[i - 1];\n        };\n        GTreeNode.prototype.getNextSibling = function () {\n            if (this._parent == null)\n                return null;\n            var i = this._parent._children.indexOf(this);\n            if (i < 0 || i >= this._parent._children.length - 1)\n                return null;\n            return this._parent._children[i + 1];\n        };\n        GTreeNode.prototype.setChildIndex = function (child, index) {\n            var oldIndex = this._children.indexOf(child);\n            if (oldIndex == -1)\n                throw \"Not a child of this container\";\n            var cnt = this._children.length;\n            if (index < 0)\n                index = 0;\n            else if (index > cnt)\n                index = cnt;\n            if (oldIndex == index)\n                return;\n            this._children.splice(oldIndex, 1);\n            this._children.splice(index, 0, child);\n            if (this._tree != null && this == this._tree.rootNode || this._cell != null && this._cell.parent != null && this._expanded)\n                this._tree._afterMoved(child);\n        };\n        GTreeNode.prototype.swapChildren = function (child1, child2) {\n            var index1 = this._children.indexOf(child1);\n            var index2 = this._children.indexOf(child2);\n            if (index1 == -1 || index2 == -1)\n                throw \"Not a child of this container\";\n            this.swapChildrenAt(index1, index2);\n        };\n        GTreeNode.prototype.swapChildrenAt = function (index1, index2) {\n            var child1 = this._children[index1];\n            var child2 = this._children[index2];\n            this.setChildIndex(child1, index2);\n            this.setChildIndex(child2, index1);\n        };\n        Object.defineProperty(GTreeNode.prototype, \"numChildren\", {\n            get: function () {\n                return this._children.length;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        GTreeNode.prototype.expandToRoot = function () {\n            var p = this;\n            while (p) {\n                p.expanded = true;\n                p = p.parent;\n            }\n        };\n        Object.defineProperty(GTreeNode.prototype, \"tree\", {\n            get: function () {\n                return this._tree;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        GTreeNode.prototype._setTree = function (value) {\n            this._tree = value;\n            if (this._tree != null && this._tree.treeNodeWillExpand && this._expanded)\n                this._tree.treeNodeWillExpand(this, true);\n            if (this._children != null) {\n                var cnt = this._children.length;\n                for (var i = 0; i < cnt; i++) {\n                    var node = this._children[i];\n                    node._level = this._level + 1;\n                    node._setTree(value);\n                }\n            }\n        };\n        return GTreeNode;\n    }());\n    fgui.GTreeNode = GTreeNode;\n})(fgui || (fgui = {}));\nvar fgui;\n(function (fgui) {\n    var Margin = (function () {\n        function Margin() {\n            this.left = 0;\n            this.right = 0;\n            this.top = 0;\n            this.bottom = 0;\n        }\n        Margin.prototype.copy = function (source) {\n            this.top = source.top;\n            this.bottom = source.bottom;\n            this.left = source.left;\n            this.right = source.right;\n        };\n        Margin.prototype.isNone = function () {\n            return this.left == 0 && this.right == 0 && this.top == 0 && this.bottom == 0;\n        };\n        return Margin;\n    }());\n    fgui.Margin = Margin;\n})(fgui || (fgui = {}));\nvar fgui;\n(function (fgui) {\n    var PackageItemLoadListener = (function () {\n        function PackageItemLoadListener() {\n        }\n        PackageItemLoadListener.prototype.compare = function (callback, thisArgs) {\n            return this.callback == callback && this.thisArgs == thisArgs;\n        };\n        PackageItemLoadListener.prototype.call = function (args) {\n            if (this.thisArgs) {\n                this.callback.apply(this.thisArgs, [args]);\n            }\n            else {\n                this.callback(args);\n            }\n        };\n        return PackageItemLoadListener;\n    }());\n    var PackageItem = (function () {\n        function PackageItem() {\n            this.width = 0;\n            this.height = 0;\n            this.tileGridIndice = 0;\n            this.interval = 0;\n            this.repeatDelay = 0;\n            this._listeners = [];\n        }\n        PackageItem.prototype.setup = function (buffer, url) {\n        };\n        PackageItem.prototype.onLoad = function (onComplete, thisArgs) {\n            var _this = this;\n            var lsn = new PackageItemLoadListener();\n            lsn.callback = onComplete;\n            lsn.thisArgs = thisArgs;\n            if (this.decoded) {\n                lsn.call(this.asset);\n            }\n            else {\n                this._listeners.push(lsn);\n                if (!this.loading) {\n                    this.loading = true;\n                    this._doLoad(function (asset) {\n                        _this.loading = false;\n                        _this.decoded = true;\n                        _this.asset = asset;\n                        var listeners = _this._listeners;\n                        _this._listeners = [];\n                        listeners.forEach(function (lsn) {\n                            lsn.call(asset);\n                        });\n                    });\n                }\n            }\n        };\n        PackageItem.prototype._doLoad = function (callback) {\n            callback(null);\n        };\n        PackageItem.prototype.offLoad = function (onComplete, thisArgs) {\n            var idx = -1;\n            var cnt = this._listeners.length;\n            for (var i = 0; i < cnt; ++i) {\n                if (this._listeners[i].compare(onComplete, thisArgs)) {\n                    idx = i;\n                    break;\n                }\n            }\n            if (idx >= 0) {\n                this._listeners.splice(idx, 1);\n            }\n        };\n        PackageItem.prototype.load = function () {\n            return this.owner.getItemAsset(this);\n        };\n        PackageItem.prototype.getBranch = function () {\n            if (this.branches && this.owner._branchIndex != -1) {\n                var itemId = this.branches[this.owner._branchIndex];\n                if (itemId)\n                    return this.owner.getItemById(itemId);\n            }\n            return this;\n        };\n        PackageItem.prototype.getHighResolution = function () {\n            if (this.highResolution && fgui.GRoot.contentScaleLevel > 0) {\n                var itemId = this.highResolution[fgui.GRoot.contentScaleLevel - 1];\n                if (itemId)\n                    return this.owner.getItemById(itemId);\n            }\n            return this;\n        };\n        PackageItem.prototype.toString = function () {\n            return this.name;\n        };\n        PackageItem.prototype.getSizeRateInAtlas = function () {\n            var sprites = this.owner._sprites;\n            var atlasSprite = sprites[this.id];\n            if (atlasSprite) {\n                if (atlasSprite.atlas && atlasSprite.originalSize) {\n                    var atlas = atlasSprite.atlas;\n                    var size = atlasSprite.originalSize;\n                    return new cc.Vec2(size.width / atlas.width, size.height / atlas.height);\n                }\n                else {\n                    return null;\n                }\n            }\n            else {\n                return null;\n            }\n        };\n        return PackageItem;\n    }());\n    fgui.PackageItem = PackageItem;\n    var PackageImageItem = (function (_super) {\n        __extends(PackageImageItem, _super);\n        function PackageImageItem() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        PackageImageItem.prototype.setup = function (buffer) {\n            this.objectType = fgui.ObjectType.Image;\n            var scaleOption = buffer.readByte();\n            if (scaleOption == 1) {\n                this.scale9Grid = new cc.Rect();\n                this.scale9Grid.x = buffer.readInt();\n                this.scale9Grid.y = buffer.readInt();\n                this.scale9Grid.width = buffer.readInt();\n                this.scale9Grid.height = buffer.readInt();\n                this.tileGridIndice = buffer.readInt();\n            }\n            else if (scaleOption == 2)\n                this.scaleByTile = true;\n            this.smoothing = buffer.readBool();\n        };\n        PackageImageItem.prototype._doLoad = function (callback) {\n            var _this = this;\n            var sprite = this.owner.getAtlasSprite(this.id);\n            if (sprite != null) {\n                sprite.atlas.onLoad(function (atlas) {\n                    if (atlas) {\n                        var atlasTexture = atlas;\n                        var sf = new cc.SpriteFrame(atlasTexture, sprite.rect, sprite.rotated, new cc.Vec2(sprite.offset.x - (sprite.originalSize.width - sprite.rect.width) / 2, -(sprite.offset.y - (sprite.originalSize.height - sprite.rect.height) / 2)), sprite.originalSize);\n                        if (_this.scale9Grid) {\n                            sf.insetLeft = _this.scale9Grid.x;\n                            sf.insetTop = _this.scale9Grid.y;\n                            sf.insetRight = _this.width - _this.scale9Grid.xMax;\n                            sf.insetBottom = _this.height - _this.scale9Grid.yMax;\n                        }\n                        callback(sf);\n                    }\n                    else {\n                        callback(null);\n                    }\n                }, null);\n            }\n            else {\n                callback(null);\n            }\n        };\n        return PackageImageItem;\n    }(PackageItem));\n    fgui.PackageImageItem = PackageImageItem;\n    var PackageMovieClipItem = (function (_super) {\n        __extends(PackageMovieClipItem, _super);\n        function PackageMovieClipItem() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        PackageMovieClipItem.prototype.setup = function (buffer, url) {\n            this.smoothing = buffer.readBool();\n            this.objectType = fgui.ObjectType.MovieClip;\n            this.rawData = buffer.readBuffer();\n        };\n        PackageMovieClipItem.prototype._loadFrame = function (i, buffer, callback) {\n            var _this = this;\n            if (i >= this.frames.length) {\n                callback();\n            }\n            else {\n                var nextPos = buffer.readShort();\n                nextPos += buffer.position;\n                var frame_1 = new fgui.Frame();\n                frame_1.rect.x = buffer.readInt();\n                frame_1.rect.y = buffer.readInt();\n                frame_1.rect.width = buffer.readInt();\n                frame_1.rect.height = buffer.readInt();\n                frame_1.addDelay = buffer.readInt() / 1000;\n                var spriteId = buffer.readS();\n                var sprite_1;\n                if (spriteId != null && (sprite_1 = this.owner.getAtlasSprite(spriteId)) != null) {\n                    sprite_1.atlas.onLoad(function (asset) {\n                        if (asset != null) {\n                            var atlasTexture = asset;\n                            var sx = _this.width / frame_1.rect.width;\n                            frame_1.texture = new cc.SpriteFrame(atlasTexture, sprite_1.rect, sprite_1.rotated, new cc.Vec2(frame_1.rect.x - (_this.width - frame_1.rect.width) / 2, -(frame_1.rect.y - (_this.height - frame_1.rect.height) / 2)), new cc.Size(_this.width, _this.height));\n                        }\n                        _this.frames[i] = frame_1;\n                        buffer.position = nextPos;\n                        _this._loadFrame(i + 1, buffer, callback);\n                    }, null);\n                }\n                else {\n                    this.frames[i] = frame_1;\n                    buffer.position = nextPos;\n                    this._loadFrame(i + 1, buffer, callback);\n                }\n            }\n        };\n        PackageMovieClipItem.prototype._doLoad = function (callback) {\n            var buffer = this.rawData;\n            buffer.seek(0, 0);\n            this.interval = buffer.readInt() / 1000;\n            this.swing = buffer.readBool();\n            this.repeatDelay = buffer.readInt() / 1000;\n            buffer.seek(0, 1);\n            var frameCount = buffer.readShort();\n            this.frames = Array(frameCount);\n            this._loadFrame(0, buffer, function () {\n                callback(null);\n            });\n        };\n        return PackageMovieClipItem;\n    }(PackageItem));\n    fgui.PackageMovieClipItem = PackageMovieClipItem;\n    var PackageFontItem = (function (_super) {\n        __extends(PackageFontItem, _super);\n        function PackageFontItem() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        PackageFontItem.prototype.setup = function (buffer, url) {\n            this.rawData = buffer.readBuffer();\n        };\n        PackageFontItem.prototype._assembleFont = function (mainSprite) {\n            var retSprites = [];\n            var font = new cc.LabelAtlas();\n            this.asset = font;\n            font._fntConfig = {\n                commonHeight: 0,\n                fontSize: 0,\n                kerningDict: {},\n                fontDefDictionary: {}\n            };\n            var dict = font._fntConfig.fontDefDictionary;\n            var buffer = this.rawData;\n            buffer.seek(0, 0);\n            var ttf = buffer.readBool();\n            var canTint = buffer.readBool();\n            var resizable = buffer.readBool();\n            buffer.readBool();\n            var fontSize = buffer.readInt();\n            var xadvance = buffer.readInt();\n            var lineHeight = buffer.readInt();\n            buffer.seek(0, 1);\n            var bg = null;\n            var cnt = buffer.readInt();\n            for (var i = 0; i < cnt; i++) {\n                var nextPos = buffer.readShort();\n                nextPos += buffer.position;\n                bg = {};\n                var ch = buffer.readUshort();\n                dict[ch] = bg;\n                var rect = new cc.Rect();\n                bg.rect = rect;\n                var img = buffer.readS();\n                rect.x = buffer.readInt();\n                rect.y = buffer.readInt();\n                bg.xOffset = buffer.readInt();\n                bg.yOffset = buffer.readInt();\n                rect.width = buffer.readInt();\n                rect.height = buffer.readInt();\n                bg.xAdvance = buffer.readInt();\n                bg.channel = buffer.readByte();\n                if (bg.channel == 1)\n                    bg.channel = 3;\n                else if (bg.channel == 2)\n                    bg.channel = 2;\n                else if (bg.channel == 3)\n                    bg.channel = 1;\n                if (ttf) {\n                    rect.x += mainSprite.rect.x;\n                    rect.y += mainSprite.rect.y;\n                }\n                else {\n                    var sprite = this.owner.getAtlasSprite(img);\n                    if (sprite) {\n                        rect.set(sprite.rect);\n                        bg.xOffset += sprite.offset.x;\n                        bg.yOffset += sprite.offset.y;\n                        if (fontSize == 0)\n                            fontSize = sprite.originalSize.height;\n                        retSprites.push(sprite);\n                    }\n                    if (bg.xAdvance == 0) {\n                        if (xadvance == 0)\n                            bg.xAdvance = bg.xOffset + bg.rect.width;\n                        else\n                            bg.xAdvance = xadvance;\n                    }\n                }\n                buffer.position = nextPos;\n            }\n            font.fontSize = fontSize;\n            font._fntConfig.fontSize = fontSize;\n            font._fntConfig.commonHeight = lineHeight == 0 ? fontSize : lineHeight;\n            font._fntConfig.resizable = resizable;\n            font._fntConfig.canTint = canTint;\n            return retSprites;\n        };\n        PackageFontItem.prototype._tryLoadTexture = function (idx, sprites, callback) {\n            var _this = this;\n            if (idx >= sprites.length) {\n                callback(null);\n            }\n            else {\n                var sprite = sprites[idx];\n                if (sprite) {\n                    sprite.atlas.onLoad(function (atlas) {\n                        if (atlas) {\n                            callback(atlas);\n                        }\n                        else {\n                            _this._tryLoadTexture(idx + 1, sprites, callback);\n                        }\n                    }, null);\n                }\n                else {\n                    this._tryLoadTexture(idx + 1, sprites, callback);\n                }\n            }\n        };\n        PackageFontItem.prototype._doLoad = function (callback) {\n            var _this = this;\n            var mainSprite = this.owner.getAtlasSprite(this.id);\n            var subSprites = this._assembleFont(mainSprite);\n            if (mainSprite) {\n                subSprites.unshift(mainSprite);\n            }\n            var self = this;\n            this._tryLoadTexture(0, subSprites, function (texture) {\n                if (texture) {\n                    var spriteFrame = new cc.SpriteFrame();\n                    spriteFrame.setTexture(texture);\n                    (self.asset).spriteFrame = spriteFrame;\n                    (self.asset).onLoad();\n                    callback(self.asset);\n                }\n                else {\n                    console.error(\"[PackageFontItem] no texture for font\", _this.name);\n                    callback(null);\n                }\n            });\n        };\n        return PackageFontItem;\n    }(PackageItem));\n    fgui.PackageFontItem = PackageFontItem;\n    var PackageComponentItem = (function (_super) {\n        __extends(PackageComponentItem, _super);\n        function PackageComponentItem() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        PackageComponentItem.prototype.setup = function (buffer, url) {\n            var extension = buffer.readByte();\n            if (extension > 0)\n                this.objectType = extension;\n            else\n                this.objectType = fgui.ObjectType.Component;\n            this.rawData = buffer.readBuffer();\n            fgui.UIObjectFactory.resolveExtension(this);\n        };\n        PackageComponentItem.prototype._doLoad = function (callback) {\n            callback(null);\n        };\n        return PackageComponentItem;\n    }(PackageItem));\n    fgui.PackageComponentItem = PackageComponentItem;\n    var PackageAtlasItem = (function (_super) {\n        __extends(PackageAtlasItem, _super);\n        function PackageAtlasItem() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        PackageAtlasItem.prototype.setup = function (buffer, url) {\n            this.file = url + cc.path.mainFileName(this.file);\n        };\n        PackageAtlasItem.prototype._doLoad = function (callback) {\n            var _this = this;\n            cc.loader.loadRes(this.file, cc.Texture2D, function (err, asset) {\n                if (!asset || !asset.loaded) {\n                    console.log(\"Resource '\" + _this.file + \"' not found\");\n                    callback(null);\n                }\n                else {\n                    callback(asset);\n                }\n            });\n        };\n        return PackageAtlasItem;\n    }(PackageItem));\n    fgui.PackageAtlasItem = PackageAtlasItem;\n    var PackageSoundItem = (function (_super) {\n        __extends(PackageSoundItem, _super);\n        function PackageSoundItem() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        PackageSoundItem.prototype.setup = function (buffer, url) {\n            this.file = url + cc.path.mainFileName(this.file);\n        };\n        PackageSoundItem.prototype._doLoad = function (callback) {\n            var _this = this;\n            cc.loader.loadRes(this.file, cc.AudioClip, function (err, asset) {\n                if (!asset || !asset.loaded) {\n                    console.log(\"Resource '\" + _this.file + \"' not found\");\n                    callback(null);\n                }\n                else {\n                    callback(asset);\n                }\n            });\n        };\n        return PackageSoundItem;\n    }(PackageItem));\n    fgui.PackageSoundItem = PackageSoundItem;\n    var PackageMiscItem = (function (_super) {\n        __extends(PackageMiscItem, _super);\n        function PackageMiscItem() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        PackageMiscItem.prototype.setup = function (buffer, url) {\n            this.file = url + cc.path.mainFileName(this.file);\n        };\n        PackageMiscItem.prototype._doLoad = function (callback) {\n            var _this = this;\n            if (this.file) {\n                cc.loader.loadRes(this.file, cc.Asset, function (err, asset) {\n                    if (!asset || !asset.loaded) {\n                        console.log(\"Resource '\" + _this.file + \"' not found\");\n                        callback(null);\n                    }\n                    else {\n                        callback(asset);\n                    }\n                });\n            }\n            else {\n                callback(null);\n            }\n        };\n        return PackageMiscItem;\n    }(PackageItem));\n    fgui.PackageMiscItem = PackageMiscItem;\n})(fgui || (fgui = {}));\nvar fgui;\n(function (fgui) {\n    var PopupMenu = (function () {\n        function PopupMenu(url) {\n            if (url === void 0) { url = null; }\n            if (!url) {\n                url = fgui.UIConfig.popupMenu;\n                if (!url)\n                    throw \"UIConfig.popupMenu not defined\";\n            }\n            this._contentPane = fgui.UIPackage.createObjectFromURL(url).asCom;\n            this._contentPane.on(fgui.Event.DISPLAY, this.onDisplay, this);\n            this._list = (this._contentPane.getChild(\"list\"));\n            this._list.removeChildrenToPool();\n            this._list.addRelation(this._contentPane, fgui.RelationType.Width);\n            this._list.removeRelation(this._contentPane, fgui.RelationType.Height);\n            this._contentPane.addRelation(this._list, fgui.RelationType.Height);\n            this._list.on(fgui.Event.CLICK_ITEM, this.onClickItem, this);\n        }\n        PopupMenu.prototype.dispose = function () {\n            this._contentPane.dispose();\n        };\n        PopupMenu.prototype.addItem = function (caption, callback) {\n            var item = this._list.addItemFromPool().asButton;\n            item.title = caption;\n            item.data = callback;\n            item.grayed = false;\n            var c = item.getController(\"checked\");\n            if (c != null)\n                c.selectedIndex = 0;\n            return item;\n        };\n        PopupMenu.prototype.addItemAt = function (caption, index, callback) {\n            var item = this._list.getFromPool().asButton;\n            this._list.addChildAt(item, index);\n            item.title = caption;\n            item.data = callback;\n            item.grayed = false;\n            var c = item.getController(\"checked\");\n            if (c != null)\n                c.selectedIndex = 0;\n            return item;\n        };\n        PopupMenu.prototype.addSeperator = function () {\n            if (fgui.UIConfig.popupMenu_seperator == null)\n                throw \"UIConfig.popupMenu_seperator not defined\";\n            this.list.addItemFromPool(fgui.UIConfig.popupMenu_seperator);\n        };\n        PopupMenu.prototype.getItemName = function (index) {\n            var item = this._list.getChildAt(index);\n            return item.name;\n        };\n        PopupMenu.prototype.setItemText = function (name, caption) {\n            var item = this._list.getChild(name).asButton;\n            item.title = caption;\n        };\n        PopupMenu.prototype.setItemVisible = function (name, visible) {\n            var item = this._list.getChild(name).asButton;\n            if (item.visible != visible) {\n                item.visible = visible;\n                this._list.setBoundsChangedFlag();\n            }\n        };\n        PopupMenu.prototype.setItemGrayed = function (name, grayed) {\n            var item = this._list.getChild(name).asButton;\n            item.grayed = grayed;\n        };\n        PopupMenu.prototype.setItemCheckable = function (name, checkable) {\n            var item = this._list.getChild(name).asButton;\n            var c = item.getController(\"checked\");\n            if (c != null) {\n                if (checkable) {\n                    if (c.selectedIndex == 0)\n                        c.selectedIndex = 1;\n                }\n                else\n                    c.selectedIndex = 0;\n            }\n        };\n        PopupMenu.prototype.setItemChecked = function (name, checked) {\n            var item = this._list.getChild(name).asButton;\n            var c = item.getController(\"checked\");\n            if (c != null)\n                c.selectedIndex = checked ? 2 : 1;\n        };\n        PopupMenu.prototype.isItemChecked = function (name) {\n            var item = this._list.getChild(name).asButton;\n            var c = item.getController(\"checked\");\n            if (c != null)\n                return c.selectedIndex == 2;\n            else\n                return false;\n        };\n        PopupMenu.prototype.removeItem = function (name) {\n            var item = this._list.getChild(name);\n            if (item != null) {\n                var index = this._list.getChildIndex(item);\n                this._list.removeChildToPoolAt(index);\n                return true;\n            }\n            else\n                return false;\n        };\n        PopupMenu.prototype.clearItems = function () {\n            this._list.removeChildrenToPool();\n        };\n        Object.defineProperty(PopupMenu.prototype, \"itemCount\", {\n            get: function () {\n                return this._list.numChildren;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(PopupMenu.prototype, \"contentPane\", {\n            get: function () {\n                return this._contentPane;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(PopupMenu.prototype, \"list\", {\n            get: function () {\n                return this._list;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        PopupMenu.prototype.show = function (target, downward) {\n            if (target === void 0) { target = null; }\n            var r = target != null ? target.root : fgui.GRoot.inst;\n            r.showPopup(this.contentPane, (target instanceof fgui.GRoot) ? null : target, downward);\n        };\n        PopupMenu.prototype.onClickItem = function (itemObject, evt) {\n            var _this = this;\n            this._list._partner.callLater(function (dt) {\n                _this.onClickItem2(itemObject, evt);\n            }, 0.1);\n        };\n        PopupMenu.prototype.onClickItem2 = function (itemObject, evt) {\n            var item = itemObject.asButton;\n            if (item == null)\n                return;\n            if (item.grayed) {\n                this._list.selectedIndex = -1;\n                return;\n            }\n            var c = item.getController(\"checked\");\n            if (c != null && c.selectedIndex != 0) {\n                if (c.selectedIndex == 1)\n                    c.selectedIndex = 2;\n                else\n                    c.selectedIndex = 1;\n            }\n            var r = (this._contentPane.parent);\n            r.hidePopup(this.contentPane);\n            if (item.data instanceof Function)\n                item.data(item, evt);\n        };\n        PopupMenu.prototype.onDisplay = function () {\n            this._list.selectedIndex = -1;\n            this._list.resizeToFit(100000, 10);\n        };\n        return PopupMenu;\n    }());\n    fgui.PopupMenu = PopupMenu;\n})(fgui || (fgui = {}));\nvar fgui;\n(function (fgui) {\n    var RelationItem = (function () {\n        function RelationItem(owner) {\n            this._owner = owner;\n            this._defs = new Array();\n        }\n        Object.defineProperty(RelationItem.prototype, \"owner\", {\n            get: function () {\n                return this._owner;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(RelationItem.prototype, \"target\", {\n            get: function () {\n                return this._target;\n            },\n            set: function (value) {\n                if (this._target != value) {\n                    if (this._target)\n                        this.releaseRefTarget(this._target);\n                    this._target = value;\n                    if (this._target)\n                        this.addRefTarget(this._target);\n                }\n            },\n            enumerable: false,\n            configurable: true\n        });\n        RelationItem.prototype.add = function (relationType, usePercent) {\n            if (relationType == fgui.RelationType.Size) {\n                this.add(fgui.RelationType.Width, usePercent);\n                this.add(fgui.RelationType.Height, usePercent);\n                return;\n            }\n            var length = this._defs.length;\n            for (var i = 0; i < length; i++) {\n                var def = this._defs[i];\n                if (def.type == relationType)\n                    return;\n            }\n            this.internalAdd(relationType, usePercent);\n        };\n        RelationItem.prototype.internalAdd = function (relationType, usePercent) {\n            if (relationType == fgui.RelationType.Size) {\n                this.internalAdd(fgui.RelationType.Width, usePercent);\n                this.internalAdd(fgui.RelationType.Height, usePercent);\n                return;\n            }\n            var info = new RelationDef();\n            info.percent = usePercent;\n            info.type = relationType;\n            info.axis = (relationType <= fgui.RelationType.Right_Right || relationType == fgui.RelationType.Width || relationType >= fgui.RelationType.LeftExt_Left && relationType <= fgui.RelationType.RightExt_Right) ? 0 : 1;\n            this._defs.push(info);\n            if (usePercent || relationType == fgui.RelationType.Left_Center || relationType == fgui.RelationType.Center_Center || relationType == fgui.RelationType.Right_Center\n                || relationType == fgui.RelationType.Top_Middle || relationType == fgui.RelationType.Middle_Middle || relationType == fgui.RelationType.Bottom_Middle)\n                this._owner.pixelSnapping = true;\n        };\n        RelationItem.prototype.remove = function (relationType) {\n            if (relationType == fgui.RelationType.Size) {\n                this.remove(fgui.RelationType.Width);\n                this.remove(fgui.RelationType.Height);\n                return;\n            }\n            var dc = this._defs.length;\n            for (var k = 0; k < dc; k++) {\n                if (this._defs[k].type == relationType) {\n                    this._defs.splice(k, 1);\n                    break;\n                }\n            }\n        };\n        RelationItem.prototype.copyFrom = function (source) {\n            this.target = source.target;\n            this._defs.length = 0;\n            var length = source._defs.length;\n            for (var i = 0; i < length; i++) {\n                var info = source._defs[i];\n                var info2 = new RelationDef();\n                info2.copyFrom(info);\n                this._defs.push(info2);\n            }\n        };\n        RelationItem.prototype.dispose = function () {\n            if (this._target != null) {\n                this.releaseRefTarget(this._target);\n                this._target = null;\n            }\n        };\n        Object.defineProperty(RelationItem.prototype, \"isEmpty\", {\n            get: function () {\n                return this._defs.length == 0;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        RelationItem.prototype.applyOnSelfResized = function (dWidth, dHeight, applyPivot) {\n            var ox = this._owner.x;\n            var oy = this._owner.y;\n            var length = this._defs.length;\n            for (var i = 0; i < length; i++) {\n                var info = this._defs[i];\n                switch (info.type) {\n                    case fgui.RelationType.Center_Center:\n                        this._owner.x -= (0.5 - (applyPivot ? this._owner.pivotX : 0)) * dWidth;\n                        break;\n                    case fgui.RelationType.Right_Center:\n                    case fgui.RelationType.Right_Left:\n                    case fgui.RelationType.Right_Right:\n                        this._owner.x -= (1 - (applyPivot ? this._owner.pivotX : 0)) * dWidth;\n                        break;\n                    case fgui.RelationType.Middle_Middle:\n                        this._owner.y -= (0.5 - (applyPivot ? this._owner.pivotY : 0)) * dHeight;\n                        break;\n                    case fgui.RelationType.Bottom_Middle:\n                    case fgui.RelationType.Bottom_Top:\n                    case fgui.RelationType.Bottom_Bottom:\n                        this._owner.y -= (1 - (applyPivot ? this._owner.pivotY : 0)) * dHeight;\n                        break;\n                }\n            }\n            if (ox != this._owner.x || oy != this._owner.y) {\n                ox = this._owner.x - ox;\n                oy = this._owner.y - oy;\n                this._owner.updateGearFromRelations(1, ox, oy);\n                if (this._owner.parent != null) {\n                    var len = this._owner.parent._transitions.length;\n                    if (len > 0) {\n                        for (var i = 0; i < len; ++i) {\n                            this._owner.parent._transitions[i].updateFromRelations(this._owner.id, ox, oy);\n                        }\n                    }\n                }\n            }\n        };\n        RelationItem.prototype.applyOnXYChanged = function (info, dx, dy) {\n            var tmp;\n            switch (info.type) {\n                case fgui.RelationType.Left_Left:\n                case fgui.RelationType.Left_Center:\n                case fgui.RelationType.Left_Right:\n                case fgui.RelationType.Center_Center:\n                case fgui.RelationType.Right_Left:\n                case fgui.RelationType.Right_Center:\n                case fgui.RelationType.Right_Right:\n                    this._owner.x += dx;\n                    break;\n                case fgui.RelationType.Top_Top:\n                case fgui.RelationType.Top_Middle:\n                case fgui.RelationType.Top_Bottom:\n                case fgui.RelationType.Middle_Middle:\n                case fgui.RelationType.Bottom_Top:\n                case fgui.RelationType.Bottom_Middle:\n                case fgui.RelationType.Bottom_Bottom:\n                    this._owner.y += dy;\n                    break;\n                case fgui.RelationType.Width:\n                case fgui.RelationType.Height:\n                    break;\n                case fgui.RelationType.LeftExt_Left:\n                case fgui.RelationType.LeftExt_Right:\n                    if (this._owner != this._target.parent) {\n                        tmp = this._owner.xMin;\n                        this._owner.width = this._owner._rawWidth - dx;\n                        this._owner.xMin = tmp + dx;\n                    }\n                    else\n                        this._owner.width = this._owner._rawWidth - dx;\n                    break;\n                case fgui.RelationType.RightExt_Left:\n                case fgui.RelationType.RightExt_Right:\n                    if (this._owner != this._target.parent) {\n                        tmp = this._owner.xMin;\n                        this._owner.width = this._owner._rawWidth + dx;\n                        this._owner.xMin = tmp;\n                    }\n                    else\n                        this._owner.width = this._owner._rawWidth + dx;\n                    break;\n                case fgui.RelationType.TopExt_Top:\n                case fgui.RelationType.TopExt_Bottom:\n                    if (this._owner != this._target.parent) {\n                        tmp = this._owner.yMin;\n                        this._owner.height = this._owner._rawHeight - dy;\n                        this._owner.yMin = tmp + dy;\n                    }\n                    else\n                        this._owner.height = this._owner._rawHeight - dy;\n                    break;\n                case fgui.RelationType.BottomExt_Top:\n                case fgui.RelationType.BottomExt_Bottom:\n                    if (this._owner != this._target.parent) {\n                        tmp = this._owner.yMin;\n                        this._owner.height = this._owner._rawHeight + dy;\n                        this._owner.yMin = tmp;\n                    }\n                    else\n                        this._owner.height = this._owner._rawHeight + dy;\n                    break;\n            }\n        };\n        RelationItem.prototype.applyOnSizeChanged = function (info) {\n            var pos = 0, pivot = 0, delta = 0;\n            var v, tmp;\n            if (info.axis == 0) {\n                if (this._target != this._owner.parent) {\n                    pos = this._target.x;\n                    if (this._target.pivotAsAnchor)\n                        pivot = this._target.pivotX;\n                }\n                if (info.percent) {\n                    if (this._targetWidth != 0)\n                        delta = this._target._width / this._targetWidth;\n                }\n                else\n                    delta = this._target._width - this._targetWidth;\n            }\n            else {\n                if (this._target != this._owner.parent) {\n                    pos = this._target.y;\n                    if (this._target.pivotAsAnchor)\n                        pivot = this._target.pivotY;\n                }\n                if (info.percent) {\n                    if (this._targetHeight != 0)\n                        delta = this._target._height / this._targetHeight;\n                }\n                else\n                    delta = this._target._height - this._targetHeight;\n            }\n            switch (info.type) {\n                case fgui.RelationType.Left_Left:\n                    if (info.percent)\n                        this._owner.xMin = pos + (this._owner.xMin - pos) * delta;\n                    else if (pivot != 0)\n                        this._owner.x += delta * (-pivot);\n                    break;\n                case fgui.RelationType.Left_Center:\n                    if (info.percent)\n                        this._owner.xMin = pos + (this._owner.xMin - pos) * delta;\n                    else\n                        this._owner.x += delta * (0.5 - pivot);\n                    break;\n                case fgui.RelationType.Left_Right:\n                    if (info.percent)\n                        this._owner.xMin = pos + (this._owner.xMin - pos) * delta;\n                    else\n                        this._owner.x += delta * (1 - pivot);\n                    break;\n                case fgui.RelationType.Center_Center:\n                    if (info.percent)\n                        this._owner.xMin = pos + (this._owner.xMin + this._owner._rawWidth * 0.5 - pos) * delta - this._owner._rawWidth * 0.5;\n                    else\n                        this._owner.x += delta * (0.5 - pivot);\n                    break;\n                case fgui.RelationType.Right_Left:\n                    if (info.percent)\n                        this._owner.xMin = pos + (this._owner.xMin + this._owner._rawWidth - pos) * delta - this._owner._rawWidth;\n                    else if (pivot != 0)\n                        this._owner.x += delta * (-pivot);\n                    break;\n                case fgui.RelationType.Right_Center:\n                    if (info.percent)\n                        this._owner.xMin = pos + (this._owner.xMin + this._owner._rawWidth - pos) * delta - this._owner._rawWidth;\n                    else\n                        this._owner.x += delta * (0.5 - pivot);\n                    break;\n                case fgui.RelationType.Right_Right:\n                    if (info.percent)\n                        this._owner.xMin = pos + (this._owner.xMin + this._owner._rawWidth - pos) * delta - this._owner._rawWidth;\n                    else\n                        this._owner.x += delta * (1 - pivot);\n                    break;\n                case fgui.RelationType.Top_Top:\n                    if (info.percent)\n                        this._owner.yMin = pos + (this._owner.yMin - pos) * delta;\n                    else if (pivot != 0)\n                        this._owner.y += delta * (-pivot);\n                    break;\n                case fgui.RelationType.Top_Middle:\n                    if (info.percent)\n                        this._owner.yMin = pos + (this._owner.yMin - pos) * delta;\n                    else\n                        this._owner.y += delta * (0.5 - pivot);\n                    break;\n                case fgui.RelationType.Top_Bottom:\n                    if (info.percent)\n                        this._owner.yMin = pos + (this._owner.yMin - pos) * delta;\n                    else\n                        this._owner.y += delta * (1 - pivot);\n                    break;\n                case fgui.RelationType.Middle_Middle:\n                    if (info.percent)\n                        this._owner.yMin = pos + (this._owner.yMin + this._owner._rawHeight * 0.5 - pos) * delta - this._owner._rawHeight * 0.5;\n                    else\n                        this._owner.y += delta * (0.5 - pivot);\n                    break;\n                case fgui.RelationType.Bottom_Top:\n                    if (info.percent)\n                        this._owner.yMin = pos + (this._owner.yMin + this._owner._rawHeight - pos) * delta - this._owner._rawHeight;\n                    else if (pivot != 0)\n                        this._owner.y += delta * (-pivot);\n                    break;\n                case fgui.RelationType.Bottom_Middle:\n                    if (info.percent)\n                        this._owner.yMin = pos + (this._owner.yMin + this._owner._rawHeight - pos) * delta - this._owner._rawHeight;\n                    else\n                        this._owner.y += delta * (0.5 - pivot);\n                    break;\n                case fgui.RelationType.Bottom_Bottom:\n                    if (info.percent)\n                        this._owner.yMin = pos + (this._owner.yMin + this._owner._rawHeight - pos) * delta - this._owner._rawHeight;\n                    else\n                        this._owner.y += delta * (1 - pivot);\n                    break;\n                case fgui.RelationType.Width:\n                    if (this._owner._underConstruct && this._owner == this._target.parent)\n                        v = this._owner.sourceWidth - this._target.initWidth;\n                    else\n                        v = this._owner._rawWidth - this._targetWidth;\n                    if (info.percent)\n                        v = v * delta;\n                    if (this._target == this._owner.parent) {\n                        if (this._owner.pivotAsAnchor) {\n                            tmp = this._owner.xMin;\n                            this._owner.setSize(this._target._width + v, this._owner._rawHeight, true);\n                            this._owner.xMin = tmp;\n                        }\n                        else\n                            this._owner.setSize(this._target._width + v, this._owner._rawHeight, true);\n                    }\n                    else\n                        this._owner.width = this._target._width + v;\n                    break;\n                case fgui.RelationType.Height:\n                    if (this._owner._underConstruct && this._owner == this._target.parent)\n                        v = this._owner.sourceHeight - this._target.initHeight;\n                    else\n                        v = this._owner._rawHeight - this._targetHeight;\n                    if (info.percent)\n                        v = v * delta;\n                    if (this._target == this._owner.parent) {\n                        if (this._owner.pivotAsAnchor) {\n                            tmp = this._owner.yMin;\n                            this._owner.setSize(this._owner._rawWidth, this._target._height + v, true);\n                            this._owner.yMin = tmp;\n                        }\n                        else\n                            this._owner.setSize(this._owner._rawWidth, this._target._height + v, true);\n                    }\n                    else\n                        this._owner.height = this._target._height + v;\n                    break;\n                case fgui.RelationType.LeftExt_Left:\n                    tmp = this._owner.xMin;\n                    if (info.percent)\n                        v = pos + (tmp - pos) * delta - tmp;\n                    else\n                        v = delta * (-pivot);\n                    this._owner.width = this._owner._rawWidth - v;\n                    this._owner.xMin = tmp + v;\n                    break;\n                case fgui.RelationType.LeftExt_Right:\n                    tmp = this._owner.xMin;\n                    if (info.percent)\n                        v = pos + (tmp - pos) * delta - tmp;\n                    else\n                        v = delta * (1 - pivot);\n                    this._owner.width = this._owner._rawWidth - v;\n                    this._owner.xMin = tmp + v;\n                    break;\n                case fgui.RelationType.RightExt_Left:\n                    tmp = this._owner.xMin;\n                    if (info.percent)\n                        v = pos + (tmp + this._owner._rawWidth - pos) * delta - (tmp + this._owner._rawWidth);\n                    else\n                        v = delta * (-pivot);\n                    this._owner.width = this._owner._rawWidth + v;\n                    this._owner.xMin = tmp;\n                    break;\n                case fgui.RelationType.RightExt_Right:\n                    tmp = this._owner.xMin;\n                    if (info.percent) {\n                        if (this._owner == this._target.parent) {\n                            if (this._owner._underConstruct)\n                                this._owner.width = pos + this._target._width - this._target._width * pivot +\n                                    (this._owner.sourceWidth - pos - this._target.initWidth + this._target.initWidth * pivot) * delta;\n                            else\n                                this._owner.width = pos + (this._owner._rawWidth - pos) * delta;\n                        }\n                        else {\n                            v = pos + (tmp + this._owner._rawWidth - pos) * delta - (tmp + this._owner._rawWidth);\n                            this._owner.width = this._owner._rawWidth + v;\n                            this._owner.xMin = tmp;\n                        }\n                    }\n                    else {\n                        if (this._owner == this._target.parent) {\n                            if (this._owner._underConstruct)\n                                this._owner.width = this._owner.sourceWidth + (this._target._width - this._target.initWidth) * (1 - pivot);\n                            else\n                                this._owner.width = this._owner._rawWidth + delta * (1 - pivot);\n                        }\n                        else {\n                            v = delta * (1 - pivot);\n                            this._owner.width = this._owner._rawWidth + v;\n                            this._owner.xMin = tmp;\n                        }\n                    }\n                    break;\n                case fgui.RelationType.TopExt_Top:\n                    tmp = this._owner.yMin;\n                    if (info.percent)\n                        v = pos + (tmp - pos) * delta - tmp;\n                    else\n                        v = delta * (-pivot);\n                    this._owner.height = this._owner._rawHeight - v;\n                    this._owner.yMin = tmp + v;\n                    break;\n                case fgui.RelationType.TopExt_Bottom:\n                    tmp = this._owner.yMin;\n                    if (info.percent)\n                        v = pos + (tmp - pos) * delta - tmp;\n                    else\n                        v = delta * (1 - pivot);\n                    this._owner.height = this._owner._rawHeight - v;\n                    this._owner.yMin = tmp + v;\n                    break;\n                case fgui.RelationType.BottomExt_Top:\n                    tmp = this._owner.yMin;\n                    if (info.percent)\n                        v = pos + (tmp + this._owner._rawHeight - pos) * delta - (tmp + this._owner._rawHeight);\n                    else\n                        v = delta * (-pivot);\n                    this._owner.height = this._owner._rawHeight + v;\n                    this._owner.yMin = tmp;\n                    break;\n                case fgui.RelationType.BottomExt_Bottom:\n                    tmp = this._owner.yMin;\n                    if (info.percent) {\n                        if (this._owner == this._target.parent) {\n                            if (this._owner._underConstruct)\n                                this._owner.height = pos + this._target._height - this._target._height * pivot +\n                                    (this._owner.sourceHeight - pos - this._target.initHeight + this._target.initHeight * pivot) * delta;\n                            else\n                                this._owner.height = pos + (this._owner._rawHeight - pos) * delta;\n                        }\n                        else {\n                            v = pos + (tmp + this._owner._rawHeight - pos) * delta - (tmp + this._owner._rawHeight);\n                            this._owner.height = this._owner._rawHeight + v;\n                            this._owner.yMin = tmp;\n                        }\n                    }\n                    else {\n                        if (this._owner == this._target.parent) {\n                            if (this._owner._underConstruct)\n                                this._owner.height = this._owner.sourceHeight + (this._target._height - this._target.initHeight) * (1 - pivot);\n                            else\n                                this._owner.height = this._owner._rawHeight + delta * (1 - pivot);\n                        }\n                        else {\n                            v = delta * (1 - pivot);\n                            this._owner.height = this._owner._rawHeight + v;\n                            this._owner.yMin = tmp;\n                        }\n                    }\n                    break;\n            }\n        };\n        RelationItem.prototype.addRefTarget = function (target) {\n            if (target != this._owner.parent)\n                target.on(fgui.Event.XY_CHANGED, this.__targetXYChanged, this);\n            target.on(fgui.Event.SIZE_CHANGED, this.__targetSizeChanged, this);\n            target.on(fgui.Event.SIZE_DELAY_CHANGE, this.__targetSizeWillChange, this);\n            this._targetX = this._target.x;\n            this._targetY = this._target.y;\n            this._targetWidth = this._target._width;\n            this._targetHeight = this._target._height;\n        };\n        RelationItem.prototype.releaseRefTarget = function (target) {\n            if (!target.node)\n                return;\n            target.off(fgui.Event.XY_CHANGED, this.__targetXYChanged, this);\n            target.off(fgui.Event.SIZE_CHANGED, this.__targetSizeChanged, this);\n            target.off(fgui.Event.SIZE_DELAY_CHANGE, this.__targetSizeWillChange, this);\n        };\n        RelationItem.prototype.__targetXYChanged = function (evt) {\n            if (this._owner.relations.handling != null || this._owner.group != null && this._owner.group._updating) {\n                this._targetX = this._target.x;\n                this._targetY = this._target.y;\n                return;\n            }\n            this._owner.relations.handling = this._target;\n            var ox = this._owner.x;\n            var oy = this._owner.y;\n            var dx = this._target.x - this._targetX;\n            var dy = this._target.y - this._targetY;\n            var length = this._defs.length;\n            for (var i = 0; i < length; i++) {\n                var info = this._defs[i];\n                this.applyOnXYChanged(info, dx, dy);\n            }\n            this._targetX = this._target.x;\n            this._targetY = this._target.y;\n            if (ox != this._owner.x || oy != this._owner.y) {\n                ox = this._owner.x - ox;\n                oy = this._owner.y - oy;\n                this._owner.updateGearFromRelations(1, ox, oy);\n                if (this._owner.parent != null) {\n                    var len = this._owner.parent._transitions.length;\n                    if (len > 0) {\n                        for (var i = 0; i < len; ++i) {\n                            this._owner.parent._transitions[i].updateFromRelations(this._owner.id, ox, oy);\n                        }\n                    }\n                }\n            }\n            this._owner.relations.handling = null;\n        };\n        RelationItem.prototype.__targetSizeChanged = function (evt) {\n            if (this._owner.relations.handling != null)\n                return;\n            this._owner.relations.handling = this._target;\n            var ox = this._owner.x;\n            var oy = this._owner.y;\n            var ow = this._owner._rawWidth;\n            var oh = this._owner._rawHeight;\n            var length = this._defs.length;\n            for (var i = 0; i < length; i++) {\n                var info = this._defs[i];\n                this.applyOnSizeChanged(info);\n            }\n            this._targetWidth = this._target._width;\n            this._targetHeight = this._target._height;\n            if (ox != this._owner.x || oy != this._owner.y) {\n                ox = this._owner.x - ox;\n                oy = this._owner.y - oy;\n                this._owner.updateGearFromRelations(1, ox, oy);\n                if (this._owner.parent != null) {\n                    var len = this._owner.parent._transitions.length;\n                    if (len > 0) {\n                        for (var i = 0; i < len; ++i) {\n                            this._owner.parent._transitions[i].updateFromRelations(this._owner.id, ox, oy);\n                        }\n                    }\n                }\n            }\n            if (ow != this._owner._rawWidth || oh != this._owner._rawHeight) {\n                ow = this._owner._rawWidth - ow;\n                oh = this._owner._rawHeight - oh;\n                this._owner.updateGearFromRelations(2, ow, oh);\n            }\n            this._owner.relations.handling = null;\n        };\n        RelationItem.prototype.__targetSizeWillChange = function (evt) {\n            this._owner.relations.sizeDirty = true;\n        };\n        return RelationItem;\n    }());\n    fgui.RelationItem = RelationItem;\n    var RelationDef = (function () {\n        function RelationDef() {\n        }\n        RelationDef.prototype.copyFrom = function (source) {\n            this.percent = source.percent;\n            this.type = source.type;\n            this.axis = source.axis;\n        };\n        return RelationDef;\n    }());\n    fgui.RelationDef = RelationDef;\n})(fgui || (fgui = {}));\nvar fgui;\n(function (fgui) {\n    var Relations = (function () {\n        function Relations(owner) {\n            this._owner = owner;\n            this._items = new Array();\n        }\n        Relations.prototype.add = function (target, relationType, usePercent) {\n            var length = this._items.length;\n            for (var i = 0; i < length; i++) {\n                var item = this._items[i];\n                if (item.target == target) {\n                    item.add(relationType, usePercent);\n                    return;\n                }\n            }\n            var newItem = new fgui.RelationItem(this._owner);\n            newItem.target = target;\n            newItem.add(relationType, usePercent);\n            this._items.push(newItem);\n        };\n        Relations.prototype.remove = function (target, relationType) {\n            if (relationType === void 0) { relationType = 0; }\n            var cnt = this._items.length;\n            var i = 0;\n            while (i < cnt) {\n                var item = this._items[i];\n                if (item.target == target) {\n                    item.remove(relationType);\n                    if (item.isEmpty) {\n                        item.dispose();\n                        this._items.splice(i, 1);\n                        cnt--;\n                    }\n                    else\n                        i++;\n                }\n                else\n                    i++;\n            }\n        };\n        Relations.prototype.contains = function (target) {\n            var length = this._items.length;\n            for (var i = 0; i < length; i++) {\n                var item = this._items[i];\n                if (item.target == target)\n                    return true;\n            }\n            return false;\n        };\n        Relations.prototype.clearFor = function (target) {\n            var cnt = this._items.length;\n            var i = 0;\n            while (i < cnt) {\n                var item = this._items[i];\n                if (item.target == target) {\n                    item.dispose();\n                    this._items.splice(i, 1);\n                    cnt--;\n                }\n                else\n                    i++;\n            }\n        };\n        Relations.prototype.clearAll = function () {\n            var length = this._items.length;\n            for (var i = 0; i < length; i++) {\n                var item = this._items[i];\n                item.dispose();\n            }\n            this._items.length = 0;\n        };\n        Relations.prototype.copyFrom = function (source) {\n            this.clearAll();\n            var arr = source._items;\n            var length = arr.length;\n            for (var i = 0; i < length; i++) {\n                var ri = arr[i];\n                var item = new fgui.RelationItem(this._owner);\n                item.copyFrom(ri);\n                this._items.push(item);\n            }\n        };\n        Relations.prototype.dispose = function () {\n            this.clearAll();\n        };\n        Relations.prototype.onOwnerSizeChanged = function (dWidth, dHeight, applyPivot) {\n            if (this._items.length == 0)\n                return;\n            var length = this._items.length;\n            for (var i = 0; i < length; i++) {\n                var item = this._items[i];\n                item.applyOnSelfResized(dWidth, dHeight, applyPivot);\n            }\n        };\n        Relations.prototype.ensureRelationsSizeCorrect = function () {\n            if (this._items.length == 0)\n                return;\n            this.sizeDirty = false;\n            var length = this._items.length;\n            for (var i = 0; i < length; i++) {\n                var item = this._items[i];\n                item.target.ensureSizeCorrect();\n            }\n        };\n        Object.defineProperty(Relations.prototype, \"empty\", {\n            get: function () {\n                return this._items.length == 0;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Relations.prototype.setup = function (buffer, parentToChild) {\n            var cnt = buffer.readByte();\n            var target;\n            for (var i = 0; i < cnt; i++) {\n                var targetIndex = buffer.readShort();\n                if (targetIndex == -1)\n                    target = this._owner.parent;\n                else if (parentToChild)\n                    target = this._owner.getChildAt(targetIndex);\n                else\n                    target = this._owner.parent.getChildAt(targetIndex);\n                var newItem = new fgui.RelationItem(this._owner);\n                newItem.target = target;\n                this._items.push(newItem);\n                var cnt2 = buffer.readByte();\n                for (var j = 0; j < cnt2; j++) {\n                    var rt = buffer.readByte();\n                    var usePercent = buffer.readBool();\n                    newItem.internalAdd(rt, usePercent);\n                }\n            }\n        };\n        return Relations;\n    }());\n    fgui.Relations = Relations;\n})(fgui || (fgui = {}));\nvar fgui;\n(function (fgui) {\n    var ScrollPane = (function (_super) {\n        __extends(ScrollPane, _super);\n        function ScrollPane() {\n            var _this = _super !== null && _super.apply(this, arguments) || this;\n            _this._aniFlag = 0;\n            return _this;\n        }\n        ScrollPane.prototype.setup = function (buffer) {\n            this._owner = (this.node[\"$gobj\"]);\n            this._maskContainer = new cc.Node(\"ScrollPane\");\n            this._maskContainer.setAnchorPoint(0, 1);\n            this._maskContainer.parent = this._owner.node;\n            this._container = this._owner._container;\n            this._container.parent = this._maskContainer;\n            this._scrollBarMargin = new fgui.Margin();\n            this._mouseWheelEnabled = true;\n            this._xPos = 0;\n            this._yPos = 0;\n            this._aniFlag = 0;\n            this._tweening = 0;\n            this._footerLockedSize = 0;\n            this._headerLockedSize = 0;\n            this._viewSize = new cc.Vec2();\n            this._contentSize = new cc.Vec2();\n            this._pageSize = new cc.Vec2(1, 1);\n            this._overlapSize = new cc.Vec2();\n            this._tweenTime = new cc.Vec2();\n            this._tweenStart = new cc.Vec2();\n            this._tweenDuration = new cc.Vec2();\n            this._tweenChange = new cc.Vec2();\n            this._velocity = new cc.Vec2();\n            this._containerPos = new cc.Vec2();\n            this._beginTouchPos = new cc.Vec2();\n            this._lastTouchPos = new cc.Vec2();\n            this._lastTouchGlobalPos = new cc.Vec2();\n            this._scrollStep = fgui.UIConfig.defaultScrollStep;\n            this._mouseWheelStep = this._scrollStep * 2;\n            this._decelerationRate = fgui.UIConfig.defaultScrollDecelerationRate;\n            this._owner.on(fgui.Event.TOUCH_BEGIN, this.onTouchBegin, this);\n            this._owner.on(fgui.Event.TOUCH_MOVE, this.onTouchMove, this);\n            this._owner.on(fgui.Event.TOUCH_END, this.onTouchEnd, this);\n            this._owner.on(fgui.Event.MOUSE_WHEEL, this.onMouseWheel, this);\n            this._scrollType = buffer.readByte();\n            var scrollBarDisplay = buffer.readByte();\n            var flags = buffer.readInt();\n            if (buffer.readBool()) {\n                this._scrollBarMargin.top = buffer.readInt();\n                this._scrollBarMargin.bottom = buffer.readInt();\n                this._scrollBarMargin.left = buffer.readInt();\n                this._scrollBarMargin.right = buffer.readInt();\n            }\n            var vtScrollBarRes = buffer.readS();\n            var hzScrollBarRes = buffer.readS();\n            var headerRes = buffer.readS();\n            var footerRes = buffer.readS();\n            this._displayOnLeft = (flags & 1) != 0;\n            this._snapToItem = (flags & 2) != 0;\n            this._displayInDemand = (flags & 4) != 0;\n            this._pageMode = (flags & 8) != 0;\n            if (flags & 16)\n                this._touchEffect = true;\n            else if (flags & 32)\n                this._touchEffect = false;\n            else\n                this._touchEffect = fgui.UIConfig.defaultScrollTouchEffect;\n            if (flags & 64)\n                this._bouncebackEffect = true;\n            else if (flags & 128)\n                this._bouncebackEffect = false;\n            else\n                this._bouncebackEffect = fgui.UIConfig.defaultScrollBounceEffect;\n            this._inertiaDisabled = (flags & 256) != 0;\n            if ((flags & 512) == 0)\n                this._maskContainer.addComponent(cc.Mask);\n            this._floating = (flags & 1024) != 0;\n            if (scrollBarDisplay == fgui.ScrollBarDisplayType.Default)\n                scrollBarDisplay = fgui.UIConfig.defaultScrollBarDisplay;\n            if (scrollBarDisplay != fgui.ScrollBarDisplayType.Hidden) {\n                if (this._scrollType == fgui.ScrollType.Both || this._scrollType == fgui.ScrollType.Vertical) {\n                    var res = vtScrollBarRes ? vtScrollBarRes : fgui.UIConfig.verticalScrollBar;\n                    if (res) {\n                        this._vtScrollBar = (fgui.UIPackage.createObjectFromURL(res));\n                        if (!this._vtScrollBar)\n                            throw \"cannot create scrollbar from \" + res;\n                        this._vtScrollBar.setScrollPane(this, true);\n                        this._vtScrollBar.node.parent = this._owner.node;\n                    }\n                }\n                if (this._scrollType == fgui.ScrollType.Both || this._scrollType == fgui.ScrollType.Horizontal) {\n                    var res = hzScrollBarRes ? hzScrollBarRes : fgui.UIConfig.horizontalScrollBar;\n                    if (res) {\n                        this._hzScrollBar = (fgui.UIPackage.createObjectFromURL(res));\n                        if (!this._hzScrollBar)\n                            throw \"cannot create scrollbar from \" + res;\n                        this._hzScrollBar.setScrollPane(this, false);\n                        this._hzScrollBar.node.parent = this._owner.node;\n                    }\n                }\n                this._scrollBarDisplayAuto = scrollBarDisplay == fgui.ScrollBarDisplayType.Auto;\n                if (this._scrollBarDisplayAuto) {\n                    if (this._vtScrollBar)\n                        this._vtScrollBar.node.active = false;\n                    if (this._hzScrollBar)\n                        this._hzScrollBar.node.active = false;\n                    this._owner.on(fgui.Event.ROLL_OVER, this.onRollOver, this);\n                    this._owner.on(fgui.Event.ROLL_OUT, this.onRollOut, this);\n                }\n            }\n            if (headerRes) {\n                this._header = (fgui.UIPackage.createObjectFromURL(headerRes));\n                if (this._header == null)\n                    throw \"cannot create scrollPane header from \" + headerRes;\n                else\n                    this._maskContainer.insertChild(this._header.node, 0);\n            }\n            if (footerRes) {\n                this._footer = (fgui.UIPackage.createObjectFromURL(footerRes));\n                if (this._footer == null)\n                    throw \"cannot create scrollPane footer from \" + footerRes;\n                else\n                    this._maskContainer.insertChild(this._footer.node, 0);\n            }\n            this._refreshBarAxis = (this._scrollType == fgui.ScrollType.Both || this._scrollType == fgui.ScrollType.Vertical) ? \"y\" : \"x\";\n            this.setSize(this._owner.width, this._owner.height);\n        };\n        ScrollPane.prototype.onDestroy = function () {\n            this._pageController = null;\n            if (this._hzScrollBar != null)\n                this._hzScrollBar.dispose();\n            if (this._vtScrollBar != null)\n                this._vtScrollBar.dispose();\n            if (this._header != null)\n                this._header.dispose();\n            if (this._footer != null)\n                this._footer.dispose();\n        };\n        ScrollPane.prototype.hitTest = function (globalPt) {\n            var target;\n            if (this._vtScrollBar) {\n                target = this._vtScrollBar.hitTest(globalPt);\n                if (target)\n                    return target;\n            }\n            if (this._hzScrollBar) {\n                target = this._hzScrollBar.hitTest(globalPt);\n                if (target)\n                    return target;\n            }\n            if (this._header && this._header.node.activeInHierarchy) {\n                target = this._header.hitTest(globalPt);\n                if (target)\n                    return target;\n            }\n            if (this._footer && this._footer.node.activeInHierarchy) {\n                target = this._footer.hitTest(globalPt);\n                if (target)\n                    return target;\n            }\n            var pt = this._maskContainer.convertToNodeSpaceAR(globalPt);\n            pt.x += this._maskContainer.anchorX * this._viewSize.x;\n            pt.y += this._maskContainer.anchorY * this._viewSize.y;\n            if (pt.x >= 0 && pt.y >= 0 && pt.x < this._viewSize.x && pt.y < this._viewSize.y)\n                return this._owner;\n            else\n                return null;\n        };\n        Object.defineProperty(ScrollPane.prototype, \"owner\", {\n            get: function () {\n                return this._owner;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(ScrollPane.prototype, \"hzScrollBar\", {\n            get: function () {\n                return this._hzScrollBar;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(ScrollPane.prototype, \"vtScrollBar\", {\n            get: function () {\n                return this._vtScrollBar;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(ScrollPane.prototype, \"header\", {\n            get: function () {\n                return this._header;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(ScrollPane.prototype, \"footer\", {\n            get: function () {\n                return this._footer;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(ScrollPane.prototype, \"bouncebackEffect\", {\n            get: function () {\n                return this._bouncebackEffect;\n            },\n            set: function (sc) {\n                this._bouncebackEffect = sc;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(ScrollPane.prototype, \"touchEffect\", {\n            get: function () {\n                return this._touchEffect;\n            },\n            set: function (sc) {\n                this._touchEffect = sc;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(ScrollPane.prototype, \"scrollStep\", {\n            get: function () {\n                return this._scrollStep;\n            },\n            set: function (val) {\n                this._scrollStep = val;\n                if (this._scrollStep == 0)\n                    this._scrollStep = fgui.UIConfig.defaultScrollStep;\n                this._mouseWheelStep = this._scrollStep * 2;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(ScrollPane.prototype, \"decelerationRate\", {\n            get: function () {\n                return this._decelerationRate;\n            },\n            set: function (val) {\n                this._decelerationRate = val;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(ScrollPane.prototype, \"snapToItem\", {\n            get: function () {\n                return this._snapToItem;\n            },\n            set: function (value) {\n                this._snapToItem = value;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(ScrollPane.prototype, \"mouseWheelEnabled\", {\n            get: function () {\n                return this._mouseWheelEnabled;\n            },\n            set: function (value) {\n                this._mouseWheelEnabled = value;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(ScrollPane.prototype, \"isDragged\", {\n            get: function () {\n                return this._dragged;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(ScrollPane.prototype, \"percX\", {\n            get: function () {\n                return this._overlapSize.x == 0 ? 0 : this._xPos / this._overlapSize.x;\n            },\n            set: function (value) {\n                this.setPercX(value, false);\n            },\n            enumerable: false,\n            configurable: true\n        });\n        ScrollPane.prototype.setPercX = function (value, ani) {\n            this._owner.ensureBoundsCorrect();\n            this.setPosX(this._overlapSize.x * fgui.ToolSet.clamp01(value), ani);\n        };\n        Object.defineProperty(ScrollPane.prototype, \"percY\", {\n            get: function () {\n                return this._overlapSize.y == 0 ? 0 : this._yPos / this._overlapSize.y;\n            },\n            set: function (value) {\n                this.setPercY(value, false);\n            },\n            enumerable: false,\n            configurable: true\n        });\n        ScrollPane.prototype.setPercY = function (value, ani) {\n            this._owner.ensureBoundsCorrect();\n            this.setPosY(this._overlapSize.y * fgui.ToolSet.clamp01(value), ani);\n        };\n        Object.defineProperty(ScrollPane.prototype, \"posX\", {\n            get: function () {\n                return this._xPos;\n            },\n            set: function (value) {\n                this.setPosX(value, false);\n            },\n            enumerable: false,\n            configurable: true\n        });\n        ScrollPane.prototype.setPosX = function (value, ani) {\n            this._owner.ensureBoundsCorrect();\n            if (this._loop == 1)\n                value = this.loopCheckingNewPos(value, \"x\");\n            value = fgui.ToolSet.clamp(value, 0, this._overlapSize.x);\n            if (value != this._xPos) {\n                this._xPos = value;\n                this.posChanged(ani);\n            }\n        };\n        Object.defineProperty(ScrollPane.prototype, \"posY\", {\n            get: function () {\n                return this._yPos;\n            },\n            set: function (value) {\n                this.setPosY(value, false);\n            },\n            enumerable: false,\n            configurable: true\n        });\n        ScrollPane.prototype.setPosY = function (value, ani) {\n            this._owner.ensureBoundsCorrect();\n            if (this._loop == 1)\n                value = this.loopCheckingNewPos(value, \"y\");\n            value = fgui.ToolSet.clamp(value, 0, this._overlapSize.y);\n            if (value != this._yPos) {\n                this._yPos = value;\n                this.posChanged(ani);\n            }\n        };\n        Object.defineProperty(ScrollPane.prototype, \"contentWidth\", {\n            get: function () {\n                return this._contentSize.x;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(ScrollPane.prototype, \"contentHeight\", {\n            get: function () {\n                return this._contentSize.y;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(ScrollPane.prototype, \"viewWidth\", {\n            get: function () {\n                return this._viewSize.x;\n            },\n            set: function (value) {\n                value = value + this._owner.margin.left + this._owner.margin.right;\n                if (this._vtScrollBar != null && !this._floating)\n                    value += this._vtScrollBar.width;\n                this._owner.width = value;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(ScrollPane.prototype, \"viewHeight\", {\n            get: function () {\n                return this._viewSize.y;\n            },\n            set: function (value) {\n                value = value + this._owner.margin.top + this._owner.margin.bottom;\n                if (this._hzScrollBar != null && !this._floating)\n                    value += this._hzScrollBar.height;\n                this._owner.height = value;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(ScrollPane.prototype, \"currentPageX\", {\n            get: function () {\n                if (!this._pageMode)\n                    return 0;\n                var page = Math.floor(this._xPos / this._pageSize.x);\n                if (this._xPos - page * this._pageSize.x > this._pageSize.x * 0.5)\n                    page++;\n                return page;\n            },\n            set: function (value) {\n                this.setCurrentPageX(value, false);\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(ScrollPane.prototype, \"currentPageY\", {\n            get: function () {\n                if (!this._pageMode)\n                    return 0;\n                var page = Math.floor(this._yPos / this._pageSize.y);\n                if (this._yPos - page * this._pageSize.y > this._pageSize.y * 0.5)\n                    page++;\n                return page;\n            },\n            set: function (value) {\n                this.setCurrentPageY(value, false);\n            },\n            enumerable: false,\n            configurable: true\n        });\n        ScrollPane.prototype.setCurrentPageX = function (value, ani) {\n            if (!this._pageMode)\n                return;\n            this._owner.ensureBoundsCorrect();\n            if (this._overlapSize.x > 0)\n                this.setPosX(value * this._pageSize.x, ani);\n        };\n        ScrollPane.prototype.setCurrentPageY = function (value, ani) {\n            if (!this._pageMode)\n                return;\n            this._owner.ensureBoundsCorrect();\n            if (this._overlapSize.y > 0)\n                this.setPosY(value * this._pageSize.y, ani);\n        };\n        Object.defineProperty(ScrollPane.prototype, \"isBottomMost\", {\n            get: function () {\n                return this._yPos == this._overlapSize.y || this._overlapSize.y == 0;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(ScrollPane.prototype, \"isRightMost\", {\n            get: function () {\n                return this._xPos == this._overlapSize.x || this._overlapSize.x == 0;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(ScrollPane.prototype, \"pageController\", {\n            get: function () {\n                return this._pageController;\n            },\n            set: function (value) {\n                this._pageController = value;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(ScrollPane.prototype, \"scrollingPosX\", {\n            get: function () {\n                return fgui.ToolSet.clamp(-this._container.x, 0, this._overlapSize.x);\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(ScrollPane.prototype, \"scrollingPosY\", {\n            get: function () {\n                return fgui.ToolSet.clamp(-(-this._container.y), 0, this._overlapSize.y);\n            },\n            enumerable: false,\n            configurable: true\n        });\n        ScrollPane.prototype.scrollTop = function (ani) {\n            this.setPercY(0, ani);\n        };\n        ScrollPane.prototype.scrollBottom = function (ani) {\n            this.setPercY(1, ani);\n        };\n        ScrollPane.prototype.scrollUp = function (ratio, ani) {\n            if (ratio == undefined)\n                ratio = 1;\n            if (this._pageMode)\n                this.setPosY(this._yPos - this._pageSize.y * ratio, ani);\n            else\n                this.setPosY(this._yPos - this._scrollStep * ratio, ani);\n            ;\n        };\n        ScrollPane.prototype.scrollDown = function (ratio, ani) {\n            if (ratio == undefined)\n                ratio = 1;\n            if (this._pageMode)\n                this.setPosY(this._yPos + this._pageSize.y * ratio, ani);\n            else\n                this.setPosY(this._yPos + this._scrollStep * ratio, ani);\n        };\n        ScrollPane.prototype.scrollLeft = function (ratio, ani) {\n            if (ratio == undefined)\n                ratio = 1;\n            if (this._pageMode)\n                this.setPosX(this._xPos - this._pageSize.x * ratio, ani);\n            else\n                this.setPosX(this._xPos - this._scrollStep * ratio, ani);\n        };\n        ScrollPane.prototype.scrollRight = function (ratio, ani) {\n            if (ratio == undefined)\n                ratio = 1;\n            if (this._pageMode)\n                this.setPosX(this._xPos + this._pageSize.x * ratio, ani);\n            else\n                this.setPosX(this._xPos + this._scrollStep * ratio, ani);\n        };\n        ScrollPane.prototype.scrollToView = function (target, ani, setFirst) {\n            this._owner.ensureBoundsCorrect();\n            if (this._needRefresh)\n                this.refresh();\n            var rect;\n            if (target instanceof fgui.GObject) {\n                if (target.parent != this._owner) {\n                    target.parent.localToGlobalRect(target.x, target.y, target.width, target.height, ScrollPane.sHelperRect);\n                    rect = this._owner.globalToLocalRect(ScrollPane.sHelperRect.x, ScrollPane.sHelperRect.y, ScrollPane.sHelperRect.width, ScrollPane.sHelperRect.height, ScrollPane.sHelperRect);\n                }\n                else {\n                    rect = ScrollPane.sHelperRect;\n                    rect.x = target.x;\n                    rect.y = target.y;\n                    rect.width = target.width;\n                    rect.height = target.height;\n                }\n            }\n            else\n                rect = target;\n            if (this._overlapSize.y > 0) {\n                var bottom = this._yPos + this._viewSize.y;\n                if (setFirst || rect.y <= this._yPos || rect.height >= this._viewSize.y) {\n                    if (this._pageMode)\n                        this.setPosY(Math.floor(rect.y / this._pageSize.y) * this._pageSize.y, ani);\n                    else\n                        this.setPosY(rect.y, ani);\n                }\n                else if (rect.y + rect.height > bottom) {\n                    if (this._pageMode)\n                        this.setPosY(Math.floor(rect.y / this._pageSize.y) * this._pageSize.y, ani);\n                    else if (rect.height <= this._viewSize.y / 2)\n                        this.setPosY(rect.y + rect.height * 2 - this._viewSize.y, ani);\n                    else\n                        this.setPosY(rect.y + rect.height - this._viewSize.y, ani);\n                }\n            }\n            if (this._overlapSize.x > 0) {\n                var right = this._xPos + this._viewSize.x;\n                if (setFirst || rect.x <= this._xPos || rect.width >= this._viewSize.x) {\n                    if (this._pageMode)\n                        this.setPosX(Math.floor(rect.x / this._pageSize.x) * this._pageSize.x, ani);\n                    else\n                        this.setPosX(rect.x, ani);\n                }\n                else if (rect.x + rect.width > right) {\n                    if (this._pageMode)\n                        this.setPosX(Math.floor(rect.x / this._pageSize.x) * this._pageSize.x, ani);\n                    else if (rect.width <= this._viewSize.x / 2)\n                        this.setPosX(rect.x + rect.width * 2 - this._viewSize.x, ani);\n                    else\n                        this.setPosX(rect.x + rect.width - this._viewSize.x, ani);\n                }\n            }\n            if (!ani && this._needRefresh)\n                this.refresh();\n        };\n        ScrollPane.prototype.isChildInView = function (obj) {\n            if (this._overlapSize.y > 0) {\n                var dist = obj.y + (-this._container.y);\n                if (dist < -obj.height || dist > this._viewSize.y)\n                    return false;\n            }\n            if (this._overlapSize.x > 0) {\n                dist = obj.x + this._container.x;\n                if (dist < -obj.width || dist > this._viewSize.x)\n                    return false;\n            }\n            return true;\n        };\n        ScrollPane.prototype.cancelDragging = function () {\n            if (ScrollPane.draggingPane == this)\n                ScrollPane.draggingPane = null;\n            ScrollPane._gestureFlag = 0;\n            this._dragged = false;\n        };\n        ScrollPane.prototype.lockHeader = function (size) {\n            if (this._headerLockedSize == size)\n                return;\n            var cx = this._container.x;\n            var cy = -this._container.y;\n            var cr = this._refreshBarAxis == \"x\" ? cx : cy;\n            this._headerLockedSize = size;\n            if (!this._refreshEventDispatching && cr >= 0) {\n                this._tweenStart.x = cx;\n                this._tweenStart.y = cy;\n                this._tweenChange.set(cc.Vec2.ZERO);\n                this._tweenChange[this._refreshBarAxis] = this._headerLockedSize - this._tweenStart[this._refreshBarAxis];\n                this._tweenDuration.x = this._tweenDuration.y = ScrollPane.TWEEN_TIME_DEFAULT;\n                this.startTween(2);\n            }\n        };\n        ScrollPane.prototype.lockFooter = function (size) {\n            if (this._footerLockedSize == size)\n                return;\n            var cx = this._container.x;\n            var cy = -this._container.y;\n            var cr = this._refreshBarAxis == \"x\" ? cx : cy;\n            this._footerLockedSize = size;\n            if (!this._refreshEventDispatching && cr <= -this._overlapSize[this._refreshBarAxis]) {\n                this._tweenStart.x = cx;\n                this._tweenStart.y = cy;\n                this._tweenChange.set(cc.Vec2.ZERO);\n                var max = this._overlapSize[this._refreshBarAxis];\n                if (max == 0)\n                    max = Math.max(this._contentSize[this._refreshBarAxis] + this._footerLockedSize - this._viewSize[this._refreshBarAxis], 0);\n                else\n                    max += this._footerLockedSize;\n                this._tweenChange[this._refreshBarAxis] = -max - this._tweenStart[this._refreshBarAxis];\n                this._tweenDuration.x = this._tweenDuration.y = ScrollPane.TWEEN_TIME_DEFAULT;\n                this.startTween(2);\n            }\n        };\n        ScrollPane.prototype.onOwnerSizeChanged = function () {\n            this.setSize(this._owner.width, this._owner.height);\n            this.posChanged(false);\n        };\n        ScrollPane.prototype.handleControllerChanged = function (c) {\n            if (this._pageController == c) {\n                if (this._scrollType == fgui.ScrollType.Horizontal)\n                    this.setCurrentPageX(c.selectedIndex, true);\n                else\n                    this.setCurrentPageY(c.selectedIndex, true);\n            }\n        };\n        ScrollPane.prototype.updatePageController = function () {\n            if (this._pageController != null && !this._pageController.changing) {\n                var index;\n                if (this._scrollType == fgui.ScrollType.Horizontal)\n                    index = this.currentPageX;\n                else\n                    index = this.currentPageY;\n                if (index < this._pageController.pageCount) {\n                    var c = this._pageController;\n                    this._pageController = null;\n                    c.selectedIndex = index;\n                    this._pageController = c;\n                }\n            }\n        };\n        ScrollPane.prototype.adjustMaskContainer = function () {\n            var mx = 0;\n            if (this._displayOnLeft && this._vtScrollBar != null && !this._floating)\n                mx = Math.floor(this._owner.margin.left + this._vtScrollBar.width);\n            this._maskContainer.setAnchorPoint(this._owner._alignOffset.x / this._viewSize.x, 1 - this._owner._alignOffset.y / this._viewSize.y);\n            if (this._owner._customMask)\n                this._maskContainer.setPosition(mx + this._owner._alignOffset.x, -this._owner._alignOffset.y);\n            else\n                this._maskContainer.setPosition(this._owner._pivotCorrectX + mx + this._owner._alignOffset.x, this._owner._pivotCorrectY - this._owner._alignOffset.y);\n        };\n        ScrollPane.prototype.setSize = function (aWidth, aHeight) {\n            if (this._hzScrollBar) {\n                this._hzScrollBar.y = aHeight - this._hzScrollBar.height;\n                if (this._vtScrollBar) {\n                    this._hzScrollBar.width = aWidth - this._vtScrollBar.width - this._scrollBarMargin.left - this._scrollBarMargin.right;\n                    if (this._displayOnLeft)\n                        this._hzScrollBar.x = this._scrollBarMargin.left + this._vtScrollBar.width;\n                    else\n                        this._hzScrollBar.x = this._scrollBarMargin.left;\n                }\n                else {\n                    this._hzScrollBar.width = aWidth - this._scrollBarMargin.left - this._scrollBarMargin.right;\n                    this._hzScrollBar.x = this._scrollBarMargin.left;\n                }\n            }\n            if (this._vtScrollBar) {\n                if (!this._displayOnLeft)\n                    this._vtScrollBar.x = aWidth - this._vtScrollBar.width;\n                if (this._hzScrollBar)\n                    this._vtScrollBar.height = aHeight - this._hzScrollBar.height - this._scrollBarMargin.top - this._scrollBarMargin.bottom;\n                else\n                    this._vtScrollBar.height = aHeight - this._scrollBarMargin.top - this._scrollBarMargin.bottom;\n                this._vtScrollBar.y = this._scrollBarMargin.top;\n            }\n            this._viewSize.x = aWidth;\n            this._viewSize.y = aHeight;\n            if (this._hzScrollBar && !this._floating)\n                this._viewSize.y -= this._hzScrollBar.height;\n            if (this._vtScrollBar && !this._floating)\n                this._viewSize.x -= this._vtScrollBar.width;\n            this._viewSize.x -= (this._owner.margin.left + this._owner.margin.right);\n            this._viewSize.y -= (this._owner.margin.top + this._owner.margin.bottom);\n            this._viewSize.x = Math.max(1, this._viewSize.x);\n            this._viewSize.y = Math.max(1, this._viewSize.y);\n            this._pageSize.x = this._viewSize.x;\n            this._pageSize.y = this._viewSize.y;\n            this.adjustMaskContainer();\n            this.handleSizeChanged();\n        };\n        ScrollPane.prototype.setContentSize = function (aWidth, aHeight) {\n            if (this._contentSize.x == aWidth && this._contentSize.y == aHeight)\n                return;\n            this._contentSize.x = aWidth;\n            this._contentSize.y = aHeight;\n            this.handleSizeChanged();\n        };\n        ScrollPane.prototype.changeContentSizeOnScrolling = function (deltaWidth, deltaHeight, deltaPosX, deltaPosY) {\n            var isRightmost = this._xPos == this._overlapSize.x;\n            var isBottom = this._yPos == this._overlapSize.y;\n            this._contentSize.x += deltaWidth;\n            this._contentSize.y += deltaHeight;\n            this.handleSizeChanged();\n            if (this._tweening == 1) {\n                if (deltaWidth != 0 && isRightmost && this._tweenChange.x < 0) {\n                    this._xPos = this._overlapSize.x;\n                    this._tweenChange.x = -this._xPos - this._tweenStart.x;\n                }\n                if (deltaHeight != 0 && isBottom && this._tweenChange.y < 0) {\n                    this._yPos = this._overlapSize.y;\n                    this._tweenChange.y = -this._yPos - this._tweenStart.y;\n                }\n            }\n            else if (this._tweening == 2) {\n                if (deltaPosX != 0) {\n                    this._container.x -= deltaPosX;\n                    this._tweenStart.x -= deltaPosX;\n                    this._xPos = -this._container.x;\n                }\n                if (deltaPosY != 0) {\n                    this._container.y += deltaPosY;\n                    this._tweenStart.y -= deltaPosY;\n                    this._yPos = -(-this._container.y);\n                }\n            }\n            else if (this._dragged) {\n                if (deltaPosX != 0) {\n                    this._container.x -= deltaPosX;\n                    this._containerPos.x -= deltaPosX;\n                    this._xPos = -this._container.x;\n                }\n                if (deltaPosY != 0) {\n                    this._container.y += deltaPosY;\n                    this._containerPos.y -= deltaPosY;\n                    this._yPos = -(-this._container.y);\n                }\n            }\n            else {\n                if (deltaWidth != 0 && isRightmost) {\n                    this._xPos = this._overlapSize.x;\n                    this._container.x = -this._xPos;\n                }\n                if (deltaHeight != 0 && isBottom) {\n                    this._yPos = this._overlapSize.y;\n                    this._container.y = this._yPos;\n                }\n            }\n            if (this._pageMode)\n                this.updatePageController();\n        };\n        ScrollPane.prototype.handleSizeChanged = function () {\n            if (this._displayInDemand) {\n                this._vScrollNone = this._contentSize.y <= this._viewSize.y;\n                this._hScrollNone = this._contentSize.x <= this._viewSize.x;\n            }\n            if (this._vtScrollBar) {\n                if (this._contentSize.y == 0)\n                    this._vtScrollBar.setDisplayPerc(0);\n                else\n                    this._vtScrollBar.setDisplayPerc(Math.min(1, this._viewSize.y / this._contentSize.y));\n            }\n            if (this._hzScrollBar) {\n                if (this._contentSize.x == 0)\n                    this._hzScrollBar.setDisplayPerc(0);\n                else\n                    this._hzScrollBar.setDisplayPerc(Math.min(1, this._viewSize.x / this._contentSize.x));\n            }\n            this.updateScrollBarVisible();\n            var maskWidth = this._viewSize.x;\n            var maskHeight = this._viewSize.y;\n            if (this._vScrollNone && this._vtScrollBar)\n                maskWidth += this._vtScrollBar.width;\n            if (this._hScrollNone && this._hzScrollBar)\n                maskHeight += this._hzScrollBar.height;\n            this._maskContainer.setContentSize(maskWidth, maskHeight);\n            if (this._vtScrollBar)\n                this._vtScrollBar.handlePositionChanged();\n            if (this._hzScrollBar)\n                this._hzScrollBar.handlePositionChanged();\n            if (this._header)\n                this._header.handlePositionChanged();\n            if (this._footer)\n                this._footer.handlePositionChanged();\n            if (this._scrollType == fgui.ScrollType.Horizontal || this._scrollType == fgui.ScrollType.Both)\n                this._overlapSize.x = Math.ceil(Math.max(0, this._contentSize.x - this._viewSize.x));\n            else\n                this._overlapSize.x = 0;\n            if (this._scrollType == fgui.ScrollType.Vertical || this._scrollType == fgui.ScrollType.Both)\n                this._overlapSize.y = Math.ceil(Math.max(0, this._contentSize.y - this._viewSize.y));\n            else\n                this._overlapSize.y = 0;\n            this._xPos = fgui.ToolSet.clamp(this._xPos, 0, this._overlapSize.x);\n            this._yPos = fgui.ToolSet.clamp(this._yPos, 0, this._overlapSize.y);\n            var max = this._overlapSize[this._refreshBarAxis];\n            if (max == 0)\n                max = Math.max(this._contentSize[this._refreshBarAxis] + this._footerLockedSize - this._viewSize[this._refreshBarAxis], 0);\n            else\n                max += this._footerLockedSize;\n            if (this._refreshBarAxis == \"x\")\n                this._container.setPosition(fgui.ToolSet.clamp(this._container.x, -max, this._headerLockedSize), -fgui.ToolSet.clamp((-this._container.y), -this._overlapSize.y, 0));\n            else\n                this._container.setPosition(fgui.ToolSet.clamp(this._container.x, -this._overlapSize.x, 0), -fgui.ToolSet.clamp((-this._container.y), -max, this._headerLockedSize));\n            if (this._header != null) {\n                if (this._refreshBarAxis == \"x\")\n                    this._header.height = this._viewSize.y;\n                else\n                    this._header.width = this._viewSize.x;\n            }\n            if (this._footer != null) {\n                if (this._refreshBarAxis == \"y\")\n                    this._footer.height = this._viewSize.y;\n                else\n                    this._footer.width = this._viewSize.x;\n            }\n            this.updateScrollBarPos();\n            if (this._pageMode)\n                this.updatePageController();\n        };\n        ScrollPane.prototype.posChanged = function (ani) {\n            if (this._aniFlag == 0)\n                this._aniFlag = ani ? 1 : -1;\n            else if (this._aniFlag == 1 && !ani)\n                this._aniFlag = -1;\n            this._needRefresh = true;\n            if (!cc.director.getScheduler().isScheduled(this.refresh, this))\n                this.scheduleOnce(this.refresh);\n        };\n        ScrollPane.prototype.refresh = function (dt) {\n            this._needRefresh = false;\n            this.unschedule(this.refresh);\n            if (this._pageMode || this._snapToItem) {\n                ScrollPane.sEndPos.x = -this._xPos;\n                ScrollPane.sEndPos.y = -this._yPos;\n                this.alignPosition(ScrollPane.sEndPos, false);\n                this._xPos = -ScrollPane.sEndPos.x;\n                this._yPos = -ScrollPane.sEndPos.y;\n            }\n            this.refresh2();\n            this._owner.node.emit(fgui.Event.SCROLL, this._owner);\n            if (this._needRefresh) {\n                this._needRefresh = false;\n                this.unschedule(this.refresh);\n                this.refresh2();\n            }\n            this.updateScrollBarPos();\n            this._aniFlag = 0;\n        };\n        ScrollPane.prototype.refresh2 = function () {\n            if (this._aniFlag == 1 && !this._dragged) {\n                var posX;\n                var posY;\n                if (this._overlapSize.x > 0)\n                    posX = -Math.floor(this._xPos);\n                else {\n                    if (this._container.x != 0)\n                        this._container.x = 0;\n                    posX = 0;\n                }\n                if (this._overlapSize.y > 0)\n                    posY = -Math.floor(this._yPos);\n                else {\n                    if (this._container.y != 0)\n                        this._container.y = 0;\n                    posY = 0;\n                }\n                if (posX != this._container.x || posY != (-this._container.y)) {\n                    this._tweenDuration.x = this._tweenDuration.y = ScrollPane.TWEEN_TIME_GO;\n                    this._tweenStart.x = this._container.x;\n                    this._tweenStart.y = (-this._container.y);\n                    this._tweenChange.x = posX - this._tweenStart.x;\n                    this._tweenChange.y = posY - this._tweenStart.y;\n                    this.startTween(1);\n                }\n                else if (this._tweening != 0)\n                    this.killTween();\n            }\n            else {\n                if (this._tweening != 0)\n                    this.killTween();\n                this._container.setPosition(Math.floor(-this._xPos), -Math.floor(-this._yPos));\n                this.loopCheckingCurrent();\n            }\n            if (this._pageMode)\n                this.updatePageController();\n        };\n        ScrollPane.prototype.onTouchBegin = function (evt) {\n            if (!this._touchEffect)\n                return;\n            evt.captureTouch();\n            if (this._tweening != 0) {\n                this.killTween();\n                fgui.GRoot.inst.inputProcessor.cancelClick(evt.touchId);\n                this._dragged = true;\n            }\n            else\n                this._dragged = false;\n            var pt = this._owner.globalToLocal(evt.pos.x, evt.pos.y, ScrollPane.sHelperPoint);\n            this._containerPos.x = this._container.x;\n            this._containerPos.y = -this._container.y;\n            this._beginTouchPos.set(pt);\n            this._lastTouchPos.set(pt);\n            this._lastTouchGlobalPos.set(evt.pos);\n            this._isHoldAreaDone = false;\n            this._velocity.set(cc.Vec2.ZERO);\n            ;\n            this._velocityScale = 1;\n            this._lastMoveTime = fgui.ToolSet.getTime();\n        };\n        ScrollPane.prototype.onTouchMove = function (evt) {\n            if (!cc.isValid(this._owner.node))\n                return;\n            if (!this._touchEffect)\n                return;\n            if (fgui.GObject.draggingObject != null && fgui.GObject.draggingObject.onStage)\n                return;\n            if (ScrollPane.draggingPane != null && ScrollPane.draggingPane != this && ScrollPane.draggingPane._owner.onStage)\n                return;\n            var pt = this._owner.globalToLocal(evt.pos.x, evt.pos.y, ScrollPane.sHelperPoint);\n            var sensitivity = fgui.UIConfig.touchScrollSensitivity;\n            var diff, diff2;\n            var sv, sh, st;\n            if (this._scrollType == fgui.ScrollType.Vertical) {\n                if (!this._isHoldAreaDone) {\n                    ScrollPane._gestureFlag |= 1;\n                    diff = Math.abs(this._beginTouchPos.y - pt.y);\n                    if (diff < sensitivity)\n                        return;\n                    if ((ScrollPane._gestureFlag & 2) != 0) {\n                        diff2 = Math.abs(this._beginTouchPos.x - pt.x);\n                        if (diff < diff2)\n                            return;\n                    }\n                }\n                sv = true;\n            }\n            else if (this._scrollType == fgui.ScrollType.Horizontal) {\n                if (!this._isHoldAreaDone) {\n                    ScrollPane._gestureFlag |= 2;\n                    diff = Math.abs(this._beginTouchPos.x - pt.x);\n                    if (diff < sensitivity)\n                        return;\n                    if ((ScrollPane._gestureFlag & 1) != 0) {\n                        diff2 = Math.abs(this._beginTouchPos.y - pt.y);\n                        if (diff < diff2)\n                            return;\n                    }\n                }\n                sh = true;\n            }\n            else {\n                ScrollPane._gestureFlag = 3;\n                if (!this._isHoldAreaDone) {\n                    diff = Math.abs(this._beginTouchPos.y - pt.y);\n                    if (diff < sensitivity) {\n                        diff = Math.abs(this._beginTouchPos.x - pt.x);\n                        if (diff < sensitivity)\n                            return;\n                    }\n                }\n                sv = sh = true;\n            }\n            var newPosX = Math.floor(this._containerPos.x + pt.x - this._beginTouchPos.x);\n            var newPosY = Math.floor(this._containerPos.y + pt.y - this._beginTouchPos.y);\n            if (sv) {\n                if (newPosY > 0) {\n                    if (!this._bouncebackEffect)\n                        this._container.y = 0;\n                    else if (this._header != null && this._header.maxHeight != 0)\n                        this._container.y = -Math.floor(Math.min(newPosY * 0.5, this._header.maxHeight));\n                    else\n                        this._container.y = -Math.floor(Math.min(newPosY * 0.5, this._viewSize.y * ScrollPane.PULL_RATIO));\n                }\n                else if (newPosY < -this._overlapSize.y) {\n                    if (!this._bouncebackEffect)\n                        this._container.y = this._overlapSize.y;\n                    else if (this._footer != null && this._footer.maxHeight > 0)\n                        this._container.y = -Math.floor(Math.max((newPosY + this._overlapSize.y) * 0.5, -this._footer.maxHeight) - this._overlapSize.y);\n                    else\n                        this._container.y = -Math.floor(Math.max((newPosY + this._overlapSize.y) * 0.5, -this._viewSize.y * ScrollPane.PULL_RATIO) - this._overlapSize.y);\n                }\n                else\n                    this._container.y = -newPosY;\n            }\n            if (sh) {\n                if (newPosX > 0) {\n                    if (!this._bouncebackEffect)\n                        this._container.x = 0;\n                    else if (this._header != null && this._header.maxWidth != 0)\n                        this._container.x = Math.floor(Math.min(newPosX * 0.5, this._header.maxWidth));\n                    else\n                        this._container.x = Math.floor(Math.min(newPosX * 0.5, this._viewSize.x * ScrollPane.PULL_RATIO));\n                }\n                else if (newPosX < 0 - this._overlapSize.x) {\n                    if (!this._bouncebackEffect)\n                        this._container.x = -this._overlapSize.x;\n                    else if (this._footer != null && this._footer.maxWidth > 0)\n                        this._container.x = Math.floor(Math.max((newPosX + this._overlapSize.x) * 0.5, -this._footer.maxWidth) - this._overlapSize.x);\n                    else\n                        this._container.x = Math.floor(Math.max((newPosX + this._overlapSize.x) * 0.5, -this._viewSize.x * ScrollPane.PULL_RATIO) - this._overlapSize.x);\n                }\n                else\n                    this._container.x = newPosX;\n            }\n            var now = fgui.ToolSet.getTime();\n            var deltaTime = Math.max(now - this._lastMoveTime, 1 / 60);\n            var deltaPositionX = pt.x - this._lastTouchPos.x;\n            var deltaPositionY = pt.y - this._lastTouchPos.y;\n            if (!sh)\n                deltaPositionX = 0;\n            if (!sv)\n                deltaPositionY = 0;\n            if (deltaTime != 0) {\n                var frameRate = 60;\n                var elapsed = deltaTime * frameRate - 1;\n                if (elapsed > 1) {\n                    var factor = Math.pow(0.833, elapsed);\n                    this._velocity.x = this._velocity.x * factor;\n                    this._velocity.y = this._velocity.y * factor;\n                }\n                this._velocity.x = fgui.ToolSet.lerp(this._velocity.x, deltaPositionX * 60 / frameRate / deltaTime, deltaTime * 10);\n                this._velocity.y = fgui.ToolSet.lerp(this._velocity.y, deltaPositionY * 60 / frameRate / deltaTime, deltaTime * 10);\n            }\n            var deltaGlobalPositionX = this._lastTouchGlobalPos.x - evt.pos.x;\n            var deltaGlobalPositionY = this._lastTouchGlobalPos.y - evt.pos.y;\n            if (deltaPositionX != 0)\n                this._velocityScale = Math.abs(deltaGlobalPositionX / deltaPositionX);\n            else if (deltaPositionY != 0)\n                this._velocityScale = Math.abs(deltaGlobalPositionY / deltaPositionY);\n            this._lastTouchPos.set(pt);\n            this._lastTouchGlobalPos.x = evt.pos.x;\n            this._lastTouchGlobalPos.y = evt.pos.y;\n            this._lastMoveTime = now;\n            if (this._overlapSize.x > 0)\n                this._xPos = fgui.ToolSet.clamp(-this._container.x, 0, this._overlapSize.x);\n            if (this._overlapSize.y > 0)\n                this._yPos = fgui.ToolSet.clamp(-(-this._container.y), 0, this._overlapSize.y);\n            if (this._loop != 0) {\n                newPosX = this._container.x;\n                newPosY = (-this._container.y);\n                if (this.loopCheckingCurrent()) {\n                    this._containerPos.x += this._container.x - newPosX;\n                    this._containerPos.y += (-this._container.y) - newPosY;\n                }\n            }\n            ScrollPane.draggingPane = this;\n            this._isHoldAreaDone = true;\n            this._dragged = true;\n            this.updateScrollBarPos();\n            this.updateScrollBarVisible();\n            if (this._pageMode)\n                this.updatePageController();\n            this._owner.node.emit(fgui.Event.SCROLL), this._owner;\n        };\n        ScrollPane.prototype.onTouchEnd = function (evt) {\n            if (ScrollPane.draggingPane == this)\n                ScrollPane.draggingPane = null;\n            ScrollPane._gestureFlag = 0;\n            if (!this._dragged || !this._touchEffect || !this._owner.node.activeInHierarchy) {\n                this._dragged = false;\n                return;\n            }\n            this._dragged = false;\n            this._tweenStart.x = this._container.x;\n            this._tweenStart.y = -this._container.y;\n            ScrollPane.sEndPos.set(this._tweenStart);\n            var flag = false;\n            if (this._container.x > 0) {\n                ScrollPane.sEndPos.x = 0;\n                flag = true;\n            }\n            else if (this._container.x < -this._overlapSize.x) {\n                ScrollPane.sEndPos.x = -this._overlapSize.x;\n                flag = true;\n            }\n            if ((-this._container.y) > 0) {\n                ScrollPane.sEndPos.y = 0;\n                flag = true;\n            }\n            else if ((-this._container.y) < -this._overlapSize.y) {\n                ScrollPane.sEndPos.y = -this._overlapSize.y;\n                flag = true;\n            }\n            if (flag) {\n                this._tweenChange.x = ScrollPane.sEndPos.x - this._tweenStart.x;\n                this._tweenChange.y = ScrollPane.sEndPos.y - this._tweenStart.y;\n                if (this._tweenChange.x < -fgui.UIConfig.touchDragSensitivity || this._tweenChange.y < -fgui.UIConfig.touchDragSensitivity) {\n                    this._refreshEventDispatching = true;\n                    this._owner.node.emit(fgui.Event.PULL_DOWN_RELEASE), this._owner;\n                    this._refreshEventDispatching = false;\n                }\n                else if (this._tweenChange.x > fgui.UIConfig.touchDragSensitivity || this._tweenChange.y > fgui.UIConfig.touchDragSensitivity) {\n                    this._refreshEventDispatching = true;\n                    this._owner.node.emit(fgui.Event.PULL_UP_RELEASE, this._owner);\n                    this._refreshEventDispatching = false;\n                }\n                if (this._headerLockedSize > 0 && ScrollPane.sEndPos[this._refreshBarAxis] == 0) {\n                    ScrollPane.sEndPos[this._refreshBarAxis] = this._headerLockedSize;\n                    this._tweenChange.x = ScrollPane.sEndPos.x - this._tweenStart.x;\n                    this._tweenChange.y = ScrollPane.sEndPos.y - this._tweenStart.y;\n                }\n                else if (this._footerLockedSize > 0 && ScrollPane.sEndPos[this._refreshBarAxis] == -this._overlapSize[this._refreshBarAxis]) {\n                    var max = this._overlapSize[this._refreshBarAxis];\n                    if (max == 0)\n                        max = Math.max(this._contentSize[this._refreshBarAxis] + this._footerLockedSize - this._viewSize[this._refreshBarAxis], 0);\n                    else\n                        max += this._footerLockedSize;\n                    ScrollPane.sEndPos[this._refreshBarAxis] = -max;\n                    this._tweenChange.x = ScrollPane.sEndPos.x - this._tweenStart.x;\n                    this._tweenChange.y = ScrollPane.sEndPos.y - this._tweenStart.y;\n                }\n                this._tweenDuration.x = this._tweenDuration.y = ScrollPane.TWEEN_TIME_DEFAULT;\n            }\n            else {\n                if (!this._inertiaDisabled) {\n                    var frameRate = 60;\n                    var elapsed = (fgui.ToolSet.getTime() - this._lastMoveTime) * frameRate - 1;\n                    if (elapsed > 1) {\n                        var factor = Math.pow(0.833, elapsed);\n                        this._velocity.x = this._velocity.x * factor;\n                        this._velocity.y = this._velocity.y * factor;\n                    }\n                    this.updateTargetAndDuration(this._tweenStart, ScrollPane.sEndPos);\n                }\n                else\n                    this._tweenDuration.x = this._tweenDuration.y = ScrollPane.TWEEN_TIME_DEFAULT;\n                ScrollPane.sOldChange.x = ScrollPane.sEndPos.x - this._tweenStart.x;\n                ScrollPane.sOldChange.y = ScrollPane.sEndPos.y - this._tweenStart.y;\n                this.loopCheckingTarget(ScrollPane.sEndPos);\n                if (this._pageMode || this._snapToItem)\n                    this.alignPosition(ScrollPane.sEndPos, true);\n                this._tweenChange.x = ScrollPane.sEndPos.x - this._tweenStart.x;\n                this._tweenChange.y = ScrollPane.sEndPos.y - this._tweenStart.y;\n                if (this._tweenChange.x == 0 && this._tweenChange.y == 0) {\n                    this.updateScrollBarVisible();\n                    return;\n                }\n                if (this._pageMode || this._snapToItem) {\n                    this.fixDuration(\"x\", ScrollPane.sOldChange.x);\n                    this.fixDuration(\"y\", ScrollPane.sOldChange.y);\n                }\n            }\n            this.startTween(2);\n        };\n        ScrollPane.prototype.onRollOver = function () {\n            this._hover = true;\n            this.updateScrollBarVisible();\n        };\n        ScrollPane.prototype.onRollOut = function () {\n            this._hover = false;\n            this.updateScrollBarVisible();\n        };\n        ScrollPane.prototype.onMouseWheel = function (evt) {\n            if (!this._mouseWheelEnabled)\n                return;\n            var delta = evt.mouseWheelDelta > 0 ? -1 : 1;\n            if (this._overlapSize.x > 0 && this._overlapSize.y == 0) {\n                if (this._pageMode)\n                    this.setPosX(this._xPos + this._pageSize.x * delta, false);\n                else\n                    this.setPosX(this._xPos + this._mouseWheelStep * delta, false);\n            }\n            else {\n                if (this._pageMode)\n                    this.setPosY(this._yPos + this._pageSize.y * delta, false);\n                else\n                    this.setPosY(this._yPos + this._mouseWheelStep * delta, false);\n            }\n        };\n        ScrollPane.prototype.updateScrollBarPos = function () {\n            if (this._vtScrollBar != null)\n                this._vtScrollBar.setScrollPerc(this._overlapSize.y == 0 ? 0 : fgui.ToolSet.clamp(this._container.y, 0, this._overlapSize.y) / this._overlapSize.y);\n            if (this._hzScrollBar != null)\n                this._hzScrollBar.setScrollPerc(this._overlapSize.x == 0 ? 0 : fgui.ToolSet.clamp(-this._container.x, 0, this._overlapSize.x) / this._overlapSize.x);\n            this.checkRefreshBar();\n        };\n        ScrollPane.prototype.updateScrollBarVisible = function () {\n            if (this._vtScrollBar) {\n                if (this._viewSize.y <= this._vtScrollBar.minSize || this._vScrollNone)\n                    this._vtScrollBar.node.active = false;\n                else\n                    this.updateScrollBarVisible2(this._vtScrollBar);\n            }\n            if (this._hzScrollBar) {\n                if (this._viewSize.x <= this._hzScrollBar.minSize || this._hScrollNone)\n                    this._hzScrollBar.node.active = false;\n                else\n                    this.updateScrollBarVisible2(this._hzScrollBar);\n            }\n        };\n        ScrollPane.prototype.updateScrollBarVisible2 = function (bar) {\n            if (this._scrollBarDisplayAuto)\n                fgui.GTween.kill(bar, false, \"alpha\");\n            if (this._scrollBarDisplayAuto && !this._hover && this._tweening == 0 && !this._dragged && !bar.gripDragging) {\n                if (bar.node.active)\n                    fgui.GTween.to(1, 0, 0.5).setDelay(0.5).onComplete(this.__barTweenComplete, this).setTarget(bar, \"alpha\");\n            }\n            else {\n                bar.alpha = 1;\n                bar.node.active = true;\n            }\n        };\n        ScrollPane.prototype.__barTweenComplete = function (tweener) {\n            var bar = (tweener.target);\n            bar.alpha = 1;\n            bar.node.active = false;\n        };\n        ScrollPane.prototype.getLoopPartSize = function (division, axis) {\n            return (this._contentSize[axis] + (axis == \"x\" ? this._owner.columnGap : this._owner.lineGap)) / division;\n        };\n        ScrollPane.prototype.loopCheckingCurrent = function () {\n            var changed = false;\n            if (this._loop == 1 && this._overlapSize.x > 0) {\n                if (this._xPos < 0.001) {\n                    this._xPos += this.getLoopPartSize(2, \"x\");\n                    changed = true;\n                }\n                else if (this._xPos >= this._overlapSize.x) {\n                    this._xPos -= this.getLoopPartSize(2, \"x\");\n                    changed = true;\n                }\n            }\n            else if (this._loop == 2 && this._overlapSize.y > 0) {\n                if (this._yPos < 0.001) {\n                    this._yPos += this.getLoopPartSize(2, \"y\");\n                    changed = true;\n                }\n                else if (this._yPos >= this._overlapSize.y) {\n                    this._yPos -= this.getLoopPartSize(2, \"y\");\n                    changed = true;\n                }\n            }\n            if (changed) {\n                this._container.setPosition(Math.floor(-this._xPos), -Math.floor(-this._yPos));\n            }\n            return changed;\n        };\n        ScrollPane.prototype.loopCheckingTarget = function (endPos) {\n            if (this._loop == 1)\n                this.loopCheckingTarget2(endPos, \"x\");\n            if (this._loop == 2)\n                this.loopCheckingTarget2(endPos, \"y\");\n        };\n        ScrollPane.prototype.loopCheckingTarget2 = function (endPos, axis) {\n            var halfSize;\n            var tmp;\n            if (endPos[axis] > 0) {\n                halfSize = this.getLoopPartSize(2, axis);\n                tmp = this._tweenStart[axis] - halfSize;\n                if (tmp <= 0 && tmp >= -this._overlapSize[axis]) {\n                    endPos[axis] -= halfSize;\n                    this._tweenStart[axis] = tmp;\n                }\n            }\n            else if (endPos[axis] < -this._overlapSize[axis]) {\n                halfSize = this.getLoopPartSize(2, axis);\n                tmp = this._tweenStart[axis] + halfSize;\n                if (tmp <= 0 && tmp >= -this._overlapSize[axis]) {\n                    endPos[axis] += halfSize;\n                    this._tweenStart[axis] = tmp;\n                }\n            }\n        };\n        ScrollPane.prototype.loopCheckingNewPos = function (value, axis) {\n            if (this._overlapSize[axis] == 0)\n                return value;\n            var pos = axis == \"x\" ? this._xPos : this._yPos;\n            var changed = false;\n            var v;\n            if (value < 0.001) {\n                value += this.getLoopPartSize(2, axis);\n                if (value > pos) {\n                    v = this.getLoopPartSize(6, axis);\n                    v = Math.ceil((value - pos) / v) * v;\n                    pos = fgui.ToolSet.clamp(pos + v, 0, this._overlapSize[axis]);\n                    changed = true;\n                }\n            }\n            else if (value >= this._overlapSize[axis]) {\n                value -= this.getLoopPartSize(2, axis);\n                if (value < pos) {\n                    v = this.getLoopPartSize(6, axis);\n                    v = Math.ceil((pos - value) / v) * v;\n                    pos = fgui.ToolSet.clamp(pos - v, 0, this._overlapSize[axis]);\n                    changed = true;\n                }\n            }\n            if (changed) {\n                if (axis == \"x\")\n                    this._container.x = -Math.floor(pos);\n                else\n                    this._container.y = Math.floor(pos);\n            }\n            return value;\n        };\n        ScrollPane.prototype.alignPosition = function (pos, inertialScrolling) {\n            if (this._pageMode) {\n                pos.x = this.alignByPage(pos.x, \"x\", inertialScrolling);\n                pos.y = this.alignByPage(pos.y, \"y\", inertialScrolling);\n            }\n            else if (this._snapToItem) {\n                var pt = this._owner.getSnappingPosition(-pos.x, -pos.y, ScrollPane.sHelperPoint);\n                if (pos.x < 0 && pos.x > -this._overlapSize.x)\n                    pos.x = -pt.x;\n                if (pos.y < 0 && pos.y > -this._overlapSize.y)\n                    pos.y = -pt.y;\n            }\n        };\n        ScrollPane.prototype.alignByPage = function (pos, axis, inertialScrolling) {\n            var page;\n            if (pos > 0)\n                page = 0;\n            else if (pos < -this._overlapSize[axis])\n                page = Math.ceil(this._contentSize[axis] / this._pageSize[axis]) - 1;\n            else {\n                page = Math.floor(-pos / this._pageSize[axis]);\n                var change = inertialScrolling ? (pos - this._containerPos[axis]) : (pos - (axis == \"x\" ? this._container.x : (-this._container.y)));\n                var testPageSize = Math.min(this._pageSize[axis], this._contentSize[axis] - (page + 1) * this._pageSize[axis]);\n                var delta = -pos - page * this._pageSize[axis];\n                if (Math.abs(change) > this._pageSize[axis]) {\n                    if (delta > testPageSize * 0.5)\n                        page++;\n                }\n                else {\n                    if (delta > testPageSize * (change < 0 ? 0.3 : 0.7))\n                        page++;\n                }\n                pos = -page * this._pageSize[axis];\n                if (pos < -this._overlapSize[axis])\n                    pos = -this._overlapSize[axis];\n            }\n            if (inertialScrolling) {\n                var oldPos = this._tweenStart[axis];\n                var oldPage;\n                if (oldPos > 0)\n                    oldPage = 0;\n                else if (oldPos < -this._overlapSize[axis])\n                    oldPage = Math.ceil(this._contentSize[axis] / this._pageSize[axis]) - 1;\n                else\n                    oldPage = Math.floor(-oldPos / this._pageSize[axis]);\n                var startPage = Math.floor(-this._containerPos[axis] / this._pageSize[axis]);\n                if (Math.abs(page - startPage) > 1 && Math.abs(oldPage - startPage) <= 1) {\n                    if (page > startPage)\n                        page = startPage + 1;\n                    else\n                        page = startPage - 1;\n                    pos = -page * this._pageSize[axis];\n                }\n            }\n            return pos;\n        };\n        ScrollPane.prototype.updateTargetAndDuration = function (orignPos, resultPos) {\n            resultPos.x = this.updateTargetAndDuration2(orignPos.x, \"x\");\n            resultPos.y = this.updateTargetAndDuration2(orignPos.y, \"y\");\n        };\n        ScrollPane.prototype.updateTargetAndDuration2 = function (pos, axis) {\n            var v = this._velocity[axis];\n            var duration = 0;\n            if (pos > 0)\n                pos = 0;\n            else if (pos < -this._overlapSize[axis])\n                pos = -this._overlapSize[axis];\n            else {\n                var isMobile = cc.sys.isMobile;\n                var v2 = Math.abs(v) * this._velocityScale;\n                if (isMobile)\n                    v2 *= 1136 / Math.max(cc.winSize.width, cc.winSize.height);\n                var ratio = 0;\n                if (this._pageMode || !isMobile) {\n                    if (v2 > 500)\n                        ratio = Math.pow((v2 - 500) / 500, 2);\n                }\n                else {\n                    if (v2 > 1000)\n                        ratio = Math.pow((v2 - 1000) / 1000, 2);\n                }\n                if (ratio != 0) {\n                    if (ratio > 1)\n                        ratio = 1;\n                    v2 *= ratio;\n                    v *= ratio;\n                    this._velocity[axis] = v;\n                    duration = Math.log(60 / v2) / Math.log(this._decelerationRate) / 60;\n                    var change = Math.floor(v * duration * 0.4);\n                    pos += change;\n                }\n            }\n            if (duration < ScrollPane.TWEEN_TIME_DEFAULT)\n                duration = ScrollPane.TWEEN_TIME_DEFAULT;\n            this._tweenDuration[axis] = duration;\n            return pos;\n        };\n        ScrollPane.prototype.fixDuration = function (axis, oldChange) {\n            if (this._tweenChange[axis] == 0 || Math.abs(this._tweenChange[axis]) >= Math.abs(oldChange))\n                return;\n            var newDuration = Math.abs(this._tweenChange[axis] / oldChange) * this._tweenDuration[axis];\n            if (newDuration < ScrollPane.TWEEN_TIME_DEFAULT)\n                newDuration = ScrollPane.TWEEN_TIME_DEFAULT;\n            this._tweenDuration[axis] = newDuration;\n        };\n        ScrollPane.prototype.startTween = function (type) {\n            this._tweenTime.set(cc.Vec2.ZERO);\n            this._tweening = type;\n            this.updateScrollBarVisible();\n        };\n        ScrollPane.prototype.killTween = function () {\n            if (this._tweening == 1) {\n                this._container.setPosition(this._tweenStart.x + this._tweenChange.x, -(this._tweenStart.y + this._tweenChange.y));\n                this._owner.node.emit(fgui.Event.SCROLL, this._owner);\n            }\n            this._tweening = 0;\n            this.updateScrollBarVisible();\n            this._owner.node.emit(fgui.Event.SCROLL_END, this._owner);\n        };\n        ScrollPane.prototype.checkRefreshBar = function () {\n            if (this._header == null && this._footer == null)\n                return;\n            var pos = (this._refreshBarAxis == \"x\" ? this._container.x : (-this._container.y));\n            if (this._header != null) {\n                if (pos > 0) {\n                    this._header.node.active = true;\n                    var pt = ScrollPane.sHelperPoint;\n                    pt.x = this._header.width;\n                    pt.y = this._header.height;\n                    pt[this._refreshBarAxis] = pos;\n                    this._header.setSize(pt.x, pt.y);\n                }\n                else {\n                    this._header.node.active = false;\n                }\n            }\n            if (this._footer != null) {\n                var max = this._overlapSize[this._refreshBarAxis];\n                if (pos < -max || max == 0 && this._footerLockedSize > 0) {\n                    this._footer.node.active = true;\n                    pt = ScrollPane.sHelperPoint;\n                    pt.x = this._footer.x;\n                    pt.y = this._footer.y;\n                    if (max > 0)\n                        pt[this._refreshBarAxis] = pos + this._contentSize[this._refreshBarAxis];\n                    else\n                        pt[this._refreshBarAxis] = Math.max(Math.min(pos + this._viewSize[this._refreshBarAxis], this._viewSize[this._refreshBarAxis] - this._footerLockedSize), this._viewSize[this._refreshBarAxis] - this._contentSize[this._refreshBarAxis]);\n                    this._footer.setPosition(pt.x, pt.y);\n                    pt.x = this._footer.width;\n                    pt.y = this._footer.height;\n                    if (max > 0)\n                        pt[this._refreshBarAxis] = -max - pos;\n                    else\n                        pt[this._refreshBarAxis] = this._viewSize[this._refreshBarAxis] - this._footer[this._refreshBarAxis];\n                    this._footer.setSize(pt.x, pt.y);\n                }\n                else {\n                    this._footer.node.active = false;\n                }\n            }\n        };\n        ScrollPane.prototype.update = function (dt) {\n            if (this._tweening == 0)\n                return;\n            var nx = this.runTween(\"x\", dt);\n            var ny = this.runTween(\"y\", dt);\n            this._container.setPosition(nx, -ny);\n            if (this._tweening == 2) {\n                if (this._overlapSize.x > 0)\n                    this._xPos = fgui.ToolSet.clamp(-nx, 0, this._overlapSize.x);\n                if (this._overlapSize.y > 0)\n                    this._yPos = fgui.ToolSet.clamp(-ny, 0, this._overlapSize.y);\n                if (this._pageMode)\n                    this.updatePageController();\n            }\n            if (this._tweenChange.x == 0 && this._tweenChange.y == 0) {\n                this._tweening = 0;\n                this.loopCheckingCurrent();\n                this.updateScrollBarPos();\n                this.updateScrollBarVisible();\n                this._owner.node.emit(fgui.Event.SCROLL, this._owner);\n                this._owner.node.emit(fgui.Event.SCROLL_END, this._owner);\n            }\n            else {\n                this.updateScrollBarPos();\n                this._owner.node.emit(fgui.Event.SCROLL, this._owner);\n            }\n            return true;\n        };\n        ScrollPane.prototype.runTween = function (axis, dt) {\n            var newValue;\n            if (this._tweenChange[axis] != 0) {\n                this._tweenTime[axis] += dt;\n                if (this._tweenTime[axis] >= this._tweenDuration[axis]) {\n                    newValue = this._tweenStart[axis] + this._tweenChange[axis];\n                    this._tweenChange[axis] = 0;\n                }\n                else {\n                    var ratio = ScrollPane.easeFunc(this._tweenTime[axis], this._tweenDuration[axis]);\n                    newValue = this._tweenStart[axis] + Math.floor(this._tweenChange[axis] * ratio);\n                }\n                var threshold1 = 0;\n                var threshold2 = -this._overlapSize[axis];\n                if (this._headerLockedSize > 0 && this._refreshBarAxis == axis)\n                    threshold1 = this._headerLockedSize;\n                if (this._footerLockedSize > 0 && this._refreshBarAxis == axis) {\n                    var max = this._overlapSize[this._refreshBarAxis];\n                    if (max == 0)\n                        max = Math.max(this._contentSize[this._refreshBarAxis] + this._footerLockedSize - this._viewSize[this._refreshBarAxis], 0);\n                    else\n                        max += this._footerLockedSize;\n                    threshold2 = -max;\n                }\n                if (this._tweening == 2 && this._bouncebackEffect) {\n                    if (newValue > 20 + threshold1 && this._tweenChange[axis] > 0\n                        || newValue > threshold1 && this._tweenChange[axis] == 0) {\n                        this._tweenTime[axis] = 0;\n                        this._tweenDuration[axis] = ScrollPane.TWEEN_TIME_DEFAULT;\n                        this._tweenChange[axis] = -newValue + threshold1;\n                        this._tweenStart[axis] = newValue;\n                    }\n                    else if (newValue < threshold2 - 20 && this._tweenChange[axis] < 0\n                        || newValue < threshold2 && this._tweenChange[axis] == 0) {\n                        this._tweenTime[axis] = 0;\n                        this._tweenDuration[axis] = ScrollPane.TWEEN_TIME_DEFAULT;\n                        this._tweenChange[axis] = threshold2 - newValue;\n                        this._tweenStart[axis] = newValue;\n                    }\n                }\n                else {\n                    if (newValue > threshold1) {\n                        newValue = threshold1;\n                        this._tweenChange[axis] = 0;\n                    }\n                    else if (newValue < threshold2) {\n                        newValue = threshold2;\n                        this._tweenChange[axis] = 0;\n                    }\n                }\n            }\n            else\n                newValue = (axis == \"x\" ? this._container.x : (-this._container.y));\n            return newValue;\n        };\n        ScrollPane.easeFunc = function (t, d) {\n            return (t = t / d - 1) * t * t + 1;\n        };\n        ScrollPane._gestureFlag = 0;\n        ScrollPane.TWEEN_TIME_GO = 0.5;\n        ScrollPane.TWEEN_TIME_DEFAULT = 0.3;\n        ScrollPane.PULL_RATIO = 0.5;\n        ScrollPane.sHelperPoint = new cc.Vec2();\n        ScrollPane.sHelperRect = new cc.Rect();\n        ScrollPane.sEndPos = new cc.Vec2();\n        ScrollPane.sOldChange = new cc.Vec2();\n        return ScrollPane;\n    }(cc.Component));\n    fgui.ScrollPane = ScrollPane;\n})(fgui || (fgui = {}));\nvar fgui;\n(function (fgui) {\n    var Transition = (function () {\n        function Transition(owner) {\n            this._ownerBaseX = 0;\n            this._ownerBaseY = 0;\n            this._totalTimes = 0;\n            this._totalTasks = 0;\n            this._playing = false;\n            this._paused = false;\n            this._options = 0;\n            this._reversed = false;\n            this._totalDuration = 0;\n            this._autoPlay = false;\n            this._autoPlayTimes = 1;\n            this._autoPlayDelay = 0;\n            this._timeScale = 1;\n            this._startTime = 0;\n            this._endTime = 0;\n            this._owner = owner;\n            this._items = new Array();\n        }\n        Transition.prototype.play = function (onComplete, times, delay, startTime, endTime) {\n            this._play(onComplete, times, delay, startTime, endTime, false);\n        };\n        Transition.prototype.playReverse = function (onComplete, times, delay) {\n            this._play(onComplete, times, delay, 0, -1, true);\n        };\n        Transition.prototype.changePlayTimes = function (value) {\n            this._totalTimes = value;\n        };\n        Transition.prototype.setAutoPlay = function (value, times, delay) {\n            if (times == undefined)\n                times = -1;\n            if (delay == undefined)\n                delay = 0;\n            if (this._autoPlay != value) {\n                this._autoPlay = value;\n                this._autoPlayTimes = times;\n                this._autoPlayDelay = delay;\n                if (this._autoPlay) {\n                    if (this._owner.onStage)\n                        this.play(null, this._autoPlayTimes, this._autoPlayDelay);\n                }\n                else {\n                    if (!this._owner.onStage)\n                        this.stop(false, true);\n                }\n            }\n        };\n        Transition.prototype._play = function (onComplete, times, delay, startTime, endTime, reversed) {\n            if (times == undefined)\n                times = 1;\n            if (delay == undefined)\n                delay = 0;\n            if (startTime == undefined)\n                startTime = 0;\n            if (endTime == undefined)\n                endTime = -1;\n            this.stop(true, true);\n            this._totalTimes = times;\n            this._reversed = reversed;\n            this._startTime = startTime;\n            this._endTime = endTime;\n            this._playing = true;\n            this._paused = false;\n            this._onComplete = onComplete;\n            var cnt = this._items.length;\n            for (var i = 0; i < cnt; i++) {\n                var item = this._items[i];\n                if (item.target == null) {\n                    if (item.targetId)\n                        item.target = this._owner.getChildById(item.targetId);\n                    else\n                        item.target = this._owner;\n                }\n                else if (item.target != this._owner && item.target.parent != this._owner)\n                    item.target = null;\n                if (item.target != null && item.type == TransitionActionType.Transition) {\n                    var trans = item.target.getTransition(item.value.transName);\n                    if (trans == this)\n                        trans = null;\n                    if (trans != null) {\n                        if (item.value.playTimes == 0) {\n                            var j;\n                            for (j = i - 1; j >= 0; j--) {\n                                var item2 = this._items[j];\n                                if (item2.type == TransitionActionType.Transition) {\n                                    if (item2.value.trans == trans) {\n                                        item2.value.stopTime = item.time - item2.time;\n                                        break;\n                                    }\n                                }\n                            }\n                            if (j < 0)\n                                item.value.stopTime = 0;\n                            else\n                                trans = null;\n                        }\n                        else\n                            item.value.stopTime = -1;\n                    }\n                    item.value.trans = trans;\n                }\n            }\n            if (delay == 0)\n                this.onDelayedPlay();\n            else\n                fgui.GTween.delayedCall(delay).onComplete(this.onDelayedPlay, this);\n        };\n        Transition.prototype.stop = function (setToComplete, processCallback) {\n            if (setToComplete == undefined)\n                setToComplete = true;\n            if (!this._playing)\n                return;\n            this._playing = false;\n            this._totalTasks = 0;\n            this._totalTimes = 0;\n            var func = this._onComplete;\n            this._onComplete = null;\n            fgui.GTween.kill(this);\n            var cnt = this._items.length;\n            if (this._reversed) {\n                for (var i = cnt - 1; i >= 0; i--) {\n                    var item = this._items[i];\n                    if (item.target == null)\n                        continue;\n                    this.stopItem(item, setToComplete);\n                }\n            }\n            else {\n                for (i = 0; i < cnt; i++) {\n                    item = this._items[i];\n                    if (item.target == null)\n                        continue;\n                    this.stopItem(item, setToComplete);\n                }\n            }\n            if (processCallback && func != null) {\n                func();\n            }\n        };\n        Transition.prototype.stopItem = function (item, setToComplete) {\n            if (item.displayLockToken != 0) {\n                item.target.releaseDisplayLock(item.displayLockToken);\n                item.displayLockToken = 0;\n            }\n            if (item.tweener != null) {\n                item.tweener.kill(setToComplete);\n                item.tweener = null;\n                if (item.type == TransitionActionType.Shake && !setToComplete) {\n                    item.target._gearLocked = true;\n                    item.target.setPosition(item.target.x - item.value.lastOffsetX, item.target.y - item.value.lastOffsetY);\n                    item.target._gearLocked = false;\n                }\n            }\n            if (item.type == TransitionActionType.Transition) {\n                var trans = item.value.trans;\n                if (trans != null)\n                    trans.stop(setToComplete, false);\n            }\n        };\n        Transition.prototype.setPaused = function (paused) {\n            if (!this._playing || this._paused == paused)\n                return;\n            this._paused = paused;\n            var tweener = fgui.GTween.getTween(this);\n            if (tweener != null)\n                tweener.setPaused(paused);\n            var cnt = this._items.length;\n            for (var i = 0; i < cnt; i++) {\n                var item = this._items[i];\n                if (item.target == null)\n                    continue;\n                if (item.type == TransitionActionType.Transition) {\n                    if (item.value.trans != null)\n                        item.value.trans.setPaused(paused);\n                }\n                else if (item.type == TransitionActionType.Animation) {\n                    if (paused) {\n                        item.value.flag = item.target.getProp(fgui.ObjectPropID.Playing);\n                        item.target.setProp(fgui.ObjectPropID.Playing, false);\n                    }\n                    else\n                        item.target.setProp(fgui.ObjectPropID.Playing, item.value.flag);\n                }\n                if (item.tweener != null)\n                    item.tweener.setPaused(paused);\n            }\n        };\n        Transition.prototype.dispose = function () {\n            if (this._playing)\n                fgui.GTween.kill(this);\n            var cnt = this._items.length;\n            for (var i = 0; i < cnt; i++) {\n                var item = this._items[i];\n                if (item.tweener != null) {\n                    item.tweener.kill();\n                    item.tweener = null;\n                }\n                item.target = null;\n                item.hook = null;\n                if (item.tweenConfig != null)\n                    item.tweenConfig.endHook = null;\n            }\n            this._items.length = 0;\n            this._playing = false;\n            this._onComplete = null;\n        };\n        Object.defineProperty(Transition.prototype, \"playing\", {\n            get: function () {\n                return this._playing;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Transition.prototype.setValue = function (label) {\n            var args = [];\n            for (var _i = 1; _i < arguments.length; _i++) {\n                args[_i - 1] = arguments[_i];\n            }\n            var cnt = this._items.length;\n            var value;\n            for (var i = 0; i < cnt; i++) {\n                var item = this._items[i];\n                if (item.label == label) {\n                    if (item.tweenConfig != null)\n                        value = item.tweenConfig.startValue;\n                    else\n                        value = item.value;\n                }\n                else if (item.tweenConfig != null && item.tweenConfig.endLabel == label) {\n                    value = item.tweenConfig.endValue;\n                }\n                else\n                    continue;\n                switch (item.type) {\n                    case TransitionActionType.XY:\n                    case TransitionActionType.Size:\n                    case TransitionActionType.Pivot:\n                    case TransitionActionType.Scale:\n                    case TransitionActionType.Skew:\n                        value.b1 = true;\n                        value.b2 = true;\n                        value.f1 = parseFloat(args[0]);\n                        value.f2 = parseFloat(args[1]);\n                        break;\n                    case TransitionActionType.Alpha:\n                        value.f1 = parseFloat(args[0]);\n                        break;\n                    case TransitionActionType.Rotation:\n                        value.f1 = parseFloat(args[0]);\n                        break;\n                    case TransitionActionType.Color:\n                        value.f1 = parseFloat(args[0]);\n                        break;\n                    case TransitionActionType.Animation:\n                        value.frame = parseInt(args[0]);\n                        if (args.length > 1)\n                            value.playing = args[1];\n                        break;\n                    case TransitionActionType.Visible:\n                        value.visible = args[0];\n                        break;\n                    case TransitionActionType.Sound:\n                        value.sound = args[0];\n                        if (args.length > 1)\n                            value.volume = parseFloat(args[1]);\n                        break;\n                    case TransitionActionType.Transition:\n                        value.transName = args[0];\n                        if (args.length > 1)\n                            value.playTimes = parseInt(args[1]);\n                        break;\n                    case TransitionActionType.Shake:\n                        value.amplitude = parseFloat(args[0]);\n                        if (args.length > 1)\n                            value.duration = parseFloat(args[1]);\n                        break;\n                    case TransitionActionType.ColorFilter:\n                        value.f1 = parseFloat(args[0]);\n                        value.f2 = parseFloat(args[1]);\n                        value.f3 = parseFloat(args[2]);\n                        value.f4 = parseFloat(args[3]);\n                        break;\n                    case TransitionActionType.Text:\n                    case TransitionActionType.Icon:\n                        value.text = args[0];\n                        break;\n                }\n            }\n        };\n        Transition.prototype.setHook = function (label, callback) {\n            var cnt = this._items.length;\n            for (var i = 0; i < cnt; i++) {\n                var item = this._items[i];\n                if (item.label == label) {\n                    item.hook = callback;\n                    break;\n                }\n                else if (item.tweenConfig != null && item.tweenConfig.endLabel == label) {\n                    item.tweenConfig.endHook = callback;\n                    break;\n                }\n            }\n        };\n        Transition.prototype.clearHooks = function () {\n            var cnt = this._items.length;\n            for (var i = 0; i < cnt; i++) {\n                var item = this._items[i];\n                item.hook = null;\n                if (item.tweenConfig != null)\n                    item.tweenConfig.endHook = null;\n            }\n        };\n        Transition.prototype.setTarget = function (label, newTarget) {\n            var cnt = this._items.length;\n            for (var i = 0; i < cnt; i++) {\n                var item = this._items[i];\n                if (item.label == label) {\n                    item.targetId = newTarget.id;\n                    item.target = null;\n                }\n            }\n        };\n        Transition.prototype.setDuration = function (label, value) {\n            var cnt = this._items.length;\n            for (var i = 0; i < cnt; i++) {\n                var item = this._items[i];\n                if (item.tweenConfig != null && item.label == label)\n                    item.tweenConfig.duration = value;\n            }\n        };\n        Transition.prototype.getLabelTime = function (label) {\n            var cnt = this._items.length;\n            for (var i = 0; i < cnt; i++) {\n                var item = this._items[i];\n                if (item.label == label)\n                    return item.time;\n                else if (item.tweenConfig != null && item.tweenConfig.endLabel == label)\n                    return item.time + item.tweenConfig.duration;\n            }\n            return Number.NaN;\n        };\n        Object.defineProperty(Transition.prototype, \"timeScale\", {\n            get: function () {\n                return this._timeScale;\n            },\n            set: function (value) {\n                if (this._timeScale != value) {\n                    this._timeScale = value;\n                    if (this._playing) {\n                        var cnt = this._items.length;\n                        for (var i = 0; i < cnt; i++) {\n                            var item = this._items[i];\n                            if (item.tweener != null)\n                                item.tweener.setTimeScale(value);\n                            else if (item.type == TransitionActionType.Transition) {\n                                if (item.value.trans != null)\n                                    item.value.trans.timeScale = value;\n                            }\n                            else if (item.type == TransitionActionType.Animation) {\n                                if (item.target != null)\n                                    item.target.setProp(fgui.ObjectPropID.TimeScale, value);\n                            }\n                        }\n                    }\n                }\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Transition.prototype.updateFromRelations = function (targetId, dx, dy) {\n            var cnt = this._items.length;\n            if (cnt == 0)\n                return;\n            for (var i = 0; i < cnt; i++) {\n                var item = this._items[i];\n                if (item.type == TransitionActionType.XY && item.targetId == targetId) {\n                    if (item.tweenConfig != null) {\n                        item.tweenConfig.startValue.f1 += dx;\n                        item.tweenConfig.startValue.f2 += dy;\n                        item.tweenConfig.endValue.f1 += dx;\n                        item.tweenConfig.endValue.f2 += dy;\n                    }\n                    else {\n                        item.value.f1 += dx;\n                        item.value.f2 += dy;\n                    }\n                }\n            }\n        };\n        Transition.prototype.onEnable = function () {\n            if (this._autoPlay && !this._playing)\n                this.play(null, this._autoPlayTimes, this._autoPlayDelay);\n        };\n        Transition.prototype.onDisable = function () {\n            if ((this._options & Transition.OPTION_AUTO_STOP_DISABLED) == 0)\n                this.stop((this._options & Transition.OPTION_AUTO_STOP_AT_END) != 0 ? true : false, false);\n        };\n        Transition.prototype.onDelayedPlay = function () {\n            this.internalPlay();\n            this._playing = this._totalTasks > 0;\n            if (this._playing) {\n                if ((this._options & Transition.OPTION_IGNORE_DISPLAY_CONTROLLER) != 0) {\n                    var cnt = this._items.length;\n                    for (var i = 0; i < cnt; i++) {\n                        var item = this._items[i];\n                        if (item.target != null && item.target != this._owner)\n                            item.displayLockToken = item.target.addDisplayLock();\n                    }\n                }\n            }\n            else if (this._onComplete != null) {\n                var func = this._onComplete;\n                this._onComplete = null;\n                func();\n            }\n        };\n        Transition.prototype.internalPlay = function () {\n            this._ownerBaseX = this._owner.x;\n            this._ownerBaseY = this._owner.y;\n            this._totalTasks = 0;\n            var cnt = this._items.length;\n            var item;\n            var needSkipAnimations = false;\n            var i;\n            if (!this._reversed) {\n                for (i = 0; i < cnt; i++) {\n                    item = this._items[i];\n                    if (item.target == null)\n                        continue;\n                    if (item.type == TransitionActionType.Animation && this._startTime != 0 && item.time <= this._startTime) {\n                        needSkipAnimations = true;\n                        item.value.flag = false;\n                    }\n                    else\n                        this.playItem(item);\n                }\n            }\n            else {\n                for (i = cnt - 1; i >= 0; i--) {\n                    item = this._items[i];\n                    if (item.target == null)\n                        continue;\n                    this.playItem(item);\n                }\n            }\n            if (needSkipAnimations)\n                this.skipAnimations();\n        };\n        Transition.prototype.playItem = function (item) {\n            var time;\n            if (item.tweenConfig != null) {\n                if (this._reversed)\n                    time = (this._totalDuration - item.time - item.tweenConfig.duration);\n                else\n                    time = item.time;\n                if (this._endTime == -1 || time <= this._endTime) {\n                    var startValue;\n                    var endValue;\n                    if (this._reversed) {\n                        startValue = item.tweenConfig.endValue;\n                        endValue = item.tweenConfig.startValue;\n                    }\n                    else {\n                        startValue = item.tweenConfig.startValue;\n                        endValue = item.tweenConfig.endValue;\n                    }\n                    item.value.b1 = startValue.b1 || endValue.b1;\n                    item.value.b2 = startValue.b2 || endValue.b2;\n                    switch (item.type) {\n                        case TransitionActionType.XY:\n                        case TransitionActionType.Size:\n                        case TransitionActionType.Scale:\n                        case TransitionActionType.Skew:\n                            item.tweener = fgui.GTween.to2(startValue.f1, startValue.f2, endValue.f1, endValue.f2, item.tweenConfig.duration);\n                            break;\n                        case TransitionActionType.Alpha:\n                        case TransitionActionType.Rotation:\n                            item.tweener = fgui.GTween.to(startValue.f1, endValue.f1, item.tweenConfig.duration);\n                            break;\n                        case TransitionActionType.Color:\n                            item.tweener = fgui.GTween.toColor(startValue.f1, endValue.f1, item.tweenConfig.duration);\n                            break;\n                        case TransitionActionType.ColorFilter:\n                            item.tweener = fgui.GTween.to4(startValue.f1, startValue.f2, startValue.f3, startValue.f4, endValue.f1, endValue.f2, endValue.f3, endValue.f4, item.tweenConfig.duration);\n                            break;\n                    }\n                    item.tweener.setDelay(time)\n                        .setEase(item.tweenConfig.easeType)\n                        .setRepeat(item.tweenConfig.repeat, item.tweenConfig.yoyo)\n                        .setTimeScale(this._timeScale)\n                        .setTarget(item)\n                        .onStart(this.onTweenStart, this)\n                        .onUpdate(this.onTweenUpdate, this)\n                        .onComplete(this.onTweenComplete, this);\n                    if (this._endTime >= 0)\n                        item.tweener.setBreakpoint(this._endTime - time);\n                    this._totalTasks++;\n                }\n            }\n            else if (item.type == TransitionActionType.Shake) {\n                if (this._reversed)\n                    time = (this._totalDuration - item.time - item.value.duration);\n                else\n                    time = item.time;\n                item.value.offsetX = item.value.offsetY = 0;\n                item.value.lastOffsetX = item.value.lastOffsetY = 0;\n                item.tweener = fgui.GTween.shake(0, 0, item.value.amplitude, item.value.duration)\n                    .setDelay(time)\n                    .setTimeScale(this._timeScale)\n                    .setTarget(item)\n                    .onUpdate(this.onTweenUpdate, this)\n                    .onComplete(this.onTweenComplete, this);\n                if (this._endTime >= 0)\n                    item.tweener.setBreakpoint(this._endTime - item.time);\n                this._totalTasks++;\n            }\n            else {\n                if (this._reversed)\n                    time = (this._totalDuration - item.time);\n                else\n                    time = item.time;\n                if (time <= this._startTime) {\n                    this.applyValue(item);\n                    this.callHook(item, false);\n                }\n                else if (this._endTime == -1 || time <= this._endTime) {\n                    this._totalTasks++;\n                    item.tweener = fgui.GTween.delayedCall(time)\n                        .setTimeScale(this._timeScale)\n                        .setTarget(item)\n                        .onComplete(this.onDelayedPlayItem, this);\n                }\n            }\n            if (item.tweener != null)\n                item.tweener.seek(this._startTime);\n        };\n        Transition.prototype.skipAnimations = function () {\n            var frame;\n            var playStartTime;\n            var playTotalTime;\n            var value;\n            var target;\n            var item;\n            var cnt = this._items.length;\n            for (var i = 0; i < cnt; i++) {\n                item = this._items[i];\n                if (item.type != TransitionActionType.Animation || item.time > this._startTime)\n                    continue;\n                value = item.value;\n                if (value.flag)\n                    continue;\n                target = item.target;\n                frame = target.getProp(fgui.ObjectPropID.Frame);\n                playStartTime = target.getProp(fgui.ObjectPropID.Playing) ? 0 : -1;\n                playTotalTime = 0;\n                for (var j = i; j < cnt; j++) {\n                    item = this._items[j];\n                    if (item.type != TransitionActionType.Animation || item.target != target || item.time > this._startTime)\n                        continue;\n                    value = item.value;\n                    value.flag = true;\n                    if (value.frame != -1) {\n                        frame = value.frame;\n                        if (value.playing)\n                            playStartTime = item.time;\n                        else\n                            playStartTime = -1;\n                        playTotalTime = 0;\n                    }\n                    else {\n                        if (value.playing) {\n                            if (playStartTime < 0)\n                                playStartTime = item.time;\n                        }\n                        else {\n                            if (playStartTime >= 0)\n                                playTotalTime += (item.time - playStartTime);\n                            playStartTime = -1;\n                        }\n                    }\n                    this.callHook(item, false);\n                }\n                if (playStartTime >= 0)\n                    playTotalTime += (this._startTime - playStartTime);\n                target.setProp(fgui.ObjectPropID.Playing, playStartTime >= 0);\n                target.setProp(fgui.ObjectPropID.Frame, frame);\n                if (playTotalTime > 0)\n                    target.setProp(fgui.ObjectPropID.DeltaTime, playTotalTime * 1000);\n            }\n        };\n        Transition.prototype.onDelayedPlayItem = function (tweener) {\n            var item = tweener.target;\n            item.tweener = null;\n            this._totalTasks--;\n            this.applyValue(item);\n            this.callHook(item, false);\n            this.checkAllComplete();\n        };\n        Transition.prototype.onTweenStart = function (tweener) {\n            var item = tweener.target;\n            if (item.type == TransitionActionType.XY || item.type == TransitionActionType.Size) {\n                var startValue;\n                var endValue;\n                if (this._reversed) {\n                    startValue = item.tweenConfig.endValue;\n                    endValue = item.tweenConfig.startValue;\n                }\n                else {\n                    startValue = item.tweenConfig.startValue;\n                    endValue = item.tweenConfig.endValue;\n                }\n                if (item.type == TransitionActionType.XY) {\n                    if (item.target != this._owner) {\n                        if (!startValue.b1)\n                            tweener.startValue.x = item.target.x;\n                        else if (startValue.b3)\n                            tweener.startValue.x = startValue.f1 * this._owner.width;\n                        if (!startValue.b2)\n                            tweener.startValue.y = item.target.y;\n                        else if (startValue.b3)\n                            tweener.startValue.y = startValue.f2 * this._owner.height;\n                        if (!endValue.b1)\n                            tweener.endValue.x = tweener.startValue.x;\n                        else if (endValue.b3)\n                            tweener.endValue.x = endValue.f1 * this._owner.width;\n                        if (!endValue.b2)\n                            tweener.endValue.y = tweener.startValue.y;\n                        else if (endValue.b3)\n                            tweener.endValue.y = endValue.f2 * this._owner.height;\n                    }\n                    else {\n                        if (!startValue.b1)\n                            tweener.startValue.x = item.target.x - this._ownerBaseX;\n                        if (!startValue.b2)\n                            tweener.startValue.y = item.target.y - this._ownerBaseY;\n                        if (!endValue.b1)\n                            tweener.endValue.x = tweener.startValue.x;\n                        if (!endValue.b2)\n                            tweener.endValue.y = tweener.startValue.y;\n                    }\n                }\n                else {\n                    if (!startValue.b1)\n                        tweener.startValue.x = item.target.width;\n                    if (!startValue.b2)\n                        tweener.startValue.y = item.target.height;\n                    if (!endValue.b1)\n                        tweener.endValue.x = tweener.startValue.x;\n                    if (!endValue.b2)\n                        tweener.endValue.y = tweener.startValue.y;\n                }\n                if (item.tweenConfig.path) {\n                    item.value.b1 = item.value.b2 = true;\n                    tweener.setPath(item.tweenConfig.path);\n                }\n            }\n            this.callHook(item, false);\n        };\n        Transition.prototype.onTweenUpdate = function (tweener) {\n            var item = tweener.target;\n            switch (item.type) {\n                case TransitionActionType.XY:\n                case TransitionActionType.Size:\n                case TransitionActionType.Scale:\n                case TransitionActionType.Skew:\n                    item.value.f1 = tweener.value.x;\n                    item.value.f2 = tweener.value.y;\n                    if (item.tweenConfig.path) {\n                        item.value.f1 += tweener.startValue.x;\n                        item.value.f2 += tweener.startValue.y;\n                    }\n                    break;\n                case TransitionActionType.Alpha:\n                case TransitionActionType.Rotation:\n                    item.value.f1 = tweener.value.x;\n                    break;\n                case TransitionActionType.Color:\n                    item.value.f1 = tweener.value.color;\n                    break;\n                case TransitionActionType.ColorFilter:\n                    item.value.f1 = tweener.value.x;\n                    item.value.f2 = tweener.value.y;\n                    item.value.f3 = tweener.value.z;\n                    item.value.f4 = tweener.value.w;\n                    break;\n                case TransitionActionType.Shake:\n                    item.value.offsetX = tweener.deltaValue.x;\n                    item.value.offsetY = tweener.deltaValue.y;\n                    break;\n            }\n            this.applyValue(item);\n        };\n        Transition.prototype.onTweenComplete = function (tweener) {\n            var item = tweener.target;\n            item.tweener = null;\n            this._totalTasks--;\n            if (tweener.allCompleted)\n                this.callHook(item, true);\n            this.checkAllComplete();\n        };\n        Transition.prototype.onPlayTransCompleted = function (item) {\n            this._totalTasks--;\n            this.checkAllComplete();\n        };\n        Transition.prototype.callHook = function (item, tweenEnd) {\n            if (tweenEnd) {\n                if (item.tweenConfig != null && item.tweenConfig.endHook != null)\n                    item.tweenConfig.endHook(item.label);\n            }\n            else {\n                if (item.time >= this._startTime && item.hook != null)\n                    item.hook(item.label);\n            }\n        };\n        Transition.prototype.checkAllComplete = function () {\n            if (this._playing && this._totalTasks == 0) {\n                if (this._totalTimes < 0) {\n                    this.internalPlay();\n                }\n                else {\n                    this._totalTimes--;\n                    if (this._totalTimes > 0)\n                        this.internalPlay();\n                    else {\n                        this._playing = false;\n                        var cnt = this._items.length;\n                        for (var i = 0; i < cnt; i++) {\n                            var item = this._items[i];\n                            if (item.target != null && item.displayLockToken != 0) {\n                                item.target.releaseDisplayLock(item.displayLockToken);\n                                item.displayLockToken = 0;\n                            }\n                        }\n                        if (this._onComplete != null) {\n                            var func = this._onComplete;\n                            this._onComplete = null;\n                            func();\n                        }\n                    }\n                }\n            }\n        };\n        Transition.prototype.applyValue = function (item) {\n            item.target._gearLocked = true;\n            var value = item.value;\n            switch (item.type) {\n                case TransitionActionType.XY:\n                    if (item.target == this._owner) {\n                        if (value.b1 && value.b2)\n                            item.target.setPosition(value.f1 + this._ownerBaseX, value.f2 + this._ownerBaseY);\n                        else if (value.b1)\n                            item.target.x = value.f1 + this._ownerBaseX;\n                        else\n                            item.target.y = value.f2 + this._ownerBaseY;\n                    }\n                    else {\n                        if (value.b3) {\n                            if (value.b1 && value.b2)\n                                item.target.setPosition(value.f1 * this._owner.width, value.f2 * this._owner.height);\n                            else if (value.b1)\n                                item.target.x = value.f1 * this._owner.width;\n                            else if (value.b2)\n                                item.target.y = value.f2 * this._owner.height;\n                        }\n                        else {\n                            if (value.b1 && value.b2)\n                                item.target.setPosition(value.f1, value.f2);\n                            else if (value.b1)\n                                item.target.x = value.f1;\n                            else if (value.b2)\n                                item.target.y = value.f2;\n                        }\n                    }\n                    break;\n                case TransitionActionType.Size:\n                    if (!value.b1)\n                        value.f1 = item.target.width;\n                    if (!value.b2)\n                        value.f2 = item.target.height;\n                    item.target.setSize(value.f1, value.f2);\n                    break;\n                case TransitionActionType.Pivot:\n                    item.target.setPivot(value.f1, value.f2, item.target.pivotAsAnchor);\n                    break;\n                case TransitionActionType.Alpha:\n                    item.target.alpha = value.f1;\n                    break;\n                case TransitionActionType.Rotation:\n                    item.target.rotation = value.f1;\n                    break;\n                case TransitionActionType.Scale:\n                    item.target.setScale(value.f1, value.f2);\n                    break;\n                case TransitionActionType.Skew:\n                    item.target.setSkew(value.f1, value.f2);\n                    break;\n                case TransitionActionType.Color:\n                    item.target.setProp(fgui.ObjectPropID.Color, value.f1);\n                    break;\n                case TransitionActionType.Animation:\n                    if (value.frame >= 0)\n                        item.target.setProp(fgui.ObjectPropID.Frame, value.frame);\n                    item.target.setProp(fgui.ObjectPropID.Playing, value.playing);\n                    item.target.setProp(fgui.ObjectPropID.TimeScale, this._timeScale);\n                    break;\n                case TransitionActionType.Visible:\n                    item.target.visible = value.visible;\n                    break;\n                case TransitionActionType.Transition:\n                    if (this._playing) {\n                        var trans = value.trans;\n                        if (trans != null) {\n                            this._totalTasks++;\n                            var startTime = this._startTime > item.time ? (this._startTime - item.time) : 0;\n                            var endTime = this._endTime >= 0 ? (this._endTime - item.time) : -1;\n                            if (value.stopTime >= 0 && (endTime < 0 || endTime > value.stopTime))\n                                endTime = value.stopTime;\n                            trans.timeScale = this._timeScale;\n                            trans._play(function () { this.onPlayTransCompleted(item); }.bind(this), value.playTimes, 0, startTime, endTime, this._reversed);\n                        }\n                    }\n                    break;\n                case TransitionActionType.Sound:\n                    if (this._playing && item.time >= this._startTime) {\n                        if (value.audioClip == null) {\n                            var pi = fgui.UIPackage.getItemByURL(value.sound);\n                            if (pi)\n                                value.audioClip = pi.owner.getItemAsset(pi);\n                        }\n                        if (value.audioClip)\n                            fgui.GRoot.inst.playOneShotSound(value.audioClip, value.volume);\n                    }\n                    break;\n                case TransitionActionType.Shake:\n                    item.target.setPosition(item.target.x - value.lastOffsetX + value.offsetX, item.target.y - value.lastOffsetY + value.offsetY);\n                    value.lastOffsetX = value.offsetX;\n                    value.lastOffsetY = value.offsetY;\n                    break;\n                case TransitionActionType.ColorFilter:\n                    {\n                        break;\n                    }\n                case TransitionActionType.Text:\n                    item.target.text = value.text;\n                    break;\n                case TransitionActionType.Icon:\n                    item.target.icon = value.text;\n                    break;\n            }\n            item.target._gearLocked = false;\n        };\n        Transition.prototype.setup = function (buffer) {\n            this.name = buffer.readS();\n            this._options = buffer.readInt();\n            this._autoPlay = buffer.readBool();\n            this._autoPlayTimes = buffer.readInt();\n            this._autoPlayDelay = buffer.readFloat();\n            var cnt = buffer.readShort();\n            for (var i = 0; i < cnt; i++) {\n                var dataLen = buffer.readShort();\n                var curPos = buffer.position;\n                buffer.seek(curPos, 0);\n                var item = new TransitionItem(buffer.readByte());\n                this._items[i] = item;\n                item.time = buffer.readFloat();\n                var targetId = buffer.readShort();\n                if (targetId < 0)\n                    item.targetId = \"\";\n                else\n                    item.targetId = this._owner.getChildAt(targetId).id;\n                item.label = buffer.readS();\n                if (buffer.readBool()) {\n                    buffer.seek(curPos, 1);\n                    item.tweenConfig = new TweenConfig();\n                    item.tweenConfig.duration = buffer.readFloat();\n                    if (item.time + item.tweenConfig.duration > this._totalDuration)\n                        this._totalDuration = item.time + item.tweenConfig.duration;\n                    item.tweenConfig.easeType = buffer.readByte();\n                    item.tweenConfig.repeat = buffer.readInt();\n                    item.tweenConfig.yoyo = buffer.readBool();\n                    item.tweenConfig.endLabel = buffer.readS();\n                    buffer.seek(curPos, 2);\n                    this.decodeValue(item, buffer, item.tweenConfig.startValue);\n                    buffer.seek(curPos, 3);\n                    this.decodeValue(item, buffer, item.tweenConfig.endValue);\n                    if (buffer.version >= 2) {\n                        var pathLen = buffer.readInt();\n                        if (pathLen > 0) {\n                            item.tweenConfig.path = new fgui.GPath();\n                            var pts = new Array();\n                            for (var j = 0; j < pathLen; j++) {\n                                var curveType = buffer.readByte();\n                                switch (curveType) {\n                                    case fgui.CurveType.Bezier:\n                                        pts.push(fgui.GPathPoint.newBezierPoint(buffer.readFloat(), buffer.readFloat(), buffer.readFloat(), buffer.readFloat()));\n                                        break;\n                                    case fgui.CurveType.CubicBezier:\n                                        pts.push(fgui.GPathPoint.newCubicBezierPoint(buffer.readFloat(), buffer.readFloat(), buffer.readFloat(), buffer.readFloat(), buffer.readFloat(), buffer.readFloat()));\n                                        break;\n                                    default:\n                                        pts.push(fgui.GPathPoint.newPoint(buffer.readFloat(), buffer.readFloat(), curveType));\n                                        break;\n                                }\n                            }\n                            item.tweenConfig.path.create(pts);\n                        }\n                    }\n                }\n                else {\n                    if (item.time > this._totalDuration)\n                        this._totalDuration = item.time;\n                    buffer.seek(curPos, 2);\n                    this.decodeValue(item, buffer, item.value);\n                }\n                buffer.position = curPos + dataLen;\n            }\n        };\n        Transition.prototype.decodeValue = function (item, buffer, value) {\n            switch (item.type) {\n                case TransitionActionType.XY:\n                case TransitionActionType.Size:\n                case TransitionActionType.Pivot:\n                case TransitionActionType.Skew:\n                    value.b1 = buffer.readBool();\n                    value.b2 = buffer.readBool();\n                    value.f1 = buffer.readFloat();\n                    value.f2 = buffer.readFloat();\n                    if (buffer.version >= 2 && item.type == TransitionActionType.XY)\n                        value.b3 = buffer.readBool();\n                    break;\n                case TransitionActionType.Alpha:\n                case TransitionActionType.Rotation:\n                    value.f1 = buffer.readFloat();\n                    break;\n                case TransitionActionType.Scale:\n                    value.f1 = buffer.readFloat();\n                    value.f2 = buffer.readFloat();\n                    break;\n                case TransitionActionType.Color:\n                    value.f1 = buffer.readColor().toRGBValue();\n                    break;\n                case TransitionActionType.Animation:\n                    value.playing = buffer.readBool();\n                    value.frame = buffer.readInt();\n                    break;\n                case TransitionActionType.Visible:\n                    value.visible = buffer.readBool();\n                    break;\n                case TransitionActionType.Sound:\n                    value.sound = buffer.readS();\n                    value.volume = buffer.readFloat();\n                    break;\n                case TransitionActionType.Transition:\n                    value.transName = buffer.readS();\n                    value.playTimes = buffer.readInt();\n                    break;\n                case TransitionActionType.Shake:\n                    value.amplitude = buffer.readFloat();\n                    value.duration = buffer.readFloat();\n                    break;\n                case TransitionActionType.ColorFilter:\n                    value.f1 = buffer.readFloat();\n                    value.f2 = buffer.readFloat();\n                    value.f3 = buffer.readFloat();\n                    value.f4 = buffer.readFloat();\n                    break;\n                case TransitionActionType.Text:\n                case TransitionActionType.Icon:\n                    value.text = buffer.readS();\n                    break;\n            }\n        };\n        Transition.OPTION_IGNORE_DISPLAY_CONTROLLER = 1;\n        Transition.OPTION_AUTO_STOP_DISABLED = 2;\n        Transition.OPTION_AUTO_STOP_AT_END = 4;\n        return Transition;\n    }());\n    fgui.Transition = Transition;\n    var TransitionActionType = (function () {\n        function TransitionActionType() {\n        }\n        TransitionActionType.XY = 0;\n        TransitionActionType.Size = 1;\n        TransitionActionType.Scale = 2;\n        TransitionActionType.Pivot = 3;\n        TransitionActionType.Alpha = 4;\n        TransitionActionType.Rotation = 5;\n        TransitionActionType.Color = 6;\n        TransitionActionType.Animation = 7;\n        TransitionActionType.Visible = 8;\n        TransitionActionType.Sound = 9;\n        TransitionActionType.Transition = 10;\n        TransitionActionType.Shake = 11;\n        TransitionActionType.ColorFilter = 12;\n        TransitionActionType.Skew = 13;\n        TransitionActionType.Text = 14;\n        TransitionActionType.Icon = 15;\n        TransitionActionType.Unknown = 16;\n        return TransitionActionType;\n    }());\n    var TransitionItem = (function () {\n        function TransitionItem(type) {\n            this.type = type;\n            switch (type) {\n                case TransitionActionType.XY:\n                case TransitionActionType.Size:\n                case TransitionActionType.Scale:\n                case TransitionActionType.Pivot:\n                case TransitionActionType.Skew:\n                case TransitionActionType.Alpha:\n                case TransitionActionType.Rotation:\n                case TransitionActionType.Color:\n                case TransitionActionType.ColorFilter:\n                    this.value = new TValue();\n                    break;\n                case TransitionActionType.Animation:\n                    this.value = new TValue_Animation();\n                    break;\n                case TransitionActionType.Shake:\n                    this.value = new TValue_Shake();\n                    break;\n                case TransitionActionType.Sound:\n                    this.value = new TValue_Sound();\n                    break;\n                case TransitionActionType.Transition:\n                    this.value = new TValue_Transition();\n                    break;\n                case TransitionActionType.Visible:\n                    this.value = new TValue_Visible();\n                    break;\n                case TransitionActionType.Text:\n                case TransitionActionType.Icon:\n                    this.value = new TValue_Text();\n                    break;\n            }\n        }\n        return TransitionItem;\n    }());\n    var TweenConfig = (function () {\n        function TweenConfig() {\n            this.duration = 0;\n            this.repeat = 0;\n            this.yoyo = false;\n            this.easeType = fgui.EaseType.QuadOut;\n            this.startValue = new TValue();\n            this.endValue = new TValue();\n        }\n        return TweenConfig;\n    }());\n    var TValue_Visible = (function () {\n        function TValue_Visible() {\n        }\n        return TValue_Visible;\n    }());\n    var TValue_Animation = (function () {\n        function TValue_Animation() {\n        }\n        return TValue_Animation;\n    }());\n    var TValue_Sound = (function () {\n        function TValue_Sound() {\n        }\n        return TValue_Sound;\n    }());\n    var TValue_Transition = (function () {\n        function TValue_Transition() {\n        }\n        return TValue_Transition;\n    }());\n    var TValue_Shake = (function () {\n        function TValue_Shake() {\n        }\n        return TValue_Shake;\n    }());\n    var TValue_Text = (function () {\n        function TValue_Text() {\n        }\n        return TValue_Text;\n    }());\n    var TValue = (function () {\n        function TValue() {\n            this.f1 = this.f2 = this.f3 = this.f4 = 0;\n            this.b1 = this.b2 = true;\n        }\n        return TValue;\n    }());\n})(fgui || (fgui = {}));\nvar fgui;\n(function (fgui) {\n    var TranslationHelper = (function () {\n        function TranslationHelper() {\n        }\n        TranslationHelper.loadFromXML = function (source) {\n            TranslationHelper.strings = {};\n            var xml = new cc[\"SAXParser\"]().parse(source).documentElement;\n            var nodes = xml.childNodes;\n            var length1 = nodes.length;\n            for (var i1 = 0; i1 < length1; i1++) {\n                var cxml = nodes[i1];\n                if (cxml.tagName == \"string\") {\n                    var key = cxml.getAttribute(\"name\");\n                    var text = cxml.childNodes.length > 0 ? cxml.firstChild.nodeValue : \"\";\n                    var i = key.indexOf(\"-\");\n                    if (i == -1)\n                        continue;\n                    var key2 = key.substr(0, i);\n                    var key3 = key.substr(i + 1);\n                    var col = TranslationHelper.strings[key2];\n                    if (!col) {\n                        col = {};\n                        TranslationHelper.strings[key2] = col;\n                    }\n                    col[key3] = text;\n                }\n            }\n        };\n        TranslationHelper.translateComponent = function (item) {\n            if (TranslationHelper.strings == null)\n                return;\n            var compStrings = TranslationHelper.strings[item.owner.id + item.id];\n            if (compStrings == null)\n                return;\n            var elementId, value;\n            var buffer = item.rawData;\n            var nextPos;\n            var itemCount;\n            var i, j, k;\n            var dataLen;\n            var curPos;\n            var valueCnt;\n            var page;\n            buffer.seek(0, 2);\n            var childCount = buffer.readShort();\n            for (i = 0; i < childCount; i++) {\n                dataLen = buffer.readShort();\n                curPos = buffer.position;\n                buffer.seek(curPos, 0);\n                var baseType = buffer.readByte();\n                var type = baseType;\n                buffer.skip(4);\n                elementId = buffer.readS();\n                if (type == fgui.ObjectType.Component) {\n                    if (buffer.seek(curPos, 6))\n                        type = buffer.readByte();\n                }\n                buffer.seek(curPos, 1);\n                if ((value = compStrings[elementId + \"-tips\"]) != null)\n                    buffer.writeS(value);\n                buffer.seek(curPos, 2);\n                var gearCnt = buffer.readShort();\n                for (j = 0; j < gearCnt; j++) {\n                    nextPos = buffer.readShort();\n                    nextPos += buffer.position;\n                    if (buffer.readByte() == 6) {\n                        buffer.skip(2);\n                        valueCnt = buffer.readShort();\n                        for (k = 0; k < valueCnt; k++) {\n                            page = buffer.readS();\n                            if (page != null) {\n                                if ((value = compStrings[elementId + \"-texts_\" + k]) != null)\n                                    buffer.writeS(value);\n                                else\n                                    buffer.skip(2);\n                            }\n                        }\n                        if (buffer.readBool() && (value = compStrings[elementId + \"-texts_def\"]) != null)\n                            buffer.writeS(value);\n                    }\n                    if (baseType == fgui.ObjectType.Component && buffer.version >= 2) {\n                        buffer.seek(curPos, 4);\n                        buffer.skip(2);\n                        buffer.skip(4 * buffer.readShort());\n                        var cpCount = buffer.readShort();\n                        for (var k = 0; k < cpCount; k++) {\n                            var target = buffer.readS();\n                            var propertyId = buffer.readShort();\n                            if (propertyId == 0 && (value = compStrings[elementId + \"-cp-\" + target]) != null)\n                                buffer.writeS(value);\n                            else\n                                buffer.skip(2);\n                        }\n                    }\n                    buffer.position = nextPos;\n                }\n                switch (type) {\n                    case fgui.ObjectType.Text:\n                    case fgui.ObjectType.RichText:\n                    case fgui.ObjectType.InputText:\n                        {\n                            if ((value = compStrings[elementId]) != null) {\n                                buffer.seek(curPos, 6);\n                                buffer.writeS(value);\n                            }\n                            if ((value = compStrings[elementId + \"-prompt\"]) != null) {\n                                buffer.seek(curPos, 4);\n                                buffer.writeS(value);\n                            }\n                            break;\n                        }\n                    case fgui.ObjectType.List:\n                    case fgui.ObjectType.Tree:\n                        {\n                            buffer.seek(curPos, 8);\n                            buffer.skip(2);\n                            itemCount = buffer.readShort();\n                            for (j = 0; j < itemCount; j++) {\n                                nextPos = buffer.readShort();\n                                nextPos += buffer.position;\n                                buffer.skip(2);\n                                if (type == fgui.ObjectType.Tree)\n                                    buffer.skip(2);\n                                if ((value = compStrings[elementId + \"-\" + j]) != null)\n                                    buffer.writeS(value);\n                                else\n                                    buffer.skip(2);\n                                if ((value = compStrings[elementId + \"-\" + j + \"-0\"]) != null)\n                                    buffer.writeS(value);\n                                else\n                                    buffer.skip(2);\n                                if (buffer.version >= 2) {\n                                    buffer.skip(6);\n                                    buffer.skip(buffer.readUshort() * 4);\n                                    var cpCount = buffer.readUshort();\n                                    for (var k = 0; k < cpCount; k++) {\n                                        var target = buffer.readS();\n                                        var propertyId = buffer.readUshort();\n                                        if (propertyId == 0 && (value = compStrings[elementId + \"-\" + j + \"-\" + target]) != null)\n                                            buffer.writeS(value);\n                                        else\n                                            buffer.skip(2);\n                                    }\n                                }\n                                buffer.position = nextPos;\n                            }\n                            break;\n                        }\n                    case fgui.ObjectType.Label:\n                        {\n                            if (buffer.seek(curPos, 6) && buffer.readByte() == type) {\n                                if ((value = compStrings[elementId]) != null)\n                                    buffer.writeS(value);\n                                else\n                                    buffer.skip(2);\n                                buffer.skip(2);\n                                if (buffer.readBool())\n                                    buffer.skip(4);\n                                buffer.skip(4);\n                                if (buffer.readBool() && (value = compStrings[elementId + \"-prompt\"]) != null)\n                                    buffer.writeS(value);\n                            }\n                            break;\n                        }\n                    case fgui.ObjectType.Button:\n                        {\n                            if (buffer.seek(curPos, 6) && buffer.readByte() == type) {\n                                if ((value = compStrings[elementId]) != null)\n                                    buffer.writeS(value);\n                                else\n                                    buffer.skip(2);\n                                if ((value = compStrings[elementId + \"-0\"]) != null)\n                                    buffer.writeS(value);\n                            }\n                            break;\n                        }\n                    case fgui.ObjectType.ComboBox:\n                        {\n                            if (buffer.seek(curPos, 6) && buffer.readByte() == type) {\n                                itemCount = buffer.readShort();\n                                for (j = 0; j < itemCount; j++) {\n                                    nextPos = buffer.readShort();\n                                    nextPos += buffer.position;\n                                    if ((value = compStrings[elementId + \"-\" + j]) != null)\n                                        buffer.writeS(value);\n                                    buffer.position = nextPos;\n                                }\n                                if ((value = compStrings[elementId]) != null)\n                                    buffer.writeS(value);\n                            }\n                            break;\n                        }\n                }\n                buffer.position = curPos + dataLen;\n            }\n        };\n        TranslationHelper.strings = null;\n        return TranslationHelper;\n    }());\n    fgui.TranslationHelper = TranslationHelper;\n})(fgui || (fgui = {}));\nvar fgui;\n(function (fgui) {\n    var UIConfig = (function () {\n        function UIConfig() {\n        }\n        UIConfig.defaultFont = \"Arial\";\n        UIConfig.modalLayerColor = new cc.Color(0x33, 0x33, 0x33, 0x33);\n        UIConfig.buttonSoundVolumeScale = 1;\n        UIConfig.defaultScrollStep = 25;\n        UIConfig.defaultScrollDecelerationRate = 0.967;\n        UIConfig.defaultScrollBarDisplay = fgui.ScrollBarDisplayType.Visible;\n        UIConfig.defaultScrollTouchEffect = true;\n        UIConfig.defaultScrollBounceEffect = true;\n        UIConfig.defaultComboBoxVisibleItemCount = 10;\n        UIConfig.touchScrollSensitivity = 20;\n        UIConfig.touchDragSensitivity = 10;\n        UIConfig.clickDragSensitivity = 2;\n        UIConfig.bringWindowToFrontOnClick = true;\n        UIConfig.frameTimeForAsyncUIConstruction = 0.002;\n        UIConfig.linkUnderline = true;\n        UIConfig.defaultUIGroup = \"UI\";\n        return UIConfig;\n    }());\n    fgui.UIConfig = UIConfig;\n    var _flag = false;\n    fgui.addLoadHandler = function (ext) {\n        var _a, _b;\n        if (_flag)\n            return;\n        _flag = true;\n        if (!ext)\n            ext = \"bin\";\n        cc.loader.addDownloadHandlers((_a = {}, _a[ext] = cc.loader.downloader[\"extMap\"].binary, _a));\n        cc.loader.addLoadHandlers((_b = {},\n            _b[ext] = function (item, callback) {\n                item._owner.rawBuffer = item.content;\n                return item.content;\n            },\n            _b));\n    };\n    var _fontRegistry = {};\n    fgui.registerFont = function (name, font) {\n        if (font instanceof cc.Font)\n            _fontRegistry[name] = font;\n        else\n            _fontRegistry[name] = cc.loader.getRes(name, cc.Font);\n    };\n    fgui.getFontByName = function (name) {\n        return _fontRegistry[name];\n    };\n})(fgui || (fgui = {}));\nvar fgui;\n(function (fgui) {\n    var UIObjectFactory = (function () {\n        function UIObjectFactory() {\n        }\n        UIObjectFactory.setPackageItemExtension = function (url, type) {\n            UIObjectFactory.setExtension(url, type);\n        };\n        UIObjectFactory.setExtension = function (url, type) {\n            if (url == null) {\n                console.error(\"Invalid url for type: \", type);\n                throw \"Invaild url: \" + url;\n            }\n            var pi = fgui.UIPackage.getItemByURL(url);\n            if (pi != null)\n                pi.extensionType = type;\n            UIObjectFactory.extensions[url] = type;\n        };\n        UIObjectFactory.setLoaderExtension = function (type) {\n            UIObjectFactory.loaderType = type;\n        };\n        UIObjectFactory.resolveExtension = function (pi) {\n            pi.extensionType = UIObjectFactory.extensions[\"ui://\" + pi.owner.id + pi.id];\n            if (!pi.extensionType)\n                pi.extensionType = UIObjectFactory.extensions[\"ui://\" + pi.owner.name + \"/\" + pi.name];\n        };\n        UIObjectFactory.newObject = function (pi) {\n            if (pi.extensionType != null)\n                return new pi.extensionType();\n            else\n                return this.newObject2(pi.objectType);\n        };\n        UIObjectFactory.newObject2 = function (type) {\n            switch (type) {\n                case fgui.ObjectType.Image:\n                    return new fgui.GImage();\n                case fgui.ObjectType.MovieClip:\n                    return new fgui.GMovieClip();\n                case fgui.ObjectType.Component:\n                    return new fgui.GComponent();\n                case fgui.ObjectType.Text:\n                    return new fgui.GTextField();\n                case fgui.ObjectType.RichText:\n                    return new fgui.GRichTextField();\n                case fgui.ObjectType.InputText:\n                    return new fgui.GTextInput();\n                case fgui.ObjectType.Group:\n                    return new fgui.GGroup();\n                case fgui.ObjectType.List:\n                    return new fgui.GList();\n                case fgui.ObjectType.Graph:\n                    return new fgui.GGraph();\n                case fgui.ObjectType.Loader:\n                    if (UIObjectFactory.loaderType != null)\n                        return new UIObjectFactory.loaderType();\n                    else\n                        return new fgui.GLoader();\n                case fgui.ObjectType.Button:\n                    return new fgui.GButton();\n                case fgui.ObjectType.Label:\n                    return new fgui.GLabel();\n                case fgui.ObjectType.ProgressBar:\n                    return new fgui.GProgressBar();\n                case fgui.ObjectType.Slider:\n                    return new fgui.GSlider();\n                case fgui.ObjectType.ScrollBar:\n                    return new fgui.GScrollBar();\n                case fgui.ObjectType.ComboBox:\n                    return new fgui.GComboBox();\n                case fgui.ObjectType.Tree:\n                    return new fgui.GTree();\n                default:\n                    return null;\n            }\n        };\n        UIObjectFactory.extensions = {};\n        return UIObjectFactory;\n    }());\n    fgui.UIObjectFactory = UIObjectFactory;\n})(fgui || (fgui = {}));\nvar fgui;\n(function (fgui) {\n    var UIPackage = (function () {\n        function UIPackage() {\n            this._items = new Array();\n            this._assetUrls = [];\n            this._itemsById = {};\n            this._itemsByName = {};\n            this._sprites = {};\n            this._dependencies = Array();\n            this._branches = Array();\n            this._branchIndex = -1;\n        }\n        Object.defineProperty(UIPackage, \"branch\", {\n            get: function () {\n                return UIPackage._branch;\n            },\n            set: function (value) {\n                UIPackage._branch = value;\n                for (var pkgId in UIPackage._instById) {\n                    var pkg = UIPackage._instById[pkgId];\n                    if (pkg._branches) {\n                        pkg._branchIndex = pkg._branches.indexOf(value);\n                    }\n                }\n            },\n            enumerable: false,\n            configurable: true\n        });\n        UIPackage.getVar = function (key) {\n            return UIPackage._vars[key];\n        };\n        UIPackage.setVar = function (key, value) {\n            UIPackage._vars[key] = value;\n        };\n        UIPackage.getById = function (id) {\n            return UIPackage._instById[id];\n        };\n        UIPackage.getByName = function (name) {\n            return UIPackage._instByName[name];\n        };\n        UIPackage.addPackage = function (url) {\n            var pkg = UIPackage._instById[url];\n            if (pkg)\n                return pkg;\n            var asset = cc.loader.getRes(url);\n            if (!asset)\n                throw \"Resource '\" + url + \"' not ready\";\n            if (!asset.rawBuffer)\n                throw \"Missing asset data. Call UIConfig.registerLoader first!\";\n            pkg = new UIPackage();\n            pkg.loadPackage(new fgui.ByteBuffer(asset.rawBuffer), url);\n            pkg.assetUrls = [];\n            var cnt = pkg._items.length;\n            for (var i = 0; i < cnt; i++) {\n                var pi = pkg._items[i];\n                if (pi.type == fgui.PackageItemType.Atlas || pi.type == fgui.PackageItemType.Sound)\n                    pkg.assetUrls.push(pi.file);\n            }\n            if (pkg.name.indexOf(\"lan_\") >= 0)\n                UIPackage._curLanItem = pkg;\n            UIPackage._instById[pkg.id] = pkg;\n            UIPackage._instByName[pkg.name] = pkg;\n            UIPackage._instById[pkg._url] = pkg;\n            return pkg;\n        };\n        UIPackage.loadPackage = function (url, loadRes, completeCallback) {\n            cc.loader.loadRes(url, function (err, asset) {\n                if (err) {\n                    completeCallback(err);\n                    return;\n                }\n                if (!asset.rawBuffer)\n                    throw \"Missing asset data. Call UIConfig.registerLoader first!\";\n                if (loadRes) {\n                    var pkg_1 = new UIPackage();\n                    pkg_1.loadPackage(new fgui.ByteBuffer(asset.rawBuffer), url);\n                    var cnt = pkg_1._items.length;\n                    var urls = [];\n                    for (var i = 0; i < cnt; i++) {\n                        var pi = pkg_1._items[i];\n                        if (pi.type == fgui.PackageItemType.Atlas || pi.type == fgui.PackageItemType.Sound)\n                            urls.push(pi.file);\n                    }\n                    cc.loader.loadResArray(urls, function (err, assets) {\n                        if (!err) {\n                            UIPackage._instById[pkg_1.id] = pkg_1;\n                            UIPackage._instByName[pkg_1.name] = pkg_1;\n                        }\n                        completeCallback(err);\n                    });\n                }\n                else {\n                    completeCallback(err);\n                }\n            });\n        };\n        UIPackage.getPackage = function (packageIdOrName) {\n            var pkg = UIPackage._instByName[packageIdOrName];\n            if (!pkg) {\n                pkg = UIPackage._instById[packageIdOrName];\n            }\n            return pkg;\n        };\n        UIPackage.removePackage = function (packageIdOrName) {\n            var pkg = UIPackage._instById[packageIdOrName];\n            if (!pkg)\n                pkg = UIPackage._instByName[packageIdOrName];\n            if (!pkg)\n                throw \"No package found: \" + packageIdOrName;\n            pkg.dispose();\n            if (pkg.name == \"lan_cn\") {\n                return;\n            }\n            delete UIPackage._instById[pkg.id];\n            if (pkg._url != null)\n                delete UIPackage._instById[pkg._url];\n            delete UIPackage._instByName[pkg.name];\n        };\n        UIPackage.createObject = function (pkgName, resName, userClass) {\n            if (userClass === void 0) { userClass = null; }\n            var pkg = UIPackage.getByName(pkgName);\n            if (pkg)\n                return pkg.createObject(resName, userClass);\n            else\n                return null;\n        };\n        UIPackage.createObjectFromURL = function (url, userClass) {\n            if (userClass === void 0) { userClass = null; }\n            var pi = UIPackage.getItemByURL(url);\n            if (pi)\n                return pi.owner.internalCreateObject(pi, userClass);\n            else\n                return null;\n        };\n        UIPackage.getItemURL = function (pkgName, resName) {\n            var pkg = UIPackage.getByName(pkgName);\n            if (!pkg)\n                return null;\n            var pi = pkg._itemsByName[resName];\n            if (!pi)\n                return null;\n            return \"ui://\" + pkg.id + pi.id;\n        };\n        UIPackage.getItemByURL = function (url) {\n            var pos1 = url.indexOf(\"//\");\n            if (pos1 == -1)\n                return null;\n            var pos2 = url.indexOf(\"/\", pos1 + 2);\n            if (pos2 == -1) {\n                if (url.length > 13) {\n                    var pkgId = url.substr(5, 8);\n                    var pkg = UIPackage.getById(pkgId);\n                    if (pkg != null) {\n                        var srcId = url.substr(13);\n                        if (pkg.name == \"lan_cn\") {\n                            return UIPackage._curLanItem.getItemByName(pkg.getItemById(srcId).name);\n                        }\n                        return pkg.getItemById(srcId);\n                    }\n                }\n            }\n            else {\n                var pkgName = url.substr(pos1 + 2, pos2 - pos1 - 2);\n                if (pkgName == \"lan_cn\") {\n                    pkg = UIPackage._curLanItem;\n                }\n                else {\n                    pkg = UIPackage.getByName(pkgName);\n                }\n                if (pkg != null) {\n                    var srcName = url.substr(pos2 + 1);\n                    return pkg.getItemByName(srcName);\n                }\n            }\n            return null;\n        };\n        UIPackage.normalizeURL = function (url) {\n            if (url == null)\n                return null;\n            var pos1 = url.indexOf(\"//\");\n            if (pos1 == -1)\n                return null;\n            var pos2 = url.indexOf(\"/\", pos1 + 2);\n            if (pos2 == -1)\n                return url;\n            var pkgName = url.substr(pos1 + 2, pos2 - pos1 - 2);\n            var srcName = url.substr(pos2 + 1);\n            return UIPackage.getItemURL(pkgName, srcName);\n        };\n        UIPackage.setStringsSource = function (source) {\n            fgui.TranslationHelper.loadFromXML(source);\n        };\n        Object.defineProperty(UIPackage.prototype, \"assetUrls\", {\n            get: function () {\n                return this._assetUrls;\n            },\n            set: function (urls) {\n                this._assetUrls = urls;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        UIPackage.prototype.loadPackage = function (buffer, url) {\n            if (buffer.readUint() != 0x46475549)\n                throw \"FairyGUI: old package format found in '\" + url + \"'\";\n            this._url = url;\n            buffer.version = buffer.readInt();\n            var ver2 = buffer.version >= 2;\n            var compressed = buffer.readBool();\n            this._id = buffer.readString();\n            this._name = buffer.readString();\n            buffer.skip(20);\n            var indexTablePos = buffer.position;\n            var cnt;\n            var i;\n            var nextPos;\n            var str;\n            var branchIncluded;\n            buffer.seek(indexTablePos, 4);\n            cnt = buffer.readInt();\n            var stringTable = new Array(cnt);\n            buffer.stringTable = stringTable;\n            for (i = 0; i < cnt; i++)\n                stringTable[i] = buffer.readString();\n            if (buffer.seek(indexTablePos, 5)) {\n                cnt = buffer.readInt();\n                for (i = 0; i < cnt; i++) {\n                    var index = buffer.readUshort();\n                    var len = buffer.readInt();\n                    stringTable[index] = buffer.readString(len);\n                }\n            }\n            buffer.seek(indexTablePos, 0);\n            cnt = buffer.readShort();\n            for (i = 0; i < cnt; i++)\n                this._dependencies.push({ id: buffer.readS(), name: buffer.readS() });\n            if (ver2) {\n                cnt = buffer.readShort();\n                if (cnt > 0) {\n                    this._branches = buffer.readSArray(cnt);\n                    if (UIPackage._branch)\n                        this._branchIndex = this._branches.indexOf(UIPackage._branch);\n                }\n                branchIncluded = cnt > 0;\n            }\n            buffer.seek(indexTablePos, 1);\n            var pi;\n            url = url + \"_\";\n            cnt = buffer.readShort();\n            for (i = 0; i < cnt; i++) {\n                nextPos = buffer.readInt();\n                nextPos += buffer.position;\n                var type = buffer.readByte();\n                if (type == fgui.PackageItemType.Image) {\n                    pi = new fgui.PackageImageItem();\n                }\n                else if (type == fgui.PackageItemType.MovieClip) {\n                    pi = new fgui.PackageMovieClipItem();\n                }\n                else if (type == fgui.PackageItemType.Font) {\n                    pi = new fgui.PackageFontItem();\n                }\n                else if (type == fgui.PackageItemType.Component) {\n                    pi = new fgui.PackageComponentItem();\n                }\n                else if (type = fgui.PackageItemType.Atlas) {\n                    pi = new fgui.PackageAtlasItem();\n                }\n                else if (type == fgui.PackageItemType.Sound) {\n                    pi = new fgui.PackageSoundItem();\n                }\n                else if (type == fgui.PackageItemType.Misc) {\n                    pi = new fgui.PackageMiscItem();\n                }\n                else {\n                    pi = new fgui.PackageItem();\n                }\n                pi.type = type;\n                pi.owner = this;\n                pi.id = buffer.readS();\n                pi.name = buffer.readS();\n                buffer.readS();\n                pi.file = buffer.readS();\n                buffer.readBool();\n                pi.width = buffer.readInt();\n                pi.height = buffer.readInt();\n                pi.setup(buffer, url);\n                if (ver2) {\n                    str = buffer.readS();\n                    if (str)\n                        pi.name = str + \"/\" + pi.name;\n                    var branchCnt = buffer.readUbyte();\n                    if (branchCnt > 0) {\n                        if (branchIncluded)\n                            pi.branches = buffer.readSArray(branchCnt);\n                        else\n                            this._itemsById[buffer.readS()] = pi;\n                    }\n                    var highResCnt = buffer.readUbyte();\n                    if (highResCnt > 0)\n                        pi.highResolution = buffer.readSArray(highResCnt);\n                }\n                this._items.push(pi);\n                this._itemsById[pi.id] = pi;\n                if (pi.name != null)\n                    this._itemsByName[pi.name] = pi;\n                buffer.position = nextPos;\n            }\n            buffer.seek(indexTablePos, 2);\n            cnt = buffer.readShort();\n            for (i = 0; i < cnt; i++) {\n                nextPos = buffer.readShort();\n                nextPos += buffer.position;\n                var itemId = buffer.readS();\n                pi = this._itemsById[buffer.readS()];\n                var sprite = new AtlasSprite();\n                sprite.atlas = pi;\n                sprite.rect.x = buffer.readInt();\n                sprite.rect.y = buffer.readInt();\n                sprite.rect.width = buffer.readInt();\n                sprite.rect.height = buffer.readInt();\n                sprite.rotated = buffer.readBool();\n                if (ver2 && buffer.readBool()) {\n                    sprite.offset.x = buffer.readInt();\n                    sprite.offset.y = buffer.readInt();\n                    sprite.originalSize.width = buffer.readInt();\n                    sprite.originalSize.height = buffer.readInt();\n                }\n                else {\n                    sprite.originalSize.width = sprite.rect.width;\n                    sprite.originalSize.height = sprite.rect.height;\n                }\n                this._sprites[itemId] = sprite;\n                buffer.position = nextPos;\n            }\n            if (buffer.seek(indexTablePos, 3)) {\n                cnt = buffer.readShort();\n                for (i = 0; i < cnt; i++) {\n                    nextPos = buffer.readInt();\n                    nextPos += buffer.position;\n                    pi = this._itemsById[buffer.readS()];\n                    if (pi && pi.type == fgui.PackageItemType.Image)\n                        pi.hitTestData = new fgui.PixelHitTestData(buffer);\n                    buffer.position = nextPos;\n                }\n            }\n        };\n        UIPackage.prototype.dispose = function () {\n            var cnt = this._items.length;\n            for (var i = 0; i < cnt; i++) {\n                var pi = this._items[i];\n                if (pi.asset) {\n                    if (pi.asset._uuid) {\n                        var deps = cc.loader.getDependsRecursively(pi.asset);\n                        if (deps) {\n                            cc.loader.release(deps);\n                        }\n                    }\n                    else {\n                        var nativeUrl = pi.asset.nativeUrl;\n                        if (nativeUrl) {\n                            cc.loader.release(nativeUrl);\n                        }\n                        pi.asset.destroy();\n                    }\n                }\n            }\n            this._assetUrls.forEach(function (url) {\n                var asset = cc.loader.getRes(url);\n                if (asset) {\n                    var deps = cc.loader.getDependsRecursively(asset);\n                    cc.loader.release(deps);\n                }\n            });\n            this._assetUrls = [];\n        };\n        Object.defineProperty(UIPackage.prototype, \"id\", {\n            get: function () {\n                return this._id;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(UIPackage.prototype, \"name\", {\n            get: function () {\n                return this._name;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(UIPackage.prototype, \"url\", {\n            get: function () {\n                return this._url;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        UIPackage.prototype.createObject = function (resName, userClass) {\n            if (userClass === void 0) { userClass = null; }\n            var pi = this._itemsByName[resName];\n            if (pi)\n                return this.internalCreateObject(pi, userClass);\n            else\n                return null;\n        };\n        UIPackage.prototype.internalCreateObject = function (item, userClass) {\n            if (userClass === void 0) { userClass = null; }\n            var g;\n            if (item.type == fgui.PackageItemType.Component) {\n                if (userClass != null)\n                    g = new userClass();\n                else\n                    g = fgui.UIObjectFactory.newObject(item);\n            }\n            else\n                g = fgui.UIObjectFactory.newObject(item);\n            if (g == null)\n                return null;\n            UIPackage._constructing++;\n            g.packageItem = item;\n            g.name = item.name;\n            g.constructFromResource();\n            UIPackage._constructing--;\n            return g;\n        };\n        UIPackage.prototype.getItemById = function (itemId) {\n            return this._itemsById[itemId];\n        };\n        UIPackage.prototype.getItemByName = function (resName) {\n            return this._itemsByName[resName];\n        };\n        UIPackage.prototype.getItemAssetByName = function (resName) {\n            var pi = this._itemsByName[resName];\n            if (pi == null) {\n                throw \"Resource not found -\" + resName;\n            }\n            return this.getItemAsset(pi);\n        };\n        UIPackage.prototype.getItemAsset = function (item) {\n            switch (item.type) {\n                case fgui.PackageItemType.Image:\n                    if (!item.decoded) {\n                        item.decoded = true;\n                        var sprite = this._sprites[item.id];\n                        if (sprite != null) {\n                            var atlasTexture = this.getItemAsset(sprite.atlas);\n                            if (atlasTexture != null) {\n                                var sf = new cc.SpriteFrame(atlasTexture, sprite.rect, sprite.rotated, new cc.Vec2(sprite.offset.x - (sprite.originalSize.width - sprite.rect.width) / 2, -(sprite.offset.y - (sprite.originalSize.height - sprite.rect.height) / 2)), sprite.originalSize);\n                                if (item.scale9Grid) {\n                                    sf.insetLeft = item.scale9Grid.x;\n                                    sf.insetTop = item.scale9Grid.y;\n                                    sf.insetRight = item.width - item.scale9Grid.xMax;\n                                    sf.insetBottom = item.height - item.scale9Grid.yMax;\n                                }\n                                item.asset = sf;\n                            }\n                            else {\n                            }\n                        }\n                    }\n                    return item.asset;\n                case fgui.PackageItemType.Atlas:\n                    if (!item.decoded) {\n                        item.decoded = true;\n                        item.asset = cc.loader.getRes(item.file);\n                        if (!item.asset)\n                            console.log(\"Resource '\" + item.file + \"' not found, please check default.res.json!\");\n                    }\n                    return item.asset;\n                case fgui.PackageItemType.Sound:\n                    if (!item.decoded) {\n                        item.decoded = true;\n                        item.asset = cc.loader.getRes(item.file);\n                        if (!item.asset)\n                            console.log(\"Resource '\" + item.file + \"' not found, please check default.res.json!\");\n                    }\n                    return item.asset;\n                case fgui.PackageItemType.Font:\n                    if (!item.decoded) {\n                        item.decoded = true;\n                        this.loadFont(item);\n                    }\n                    return item.asset;\n                case fgui.PackageItemType.MovieClip:\n                    if (!item.decoded) {\n                        item.decoded = true;\n                        this.loadMovieClip(item);\n                    }\n                    return null;\n                case fgui.PackageItemType.Misc:\n                    if (item.file)\n                        return cc.loader.getRes(item.file);\n                    else\n                        return null;\n                default:\n                    return null;\n            }\n        };\n        UIPackage.prototype.getAtlasSprite = function (idx) {\n            return this._sprites[idx];\n        };\n        UIPackage.prototype.loadAllAssets = function () {\n            var cnt = this._items.length;\n            for (var i = 0; i < cnt; i++) {\n                var pi = this._items[i];\n                pi.load();\n            }\n        };\n        UIPackage.prototype.loadMovieClip = function (item) {\n            var buffer = item.rawData;\n            buffer.seek(0, 0);\n            item.interval = buffer.readInt() / 1000;\n            item.swing = buffer.readBool();\n            item.repeatDelay = buffer.readInt() / 1000;\n            buffer.seek(0, 1);\n            var frameCount = buffer.readShort();\n            item.frames = Array(frameCount);\n            var spriteId;\n            var frame;\n            var sprite;\n            for (var i = 0; i < frameCount; i++) {\n                var nextPos = buffer.readShort();\n                nextPos += buffer.position;\n                frame = new fgui.Frame();\n                frame.rect.x = buffer.readInt();\n                frame.rect.y = buffer.readInt();\n                frame.rect.width = buffer.readInt();\n                frame.rect.height = buffer.readInt();\n                frame.addDelay = buffer.readInt() / 1000;\n                spriteId = buffer.readS();\n                if (spriteId != null && (sprite = this._sprites[spriteId]) != null) {\n                    var atlasTexture = this.getItemAsset(sprite.atlas);\n                    if (atlasTexture != null) {\n                        var sx = item.width / frame.rect.width;\n                        frame.texture = new cc.SpriteFrame(atlasTexture, sprite.rect, sprite.rotated, new cc.Vec2(frame.rect.x - (item.width - frame.rect.width) / 2, -(frame.rect.y - (item.height - frame.rect.height) / 2)), new cc.Size(item.width, item.height));\n                    }\n                }\n                item.frames[i] = frame;\n                buffer.position = nextPos;\n            }\n        };\n        UIPackage.prototype.loadFont = function (item) {\n            var font = new cc.LabelAtlas();\n            item.asset = font;\n            font._fntConfig = {\n                commonHeight: 0,\n                fontSize: 0,\n                kerningDict: {},\n                fontDefDictionary: {}\n            };\n            var dict = font._fntConfig.fontDefDictionary;\n            var buffer = item.rawData;\n            buffer.seek(0, 0);\n            var ttf = buffer.readBool();\n            var canTint = buffer.readBool();\n            var resizable = buffer.readBool();\n            buffer.readBool();\n            var fontSize = buffer.readInt();\n            var xadvance = buffer.readInt();\n            var lineHeight = buffer.readInt();\n            var mainTexture;\n            var mainSprite = this._sprites[item.id];\n            if (mainSprite != null)\n                mainTexture = (this.getItemAsset(mainSprite.atlas));\n            buffer.seek(0, 1);\n            var bg = null;\n            var cnt = buffer.readInt();\n            for (var i = 0; i < cnt; i++) {\n                var nextPos = buffer.readShort();\n                nextPos += buffer.position;\n                bg = {};\n                var ch = buffer.readUshort();\n                dict[ch] = bg;\n                var rect = new cc.Rect();\n                bg.rect = rect;\n                var img = buffer.readS();\n                rect.x = buffer.readInt();\n                rect.y = buffer.readInt();\n                bg.xOffset = buffer.readInt();\n                bg.yOffset = buffer.readInt();\n                rect.width = buffer.readInt();\n                rect.height = buffer.readInt();\n                bg.xAdvance = buffer.readInt();\n                bg.channel = buffer.readByte();\n                if (bg.channel == 1)\n                    bg.channel = 3;\n                else if (bg.channel == 2)\n                    bg.channel = 2;\n                else if (bg.channel == 3)\n                    bg.channel = 1;\n                if (ttf) {\n                    rect.x += mainSprite.rect.x;\n                    rect.y += mainSprite.rect.y;\n                }\n                else {\n                    var sprite = this._sprites[img];\n                    if (sprite) {\n                        rect.set(sprite.rect);\n                        bg.xOffset += sprite.offset.x;\n                        bg.yOffset += sprite.offset.y;\n                        if (fontSize == 0)\n                            fontSize = sprite.originalSize.height;\n                        if (!mainTexture) {\n                            sprite.atlas.load();\n                            mainTexture = sprite.atlas.asset;\n                        }\n                    }\n                    if (bg.xAdvance == 0) {\n                        if (xadvance == 0)\n                            bg.xAdvance = bg.xOffset + bg.rect.width;\n                        else\n                            bg.xAdvance = xadvance;\n                    }\n                }\n                buffer.position = nextPos;\n            }\n            font.fontSize = fontSize;\n            font._fntConfig.fontSize = fontSize;\n            font._fntConfig.commonHeight = lineHeight == 0 ? fontSize : lineHeight;\n            font._fntConfig.resizable = resizable;\n            font._fntConfig.canTint = canTint;\n            var spriteFrame = new cc.SpriteFrame();\n            spriteFrame.setTexture(mainTexture);\n            font.spriteFrame = spriteFrame;\n            font.onLoad();\n        };\n        UIPackage._constructing = 0;\n        UIPackage._instById = {};\n        UIPackage._instByName = {};\n        UIPackage._branch = \"\";\n        UIPackage._vars = {};\n        return UIPackage;\n    }());\n    fgui.UIPackage = UIPackage;\n    var AtlasSprite = (function () {\n        function AtlasSprite() {\n            this.rect = new cc.Rect();\n            this.offset = new cc.Vec2(0, 0);\n            this.originalSize = new cc.Size(0, 0);\n        }\n        return AtlasSprite;\n    }());\n    fgui.AtlasSprite = AtlasSprite;\n})(fgui || (fgui = {}));\nvar fgui;\n(function (fgui) {\n    var Window = (function (_super) {\n        __extends(Window, _super);\n        function Window() {\n            var _this = _super.call(this) || this;\n            _this._requestingCmd = 0;\n            _this._uiSources = new Array();\n            _this.bringToFontOnClick = fgui.UIConfig.bringWindowToFrontOnClick;\n            _this._node.on(fgui.Event.TOUCH_BEGIN, _this.onTouchBegin_1, _this, true);\n            return _this;\n        }\n        Window.prototype.genPartner = function () {\n            this._partner = this._node.addComponent(fgui.GActivatePartner);\n        };\n        Window.prototype.addUISource = function (source) {\n            this._uiSources.push(source);\n        };\n        Object.defineProperty(Window.prototype, \"contentPane\", {\n            get: function () {\n                return this._contentPane;\n            },\n            set: function (val) {\n                if (this._contentPane != val) {\n                    if (this._contentPane != null)\n                        this.removeChild(this._contentPane);\n                    this._contentPane = val;\n                    if (this._contentPane != null) {\n                        this._contentPane.name = this._name + \"contentPane\";\n                        this.addChild(this._contentPane);\n                        this.setSize(this._contentPane.width, this._contentPane.height);\n                        this._contentPane.addRelation(this, fgui.RelationType.Size);\n                        this._frame = (this._contentPane.getChild(\"frame\"));\n                        if (this._frame != null) {\n                            this.closeButton = this._frame.getChild(\"closeButton\");\n                            this.dragArea = this._frame.getChild(\"dragArea\");\n                            this.contentArea = this._frame.getChild(\"contentArea\");\n                        }\n                    }\n                }\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(Window.prototype, \"frame\", {\n            get: function () {\n                return this._frame;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(Window.prototype, \"closeButton\", {\n            get: function () {\n                return this._closeButton;\n            },\n            set: function (value) {\n                if (this._closeButton != null)\n                    this._closeButton.offClick(this.closeEventHandler, this);\n                this._closeButton = value;\n                if (this._closeButton != null)\n                    this._closeButton.onClick(this.closeEventHandler, this);\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(Window.prototype, \"dragArea\", {\n            get: function () {\n                return this._dragArea;\n            },\n            set: function (value) {\n                if (this._dragArea != value) {\n                    if (this._dragArea != null) {\n                        this._dragArea.draggable = false;\n                        this._dragArea.off(fgui.Event.DRAG_START, this.onDragStart_1, this);\n                    }\n                    this._dragArea = value;\n                    if (this._dragArea != null) {\n                        this._dragArea.draggable = true;\n                        this._dragArea.on(fgui.Event.DRAG_START, this.onDragStart_1, this);\n                    }\n                }\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(Window.prototype, \"contentArea\", {\n            get: function () {\n                return this._contentArea;\n            },\n            set: function (value) {\n                this._contentArea = value;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Window.prototype.show = function () {\n            fgui.GRoot.inst.showWindow(this);\n        };\n        Window.prototype.showOn = function (root) {\n            root.showWindow(this);\n        };\n        Window.prototype.hide = function (remove) {\n            if (remove === void 0) { remove = true; }\n            if (this.isShowing)\n                this.doHideAnimation(remove);\n        };\n        Window.prototype.hideImmediately = function (remove) {\n            if (remove === void 0) { remove = true; }\n            var r = (this.parent instanceof fgui.GRoot) ? (this.parent) : null;\n            if (!r)\n                r = fgui.GRoot.inst;\n            r.hideWindowImmediately(this, remove);\n        };\n        Window.prototype.centerOn = function (r, restraint) {\n            this.setPosition(Math.round((r.width - this.width) / 2), Math.round((r.height - this.height) / 2));\n            if (restraint) {\n                this.addRelation(r, fgui.RelationType.Center_Center);\n                this.addRelation(r, fgui.RelationType.Middle_Middle);\n            }\n        };\n        Window.prototype.toggleStatus = function () {\n            if (this.isTop)\n                this.hide();\n            else\n                this.show();\n        };\n        Object.defineProperty(Window.prototype, \"isShowing\", {\n            get: function () {\n                return this.parent != null;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(Window.prototype, \"isTop\", {\n            get: function () {\n                return this.parent != null && this.parent.getChildIndex(this) == this.parent.numChildren - 1;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(Window.prototype, \"modal\", {\n            get: function () {\n                return this._modal;\n            },\n            set: function (val) {\n                this._modal = val;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Window.prototype.bringToFront = function () {\n            this.root.bringToFront(this);\n        };\n        Window.prototype.showModalWait = function (requestingCmd) {\n            if (requestingCmd != undefined)\n                this._requestingCmd = requestingCmd;\n            if (fgui.UIConfig.windowModalWaiting) {\n                if (!this._modalWaitPane)\n                    this._modalWaitPane = fgui.UIPackage.createObjectFromURL(fgui.UIConfig.windowModalWaiting);\n                this.layoutModalWaitPane();\n                this.addChild(this._modalWaitPane);\n            }\n        };\n        Window.prototype.layoutModalWaitPane = function () {\n            if (this._contentArea != null) {\n                var pt = this._frame.localToGlobal();\n                pt = this.globalToLocal(pt.x, pt.y, pt);\n                this._modalWaitPane.setPosition(pt.x + this._contentArea.x, pt.y + this._contentArea.y);\n                this._modalWaitPane.setSize(this._contentArea.width, this._contentArea.height);\n            }\n            else\n                this._modalWaitPane.setSize(this.width, this.height);\n        };\n        Window.prototype.closeModalWait = function (requestingCmd) {\n            if (requestingCmd === void 0) { requestingCmd = 0; }\n            if (requestingCmd != 0) {\n                if (this._requestingCmd != requestingCmd)\n                    return false;\n            }\n            this._requestingCmd = 0;\n            if (this._modalWaitPane && this._modalWaitPane.parent != null)\n                this.removeChild(this._modalWaitPane);\n            return true;\n        };\n        Object.defineProperty(Window.prototype, \"modalWaiting\", {\n            get: function () {\n                return this._modalWaitPane && this._modalWaitPane.parent != null;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Window.prototype.init = function () {\n            if (this._inited || this._loading)\n                return;\n            if (this._uiSources.length > 0) {\n                this._loading = false;\n                var cnt = this._uiSources.length;\n                for (var i = 0; i < cnt; i++) {\n                    var lib = this._uiSources[i];\n                    if (!lib.loaded) {\n                        lib.load(this.__uiLoadComplete, this);\n                        this._loading = true;\n                    }\n                }\n                if (!this._loading)\n                    this._init();\n            }\n            else\n                this._init();\n        };\n        Window.prototype.onInit = function () {\n        };\n        Window.prototype.onShown = function () {\n        };\n        Window.prototype.onHide = function () {\n        };\n        Window.prototype.doShowAnimation = function () {\n            this.onShown();\n        };\n        Window.prototype.doHideAnimation = function (remove) {\n            if (remove === void 0) { remove = true; }\n            this.hideImmediately(remove);\n        };\n        Window.prototype.__uiLoadComplete = function () {\n            var cnt = this._uiSources.length;\n            for (var i = 0; i < cnt; i++) {\n                var lib = this._uiSources[i];\n                if (!lib.loaded)\n                    return;\n            }\n            this._loading = false;\n            this._init();\n        };\n        Window.prototype._init = function () {\n            this._inited = true;\n            this.onInit();\n            if (this.isShowing)\n                this.doShowAnimation();\n        };\n        Window.prototype.dispose = function () {\n            if (this.parent != null)\n                this.hideImmediately();\n            _super.prototype.dispose.call(this);\n        };\n        Window.prototype.closeEventHandler = function (evt) {\n            this.hide();\n        };\n        Window.prototype.onEnable = function () {\n            _super.prototype.onEnable.call(this);\n            if (!this._inited)\n                this.init();\n            else\n                this.doShowAnimation();\n        };\n        Window.prototype.onDisable = function () {\n            _super.prototype.onDisable.call(this);\n            this.closeModalWait();\n            this.onHide();\n        };\n        Window.prototype.onTouchBegin_1 = function (evt) {\n            if (this.isShowing && this.bringToFontOnClick)\n                this.bringToFront();\n        };\n        Window.prototype.onDragStart_1 = function (evt) {\n            var original = fgui.GObject.cast(evt.currentTarget);\n            original.stopDrag();\n            this.startDrag(evt.touchId);\n        };\n        return Window;\n    }(fgui.GComponent));\n    fgui.Window = Window;\n})(fgui || (fgui = {}));\nvar fgui;\n(function (fgui) {\n    var ControllerAction = (function () {\n        function ControllerAction() {\n        }\n        ControllerAction.createAction = function (type) {\n            switch (type) {\n                case 0:\n                    return new fgui.PlayTransitionAction();\n                case 1:\n                    return new fgui.ChangePageAction();\n            }\n            return null;\n        };\n        ControllerAction.prototype.run = function (controller, prevPage, curPage) {\n            if ((this.fromPage == null || this.fromPage.length == 0 || this.fromPage.indexOf(prevPage) != -1)\n                && (this.toPage == null || this.toPage.length == 0 || this.toPage.indexOf(curPage) != -1))\n                this.enter(controller);\n            else\n                this.leave(controller);\n        };\n        ControllerAction.prototype.enter = function (controller) {\n        };\n        ControllerAction.prototype.leave = function (controller) {\n        };\n        ControllerAction.prototype.setup = function (buffer) {\n            var cnt;\n            var i;\n            cnt = buffer.readShort();\n            this.fromPage = [];\n            for (i = 0; i < cnt; i++)\n                this.fromPage[i] = buffer.readS();\n            cnt = buffer.readShort();\n            this.toPage = [];\n            for (i = 0; i < cnt; i++)\n                this.toPage[i] = buffer.readS();\n        };\n        return ControllerAction;\n    }());\n    fgui.ControllerAction = ControllerAction;\n})(fgui || (fgui = {}));\nvar fgui;\n(function (fgui) {\n    var ChangePageAction = (function (_super) {\n        __extends(ChangePageAction, _super);\n        function ChangePageAction() {\n            return _super.call(this) || this;\n        }\n        ChangePageAction.prototype.enter = function (controller) {\n            if (!this.controllerName)\n                return;\n            var gcom;\n            if (this.objectId) {\n                var obj = controller.parent.getChildById(this.objectId);\n                if (obj instanceof fgui.GComponent)\n                    gcom = obj;\n                else\n                    return;\n            }\n            else\n                gcom = controller.parent;\n            if (gcom) {\n                var cc = gcom.getController(this.controllerName);\n                if (cc && cc != controller && !cc.changing) {\n                    if (this.targetPage == \"~1\") {\n                        if (controller.selectedIndex < cc.pageCount)\n                            cc.selectedIndex = controller.selectedIndex;\n                    }\n                    else if (this.targetPage == \"~2\")\n                        cc.selectedPage = controller.selectedPage;\n                    else\n                        cc.selectedPageId = this.targetPage;\n                }\n            }\n        };\n        ChangePageAction.prototype.setup = function (buffer) {\n            _super.prototype.setup.call(this, buffer);\n            this.objectId = buffer.readS();\n            this.controllerName = buffer.readS();\n            this.targetPage = buffer.readS();\n        };\n        return ChangePageAction;\n    }(fgui.ControllerAction));\n    fgui.ChangePageAction = ChangePageAction;\n})(fgui || (fgui = {}));\nvar fgui;\n(function (fgui) {\n    var PlayTransitionAction = (function (_super) {\n        __extends(PlayTransitionAction, _super);\n        function PlayTransitionAction() {\n            var _this = _super.call(this) || this;\n            _this.playTimes = 1;\n            _this.delay = 0;\n            _this.stopOnExit = false;\n            return _this;\n        }\n        PlayTransitionAction.prototype.enter = function (controller) {\n            var trans = controller.parent.getTransition(this.transitionName);\n            if (trans) {\n                if (this._currentTransition && this._currentTransition.playing)\n                    trans.changePlayTimes(this.playTimes);\n                else\n                    trans.play(null, this.playTimes, this.delay);\n                this._currentTransition = trans;\n            }\n        };\n        PlayTransitionAction.prototype.leave = function (controller) {\n            if (this.stopOnExit && this._currentTransition) {\n                this._currentTransition.stop();\n                this._currentTransition = null;\n            }\n        };\n        PlayTransitionAction.prototype.setup = function (buffer) {\n            _super.prototype.setup.call(this, buffer);\n            this.transitionName = buffer.readS();\n            this.playTimes = buffer.readInt();\n            this.delay = buffer.readFloat();\n            this.stopOnExit = buffer.readBool();\n        };\n        return PlayTransitionAction;\n    }(fgui.ControllerAction));\n    fgui.PlayTransitionAction = PlayTransitionAction;\n})(fgui || (fgui = {}));\nvar fgui;\n(function (fgui) {\n    var BlendMode;\n    (function (BlendMode) {\n        BlendMode[BlendMode[\"Normal\"] = 0] = \"Normal\";\n        BlendMode[BlendMode[\"None\"] = 1] = \"None\";\n        BlendMode[BlendMode[\"Add\"] = 2] = \"Add\";\n        BlendMode[BlendMode[\"Multiply\"] = 3] = \"Multiply\";\n        BlendMode[BlendMode[\"Screen\"] = 4] = \"Screen\";\n        BlendMode[BlendMode[\"Erase\"] = 5] = \"Erase\";\n        BlendMode[BlendMode[\"Mask\"] = 6] = \"Mask\";\n        BlendMode[BlendMode[\"Below\"] = 7] = \"Below\";\n        BlendMode[BlendMode[\"Off\"] = 8] = \"Off\";\n        BlendMode[BlendMode[\"Custom1\"] = 9] = \"Custom1\";\n        BlendMode[BlendMode[\"Custom2\"] = 10] = \"Custom2\";\n        BlendMode[BlendMode[\"Custom3\"] = 11] = \"Custom3\";\n    })(BlendMode = fgui.BlendMode || (fgui.BlendMode = {}));\n    var BlendModeUtils = (function () {\n        function BlendModeUtils() {\n        }\n        BlendModeUtils.apply = function (node, blendMode) {\n            var f = BlendModeUtils.factors[blendMode];\n            var renderers = node.getComponentsInChildren(cc.RenderComponent);\n            renderers.forEach(function (element) {\n                element.srcBlendFactor = f[0];\n                element.dstBlendFactor = f[1];\n            });\n        };\n        BlendModeUtils.override = function (blendMode, srcFactor, dstFactor) {\n            BlendModeUtils.factors[blendMode][0] = srcFactor;\n            BlendModeUtils.factors[blendMode][1] = dstFactor;\n        };\n        BlendModeUtils.factors = [\n            [cc.macro.SRC_ALPHA, cc.macro.ONE_MINUS_SRC_ALPHA],\n            [cc.macro.ONE, cc.macro.ONE],\n            [cc.macro.SRC_ALPHA, cc.macro.ONE],\n            [cc.macro.DST_COLOR, cc.macro.ONE_MINUS_SRC_ALPHA],\n            [cc.macro.ONE, cc.macro.ONE_MINUS_SRC_COLOR],\n            [cc.macro.ZERO, cc.macro.ONE_MINUS_SRC_ALPHA],\n            [cc.macro.ZERO, cc.macro.SRC_ALPHA],\n            [cc.macro.ONE_MINUS_DST_ALPHA, cc.macro.DST_ALPHA],\n            [cc.macro.ONE, cc.macro.ZERO],\n            [cc.macro.SRC_ALPHA, cc.macro.ONE_MINUS_SRC_ALPHA],\n            [cc.macro.SRC_ALPHA, cc.macro.ONE_MINUS_SRC_ALPHA],\n            [cc.macro.SRC_ALPHA, cc.macro.ONE_MINUS_SRC_ALPHA],\n        ];\n        return BlendModeUtils;\n    }());\n    fgui.BlendModeUtils = BlendModeUtils;\n})(fgui || (fgui = {}));\nvar fgui;\n(function (fgui) {\n    var Image = (function (_super) {\n        __extends(Image, _super);\n        function Image() {\n            var _this = _super.call(this) || this;\n            _this._flip = fgui.FlipType.None;\n            _this._fillMethod = fgui.FillMethod.None;\n            _this._fillOrigin = fgui.FillOrigin.Left;\n            _this._fillAmount = 0;\n            _this._fillClockwise = false;\n            _this._grayed = false;\n            return _this;\n        }\n        Object.defineProperty(Image.prototype, \"flip\", {\n            get: function () {\n                return this._flip;\n            },\n            set: function (value) {\n                if (this._flip != value) {\n                    this._flip = value;\n                    var sx = 1, sy = 1;\n                    if (this._flip == fgui.FlipType.Horizontal || this._flip == fgui.FlipType.Both)\n                        sx = -1;\n                    if (this._flip == fgui.FlipType.Vertical || this._flip == fgui.FlipType.Both)\n                        sy = -1;\n                    if (sx != 1 || sy != 1)\n                        this.node.setAnchorPoint(0.5, 0.5);\n                    this.node.setScale(sx, sy);\n                }\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(Image.prototype, \"fillMethod\", {\n            get: function () {\n                return this._fillMethod;\n            },\n            set: function (value) {\n                if (this._fillMethod != value) {\n                    this._fillMethod = value;\n                    if (this._fillMethod != 0) {\n                        this.type = cc.Sprite.Type.FILLED;\n                        if (this._fillMethod <= 3)\n                            this.fillType = this._fillMethod - 1;\n                        else\n                            this.fillType = cc.Sprite.FillType.RADIAL;\n                        this.fillCenter = new cc.Vec2(0.5, 0.5);\n                        this.setupFill();\n                    }\n                    else {\n                        this.type = cc.Sprite.Type.SIMPLE;\n                    }\n                }\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(Image.prototype, \"fillOrigin\", {\n            get: function () {\n                return this._fillOrigin;\n            },\n            set: function (value) {\n                if (this._fillOrigin != value) {\n                    this._fillOrigin = value;\n                    if (this._fillMethod != 0)\n                        this.setupFill();\n                }\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(Image.prototype, \"fillClockwise\", {\n            get: function () {\n                return this._fillClockwise;\n            },\n            set: function (value) {\n                if (this._fillClockwise != value) {\n                    this._fillClockwise = value;\n                    if (this._fillMethod != 0)\n                        this.setupFill();\n                }\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(Image.prototype, \"fillAmount\", {\n            get: function () {\n                return this._fillAmount;\n            },\n            set: function (value) {\n                if (this._fillAmount != value) {\n                    this._fillAmount = value;\n                    if (this._fillMethod != 0) {\n                        if (this._fillClockwise)\n                            this.fillRange = -this._fillAmount;\n                        else\n                            this.fillRange = this._fillAmount;\n                    }\n                }\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Image.prototype.setupFill = function () {\n            if (this._fillMethod == fgui.FillMethod.Horizontal || this._fillMethod == fgui.FillMethod.Vertical) {\n                this._fillClockwise = this._fillOrigin == fgui.FillOrigin.Right || this._fillOrigin == fgui.FillOrigin.Bottom;\n                this.fillStart = this._fillClockwise ? 1 : 0;\n            }\n            else {\n                var origin_1 = this._fillOrigin;\n                switch (origin_1) {\n                    case fgui.FillOrigin.Right:\n                        this.fillOrigin = 0;\n                        break;\n                    case fgui.FillOrigin.Top:\n                        this.fillStart = 0.25;\n                        break;\n                    case fgui.FillOrigin.Left:\n                        this.fillStart = 0.5;\n                        break;\n                    case fgui.FillOrigin.Bottom:\n                        this.fillStart = 0.75;\n                        break;\n                }\n            }\n        };\n        Object.defineProperty(Image.prototype, \"grayed\", {\n            get: function () {\n                return this._grayed;\n            },\n            set: function (value) {\n                if (this._grayed == value)\n                    return;\n                this._grayed = value;\n                var material;\n                if (value) {\n                    material = this._graySpriteMaterial;\n                    if (!material) {\n                        material = cc.Material.getBuiltinMaterial('2d-gray-sprite');\n                    }\n                    if (cc.Material.getInstantiatedMaterial) {\n                        material = this._graySpriteMaterial = cc.Material.getInstantiatedMaterial(material, this);\n                    }\n                    else {\n                        material = this._graySpriteMaterial = cc.Material.create(material, this);\n                    }\n                }\n                else {\n                    material = this._spriteMaterial;\n                    if (!material) {\n                        material = cc.Material.getBuiltinMaterial('2d-sprite', this);\n                    }\n                    if (cc.Material.getInstantiatedMaterial) {\n                        material = this._spriteMaterial = cc.Material.getInstantiatedMaterial(material, this);\n                    }\n                    else {\n                        material = this._spriteMaterial = cc.Material.create(material, this);\n                    }\n                }\n                this.setMaterial(0, material);\n            },\n            enumerable: false,\n            configurable: true\n        });\n        ;\n        return Image;\n    }(cc.Sprite));\n    fgui.Image = Image;\n})(fgui || (fgui = {}));\nvar fgui;\n(function (fgui) {\n    var Frame = (function () {\n        function Frame() {\n            this.addDelay = 0;\n            this.rect = new cc.Rect();\n        }\n        return Frame;\n    }());\n    fgui.Frame = Frame;\n    var MovieClip = (function (_super) {\n        __extends(MovieClip, _super);\n        function MovieClip() {\n            var _this = _super.call(this) || this;\n            _this.interval = 0;\n            _this.repeatDelay = 0;\n            _this.timeScale = 1;\n            _this._playing = true;\n            _this._frameCount = 0;\n            _this._frame = 0;\n            _this._start = 0;\n            _this._end = 0;\n            _this._times = 0;\n            _this._endAt = 0;\n            _this._status = 0;\n            _this._smoothing = true;\n            _this._frameElapsed = 0;\n            _this._reversed = false;\n            _this._repeatedCount = 0;\n            _this.setPlaySettings();\n            return _this;\n        }\n        Object.defineProperty(MovieClip.prototype, \"frames\", {\n            get: function () {\n                return this._frames;\n            },\n            set: function (value) {\n                this._frames = value;\n                if (this._frames != null) {\n                    this._frameCount = this._frames.length;\n                    if (this._end == -1 || this._end > this._frameCount - 1)\n                        this._end = this._frameCount - 1;\n                    if (this._endAt == -1 || this._endAt > this._frameCount - 1)\n                        this._endAt = this._frameCount - 1;\n                    if (this._frame < 0 || this._frame > this._frameCount - 1)\n                        this._frame = this._frameCount - 1;\n                    this.type = cc.Sprite.Type.SIMPLE;\n                    this.drawFrame();\n                    this._frameElapsed = 0;\n                    this._repeatedCount = 0;\n                    this._reversed = false;\n                }\n                else {\n                    this._frameCount = 0;\n                }\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(MovieClip.prototype, \"frameCount\", {\n            get: function () {\n                return this._frameCount;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(MovieClip.prototype, \"frame\", {\n            get: function () {\n                return this._frame;\n            },\n            set: function (value) {\n                if (this._frame != value) {\n                    if (this._frames != null && value >= this._frameCount)\n                        value = this._frameCount - 1;\n                    this._frame = value;\n                    this._frameElapsed = 0;\n                    this.drawFrame();\n                }\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(MovieClip.prototype, \"playing\", {\n            get: function () {\n                return this._playing;\n            },\n            set: function (value) {\n                if (this._playing != value) {\n                    this._playing = value;\n                }\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(MovieClip.prototype, \"smoothing\", {\n            get: function () {\n                return this._smoothing;\n            },\n            set: function (value) {\n                this._smoothing = value;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        MovieClip.prototype.rewind = function () {\n            this._frame = 0;\n            this._frameElapsed = 0;\n            this._reversed = false;\n            this._repeatedCount = 0;\n            this.drawFrame();\n        };\n        MovieClip.prototype.syncStatus = function (anotherMc) {\n            this._frame = anotherMc._frame;\n            this._frameElapsed = anotherMc._frameElapsed;\n            this._reversed = anotherMc._reversed;\n            this._repeatedCount = anotherMc._repeatedCount;\n            this.drawFrame();\n        };\n        MovieClip.prototype.advance = function (timeInMiniseconds) {\n            var beginFrame = this._frame;\n            var beginReversed = this._reversed;\n            var backupTime = timeInMiniseconds;\n            while (true) {\n                var tt = this.interval + this._frames[this._frame].addDelay;\n                if (this._frame == 0 && this._repeatedCount > 0)\n                    tt += this.repeatDelay;\n                if (timeInMiniseconds < tt) {\n                    this._frameElapsed = 0;\n                    break;\n                }\n                timeInMiniseconds -= tt;\n                if (this.swing) {\n                    if (this._reversed) {\n                        this._frame--;\n                        if (this._frame <= 0) {\n                            this._frame = 0;\n                            this._repeatedCount++;\n                            this._reversed = !this._reversed;\n                        }\n                    }\n                    else {\n                        this._frame++;\n                        if (this._frame > this._frameCount - 1) {\n                            this._frame = Math.max(0, this._frameCount - 2);\n                            this._repeatedCount++;\n                            this._reversed = !this._reversed;\n                        }\n                    }\n                }\n                else {\n                    this._frame++;\n                    if (this._frame > this._frameCount - 1) {\n                        this._frame = 0;\n                        this._repeatedCount++;\n                    }\n                }\n                if (this._frame == beginFrame && this._reversed == beginReversed) {\n                    var roundTime = backupTime - timeInMiniseconds;\n                    timeInMiniseconds -= Math.floor(timeInMiniseconds / roundTime) * roundTime;\n                }\n            }\n            this.drawFrame();\n        };\n        MovieClip.prototype.registerFrameCallback = function (callback, callbackObj) {\n            this._frameCallback = callback;\n            this._frameCallbackObj = callbackObj;\n        };\n        MovieClip.prototype.setPlaySettings = function (start, end, times, endAt, endCallback, callbackObj) {\n            if (start == undefined)\n                start = 0;\n            if (end == undefined)\n                end = -1;\n            if (times == undefined)\n                times = 0;\n            if (endAt == undefined)\n                endAt = -1;\n            this._start = start;\n            this._end = end;\n            if (this._end == -1 || this._end > this._frameCount - 1)\n                this._end = this._frameCount - 1;\n            this._times = times;\n            this._endAt = endAt;\n            if (this._endAt == -1)\n                this._endAt = this._end;\n            this._status = 0;\n            this._callback = endCallback;\n            this._callbackObj = callbackObj;\n            this.frame = start;\n        };\n        MovieClip.prototype.update = function (dt) {\n            if (!this._playing || this._frameCount == 0 || this._status == 3)\n                return;\n            if (this.timeScale != 1)\n                dt *= this.timeScale;\n            this._frameElapsed += dt;\n            var tt = this.interval + this._frames[this._frame].addDelay;\n            if (this._frame == 0 && this._repeatedCount > 0)\n                tt += this.repeatDelay;\n            if (this._frameElapsed < tt)\n                return;\n            var curFrame = this._frame;\n            this._frameElapsed -= tt;\n            if (this._frameElapsed > this.interval)\n                this._frameElapsed = this.interval;\n            if (this.swing) {\n                if (this._reversed) {\n                    this._frame--;\n                    if (this._frame <= 0) {\n                        this._frame = 0;\n                        this._repeatedCount++;\n                        this._reversed = !this._reversed;\n                    }\n                }\n                else {\n                    this._frame++;\n                    if (this._frame > this._frameCount - 1) {\n                        this._frame = Math.max(0, this._frameCount - 2);\n                        this._repeatedCount++;\n                        this._reversed = !this._reversed;\n                    }\n                }\n            }\n            else {\n                this._frame++;\n                if (this._frame > this._frameCount - 1) {\n                    this._frame = 0;\n                    this._repeatedCount++;\n                }\n            }\n            if (this._status == 1) {\n                this._frame = this._start;\n                this._frameElapsed = 0;\n                this._status = 0;\n            }\n            else if (this._status == 2) {\n                this._frame = this._endAt;\n                this._frameElapsed = 0;\n                this._status = 3;\n                this.callDrawFrameCallback(this._frame);\n                if (this._callback != null) {\n                    var callback = this._callback;\n                    var caller = this._callbackObj;\n                    this._callback = null;\n                    this._callbackObj = null;\n                    callback.call(caller);\n                }\n            }\n            else {\n                if (this._frame == this._end) {\n                    if (this._times > 0) {\n                        this._times--;\n                        if (this._times == 0)\n                            this._status = 2;\n                        else\n                            this._status = 1;\n                    }\n                    else if (this._start != 0)\n                        this._status = 1;\n                }\n            }\n            if (curFrame !== this._frame) {\n                this.drawFrame();\n            }\n        };\n        MovieClip.prototype.callDrawFrameCallback = function (frame) {\n            if (this._frameCallback) {\n                var callback = this._frameCallback;\n                var caller = this._frameCallbackObj;\n                callback.call(caller, [frame]);\n            }\n        };\n        MovieClip.prototype.drawFrame = function () {\n            if (!this._frames || this._frames.length <= 0)\n                return;\n            if (this._frameCount > 0 && this._frame < this._frames.length) {\n                var frame = this._frames[this._frame];\n                this.spriteFrame = frame.texture;\n            }\n            if (this._status != 3) {\n                this.callDrawFrameCallback(this._frame);\n            }\n        };\n        return MovieClip;\n    }(fgui.Image));\n    fgui.MovieClip = MovieClip;\n})(fgui || (fgui = {}));\nvar fgui;\n(function (fgui) {\n    var Event = (function (_super) {\n        __extends(Event, _super);\n        function Event(type, bubbles) {\n            var _this = _super.call(this, type, bubbles) || this;\n            _this.pos = new cc.Vec2();\n            _this.touchId = 0;\n            _this.clickCount = 0;\n            _this.button = 0;\n            _this.keyModifiers = 0;\n            _this.mouseWheelDelta = 0;\n            return _this;\n        }\n        Object.defineProperty(Event.prototype, \"isShiftDown\", {\n            get: function () {\n                return false;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(Event.prototype, \"isCtrlDown\", {\n            get: function () {\n                return false;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Event.prototype.captureTouch = function () {\n            var obj = fgui.GObject.cast(this.currentTarget);\n            if (obj)\n                this._processor.addTouchMonitor(this.touchId, obj);\n        };\n        Event._borrow = function (type, bubbles) {\n            var evt;\n            if (Event._eventPool.length) {\n                evt = Event._eventPool.pop();\n                evt.type = type;\n                evt.bubbles = bubbles;\n            }\n            else {\n                evt = new Event(type, bubbles);\n            }\n            return evt;\n        };\n        Event._return = function (evt) {\n            evt.initiator = null;\n            evt.touch = null;\n            evt.unuse();\n            Event._eventPool.push(evt);\n        };\n        Event.TOUCH_BEGIN = \"fui_touch_begin\";\n        Event.TOUCH_MOVE = \"fui_touch_move\";\n        Event.TOUCH_END = \"fui_touch_end\";\n        Event.CLICK = \"fui_click\";\n        Event.ROLL_OVER = \"fui_roll_over\";\n        Event.ROLL_OUT = \"fui_roll_out\";\n        Event.MOUSE_WHEEL = \"fui_mouse_wheel\";\n        Event.DISPLAY = \"fui_display\";\n        Event.UNDISPLAY = \"fui_undisplay\";\n        Event.GEAR_STOP = \"fui_gear_stop\";\n        Event.LINK = \"fui_text_link\";\n        Event.Submit = \"editing-return\";\n        Event.TEXT_CHANGE = \"text-changed\";\n        Event.STATUS_CHANGED = \"fui_status_changed\";\n        Event.XY_CHANGED = \"fui_xy_changed\";\n        Event.SIZE_CHANGED = \"fui_size_changed\";\n        Event.SIZE_DELAY_CHANGE = \"fui_size_delay_change\";\n        Event.DRAG_START = \"fui_drag_start\";\n        Event.DRAG_MOVE = \"fui_drag_move\";\n        Event.DRAG_END = \"fui_drag_end\";\n        Event.DROP = \"fui_drop\";\n        Event.SCROLL = \"fui_scroll\";\n        Event.SCROLL_END = \"fui_scroll_end\";\n        Event.PULL_DOWN_RELEASE = \"fui_pull_down_release\";\n        Event.PULL_UP_RELEASE = \"fui_pull_up_release\";\n        Event.CLICK_ITEM = \"fui_click_item\";\n        Event._eventPool = new Array();\n        return Event;\n    }(cc.Event));\n    fgui.Event = Event;\n})(fgui || (fgui = {}));\nvar fgui;\n(function (fgui) {\n    var PixelHitTest = (function () {\n        function PixelHitTest(data, offsetX, offsetY) {\n            this._data = data;\n            this.offsetX = offsetX == undefined ? 0 : offsetX;\n            this.offsetY = offsetY == undefined ? 0 : offsetY;\n            this.scaleX = 1;\n            this.scaleY = 1;\n        }\n        PixelHitTest.prototype.hitTest = function (obj, x, y) {\n            x = Math.floor((x / this.scaleX - this.offsetX) * this._data.scale);\n            y = Math.floor((y / this.scaleY - this.offsetY) * this._data.scale);\n            if (x < 0 || y < 0 || x >= this._data.pixelWidth)\n                return false;\n            var pos = y * this._data.pixelWidth + x;\n            var pos2 = Math.floor(pos / 8);\n            var pos3 = pos % 8;\n            if (pos2 >= 0 && pos2 < this._data.pixels.length)\n                return ((this._data.pixels[pos2] >> pos3) & 0x1) == 1;\n            else\n                return false;\n        };\n        return PixelHitTest;\n    }());\n    fgui.PixelHitTest = PixelHitTest;\n    var PixelHitTestData = (function () {\n        function PixelHitTestData(ba) {\n            ba.readInt();\n            this.pixelWidth = ba.readInt();\n            this.scale = 1 / ba.readByte();\n            this.pixels = ba.readBuffer().data;\n        }\n        return PixelHitTestData;\n    }());\n    fgui.PixelHitTestData = PixelHitTestData;\n    var ChildHitArea = (function () {\n        function ChildHitArea(child, reversed) {\n            this._child = child;\n            this._reversed = reversed;\n        }\n        ChildHitArea.prototype.hitTest = function (obj, x, y) {\n            return false;\n        };\n        return ChildHitArea;\n    }());\n    fgui.ChildHitArea = ChildHitArea;\n})(fgui || (fgui = {}));\nvar fgui;\n(function (fgui) {\n    var InputProcessor = (function (_super) {\n        __extends(InputProcessor, _super);\n        function InputProcessor() {\n            var _this = _super.call(this) || this;\n            _this._touches = new Array();\n            _this._rollOutChain = new Array();\n            _this._rollOverChain = new Array();\n            _this._touchPos = new cc.Vec2();\n            return _this;\n        }\n        InputProcessor.prototype.onLoad = function () {\n            this._owner = this.node[\"$gobj\"];\n        };\n        InputProcessor.prototype.onEnable = function () {\n            var node = this.node;\n            node.on(cc.Node.EventType.TOUCH_START, this.touchBeginHandler, this);\n            node.on(cc.Node.EventType.TOUCH_MOVE, this.touchMoveHandler, this);\n            node.on(cc.Node.EventType.TOUCH_END, this.touchEndHandler, this);\n            node.on(cc.Node.EventType.TOUCH_CANCEL, this.touchCancelHandler, this);\n            node.on(cc.Node.EventType.MOUSE_DOWN, this.mouseDownHandler, this);\n            node.on(cc.Node.EventType.MOUSE_MOVE, this.mouseMoveHandler, this);\n            node.on(cc.Node.EventType.MOUSE_UP, this.mouseUpHandler, this);\n            node.on(cc.Node.EventType.MOUSE_WHEEL, this.mouseWheelHandler, this);\n            this._touchListener = this.node[\"_touchListener\"];\n        };\n        InputProcessor.prototype.onDisable = function () {\n            var node = this.node;\n            node.off(cc.Node.EventType.TOUCH_START, this.touchBeginHandler, this);\n            node.off(cc.Node.EventType.TOUCH_MOVE, this.touchMoveHandler, this);\n            node.off(cc.Node.EventType.TOUCH_END, this.touchEndHandler, this);\n            node.off(cc.Node.EventType.TOUCH_CANCEL, this.touchCancelHandler, this);\n            node.off(cc.Node.EventType.MOUSE_DOWN, this.mouseDownHandler, this);\n            node.off(cc.Node.EventType.MOUSE_MOVE, this.mouseMoveHandler, this);\n            node.off(cc.Node.EventType.MOUSE_UP, this.mouseUpHandler, this);\n            node.off(cc.Node.EventType.MOUSE_WHEEL, this.mouseWheelHandler, this);\n            this._touchListener = null;\n        };\n        InputProcessor.prototype.getAllTouches = function (touchIds) {\n            touchIds = touchIds || new Array();\n            var cnt = this._touches.length;\n            for (var i = 0; i < cnt; i++) {\n                var ti = this._touches[i];\n                if (ti.touchId != -1)\n                    touchIds.push(ti.touchId);\n            }\n            return touchIds;\n        };\n        InputProcessor.prototype.getTouchPosition = function (touchId) {\n            if (touchId === undefined)\n                touchId = -1;\n            var cnt = this._touches.length;\n            for (var i = 0; i < cnt; i++) {\n                var ti = this._touches[i];\n                if (ti.touchId != -1 && (touchId == -1 || ti.touchId == touchId))\n                    return ti.pos;\n            }\n            return cc.Vec2.ZERO;\n        };\n        InputProcessor.prototype.getTouchTarget = function () {\n            var cnt = this._touches.length;\n            for (var i = 0; i < cnt; i++) {\n                var ti = this._touches[i];\n                if (ti.touchId != -1)\n                    return ti.target;\n            }\n            return null;\n        };\n        InputProcessor.prototype.addTouchMonitor = function (touchId, target) {\n            var ti = this.getInfo(touchId, false);\n            if (!ti)\n                return;\n            var index = ti.touchMonitors.indexOf(target);\n            if (index == -1)\n                ti.touchMonitors.push(target);\n        };\n        InputProcessor.prototype.removeTouchMonitor = function (target) {\n            var cnt = this._touches.length;\n            for (var i = 0; i < cnt; i++) {\n                var ti = this._touches[i];\n                var index = ti.touchMonitors.indexOf(target);\n                if (index != -1)\n                    ti.touchMonitors.splice(index, 1);\n            }\n        };\n        InputProcessor.prototype.cancelClick = function (touchId) {\n            var ti = this.getInfo(touchId, false);\n            if (ti)\n                ti.clickCancelled = true;\n        };\n        InputProcessor.prototype.simulateClick = function (target) {\n            var evt;\n            evt = fgui.Event._borrow(fgui.Event.TOUCH_BEGIN, true);\n            evt.initiator = target;\n            evt.pos.set(target.localToGlobal());\n            evt.touchId = 0;\n            evt.clickCount = 1;\n            evt.button = 0;\n            evt._processor = this;\n            if (this._captureCallback)\n                this._captureCallback.call(this._owner, evt);\n            target.node.dispatchEvent(evt);\n            evt.unuse();\n            evt.type = fgui.Event.TOUCH_END;\n            evt.bubbles = true;\n            target.node.dispatchEvent(evt);\n            evt.unuse();\n            evt.type = fgui.Event.CLICK;\n            evt.bubbles = true;\n            target.node.dispatchEvent(evt);\n            fgui.Event._return(evt);\n        };\n        InputProcessor.prototype.touchBeginHandler = function (touch, evt) {\n            var ti = this.updateInfo(touch.getID(), touch.getLocation(), touch);\n            this._touchListener.setSwallowTouches(ti.target != this._owner);\n            this.setBegin(ti);\n            var evt2 = this.getEvent(ti, ti.target, fgui.Event.TOUCH_BEGIN, true);\n            if (this._captureCallback)\n                this._captureCallback.call(this._owner, evt2);\n            ti.target.node.dispatchEvent(evt2);\n            this.handleRollOver(ti, ti.target);\n            return true;\n        };\n        InputProcessor.prototype.touchMoveHandler = function (touch, evt) {\n            var ti = this.updateInfo(touch.getID(), touch.getLocation(), touch);\n            this.handleRollOver(ti, ti.target);\n            if (ti.began) {\n                var evt2 = this.getEvent(ti, ti.target, fgui.Event.TOUCH_MOVE, false);\n                var done = false;\n                var cnt = ti.touchMonitors.length;\n                for (var i = 0; i < cnt; i++) {\n                    var mm = ti.touchMonitors[i];\n                    if (mm.node == null || !mm.node.activeInHierarchy)\n                        continue;\n                    evt2.unuse();\n                    evt2.type = fgui.Event.TOUCH_MOVE;\n                    mm.node.dispatchEvent(evt2);\n                    if (mm == this._owner)\n                        done = true;\n                }\n                if (!done && this.node != null) {\n                    evt2.unuse();\n                    evt2.type = fgui.Event.TOUCH_MOVE;\n                    this.node.dispatchEvent(evt2);\n                }\n                fgui.Event._return(evt2);\n            }\n        };\n        InputProcessor.prototype.touchEndHandler = function (touch, evt) {\n            var ti = this.updateInfo(touch.getID(), touch.getLocation(), touch);\n            this.setEnd(ti);\n            var evt2 = this.getEvent(ti, ti.target, fgui.Event.TOUCH_END, false);\n            var cnt = ti.touchMonitors.length;\n            for (var i = 0; i < cnt; i++) {\n                var mm = ti.touchMonitors[i];\n                if (mm == ti.target || mm.node == null || !mm.node.activeInHierarchy\n                    || (mm instanceof fgui.GComponent) && mm.isAncestorOf(ti.target))\n                    continue;\n                evt2.unuse();\n                evt2.type = fgui.Event.TOUCH_END;\n                mm.node.dispatchEvent(evt2);\n            }\n            ti.touchMonitors.length = 0;\n            if (ti.target && ti.target.node != null) {\n                if (ti.target instanceof fgui.GRichTextField)\n                    ti.target.node.getComponent(cc.RichText)[\"_onTouchEnded\"](evt2);\n                evt2.unuse();\n                evt2.type = fgui.Event.TOUCH_END;\n                evt2.bubbles = true;\n                ti.target.node.dispatchEvent(evt2);\n            }\n            fgui.Event._return(evt2);\n            ti.target = this.clickTest(ti);\n            if (ti.target) {\n                evt2 = this.getEvent(ti, ti.target, fgui.Event.CLICK, true);\n                ti.target.node.dispatchEvent(evt2);\n                fgui.Event._return(evt2);\n            }\n            if (cc.sys.isMobile)\n                this.handleRollOver(ti, null);\n            else\n                this.handleRollOver(ti, ti.target);\n            ti.target = null;\n            ti.touchId = -1;\n            ti.button = -1;\n        };\n        InputProcessor.prototype.touchCancelHandler = function (touch, evt) {\n            var ti = this.updateInfo(touch.getID(), touch.getLocation(), touch);\n            var evt2 = this.getEvent(ti, ti.target, fgui.Event.TOUCH_END, false);\n            var cnt = ti.touchMonitors.length;\n            for (var i = 0; i < cnt; i++) {\n                var mm = ti.touchMonitors[i];\n                if (mm == ti.target || mm.node == null || !mm.node.activeInHierarchy\n                    || (mm instanceof fgui.GComponent) && mm.isAncestorOf(ti.target))\n                    continue;\n                evt2.initiator = mm;\n                mm.node.dispatchEvent(evt2);\n            }\n            ti.touchMonitors.length = 0;\n            if (ti.target && ti.target.node != null) {\n                evt2.bubbles = true;\n                ti.target.node.dispatchEvent(evt2);\n            }\n            fgui.Event._return(evt2);\n            this.handleRollOver(ti, null);\n            ti.target = null;\n            ti.touchId = -1;\n            ti.button = -1;\n        };\n        InputProcessor.prototype.mouseDownHandler = function (evt) {\n            var ti = this.getInfo(0, true);\n            ti.button = evt.getButton();\n        };\n        InputProcessor.prototype.mouseUpHandler = function (evt) {\n            var ti = this.getInfo(0, true);\n            ti.button = evt.getButton();\n        };\n        InputProcessor.prototype.mouseMoveHandler = function (evt) {\n            var ti = this.getInfo(0, false);\n            if (ti\n                && Math.abs(ti.pos.x - evt.getLocationX()) < 1\n                && Math.abs(ti.pos.y - (fgui.GRoot.inst.height - evt.getLocationY())) < 1)\n                return;\n            ti = this.updateInfo(0, evt.getLocation());\n            this.handleRollOver(ti, ti.target);\n            if (ti.began) {\n                var evt2 = this.getEvent(ti, ti.target, fgui.Event.TOUCH_MOVE, false);\n                var done = false;\n                var cnt = ti.touchMonitors.length;\n                for (var i = 0; i < cnt; i++) {\n                    var mm = ti.touchMonitors[i];\n                    if (mm.node == null || !mm.node.activeInHierarchy)\n                        continue;\n                    evt2.initiator = mm;\n                    mm.node.dispatchEvent(evt2);\n                    if (mm == this._owner)\n                        done = true;\n                }\n                if (!done && this.node != null) {\n                    evt2.initiator = this._owner;\n                    this.node.dispatchEvent(evt2);\n                    fgui.Event._return(evt2);\n                }\n                fgui.Event._return(evt2);\n            }\n        };\n        InputProcessor.prototype.mouseWheelHandler = function (evt) {\n            var ti = this.updateInfo(0, evt.getLocation());\n            ti.mouseWheelDelta = Math.max(evt.getScrollX(), evt.getScrollY());\n            var evt2 = this.getEvent(ti, ti.target, fgui.Event.MOUSE_WHEEL, true);\n            ti.target.node.dispatchEvent(evt2);\n            fgui.Event._return(evt2);\n        };\n        InputProcessor.prototype.updateInfo = function (touchId, pos, touch) {\n            var camera = cc.Camera.findCamera(this.node);\n            if (camera)\n                camera.getScreenToWorldPoint(pos, this._touchPos);\n            else\n                this._touchPos.set(pos);\n            var target = this._owner.hitTest(this._touchPos);\n            if (!target)\n                target = this._owner;\n            var ti = this.getInfo(touchId);\n            ti.target = target;\n            ti.pos.x = pos.x;\n            ti.pos.y = fgui.GRoot.inst.height - pos.y;\n            ti.button = cc.Event.EventMouse.BUTTON_LEFT;\n            ti.touch = touch;\n            return ti;\n        };\n        InputProcessor.prototype.getInfo = function (touchId, createIfNotExisits) {\n            if (createIfNotExisits === undefined)\n                createIfNotExisits = true;\n            var ret = null;\n            var cnt = this._touches.length;\n            for (var i = 0; i < cnt; i++) {\n                var ti = this._touches[i];\n                if (ti.touchId == touchId)\n                    return ti;\n                else if (ti.touchId == -1)\n                    ret = ti;\n            }\n            if (!ret) {\n                if (!createIfNotExisits)\n                    return null;\n                ret = new TouchInfo();\n                this._touches.push(ret);\n            }\n            ret.touchId = touchId;\n            return ret;\n        };\n        InputProcessor.prototype.setBegin = function (ti) {\n            ti.began = true;\n            ti.clickCancelled = false;\n            ti.downPos.set(ti.pos);\n            ti.downTargets.length = 0;\n            var obj = ti.target;\n            while (obj != null) {\n                ti.downTargets.push(obj);\n                obj = obj.findParent();\n            }\n        };\n        InputProcessor.prototype.setEnd = function (ti) {\n            ti.began = false;\n            var now = fgui.ToolSet.getTime();\n            var elapsed = now - ti.lastClickTime;\n            if (elapsed < 0.45) {\n                if (ti.clickCount == 2)\n                    ti.clickCount = 1;\n                else\n                    ti.clickCount++;\n            }\n            else\n                ti.clickCount = 1;\n            ti.lastClickTime = now;\n        };\n        InputProcessor.prototype.clickTest = function (ti) {\n            if (ti.downTargets.length == 0\n                || ti.clickCancelled\n                || Math.abs(ti.pos.x - ti.downPos.x) > 50 || Math.abs(ti.pos.y - ti.downPos.y) > 50)\n                return null;\n            var obj = ti.downTargets[0];\n            if (obj && obj.node != null && obj.node.activeInHierarchy)\n                return obj;\n            obj = ti.target;\n            while (obj != null) {\n                var index = ti.downTargets.indexOf(obj);\n                if (index != -1 && obj.node != null && obj.node.activeInHierarchy)\n                    break;\n                obj = obj.findParent();\n            }\n            return obj;\n        };\n        InputProcessor.prototype.handleRollOver = function (ti, target) {\n            if (ti.lastRollOver == target)\n                return;\n            var element = ti.lastRollOver;\n            while (element != null && element.node != null) {\n                this._rollOutChain.push(element);\n                element = element.findParent();\n            }\n            element = target;\n            while (element != null && element.node != null) {\n                var i = this._rollOutChain.indexOf(element);\n                if (i != -1) {\n                    this._rollOutChain.length = i;\n                    break;\n                }\n                this._rollOverChain.push(element);\n                element = element.findParent();\n            }\n            ti.lastRollOver = target;\n            var cnt = this._rollOutChain.length;\n            for (var i = 0; i < cnt; i++) {\n                element = this._rollOutChain[i];\n                if (element.node != null && element.node.activeInHierarchy) {\n                    var evt = this.getEvent(ti, element, fgui.Event.ROLL_OUT, false);\n                    element.node.dispatchEvent(evt);\n                    fgui.Event._return(evt);\n                }\n            }\n            cnt = this._rollOverChain.length;\n            for (var i = 0; i < cnt; i++) {\n                element = this._rollOverChain[i];\n                if (element.node != null && element.node.activeInHierarchy) {\n                    var evt = this.getEvent(ti, element, fgui.Event.ROLL_OVER, false);\n                    element.node.dispatchEvent(evt);\n                    fgui.Event._return(evt);\n                }\n            }\n            this._rollOutChain.length = 0;\n            this._rollOverChain.length = 0;\n        };\n        InputProcessor.prototype.getEvent = function (ti, target, type, bubbles) {\n            var evt = fgui.Event._borrow(type, bubbles);\n            evt.initiator = target;\n            evt.touch = ti.touch;\n            evt.pos.set(ti.pos);\n            evt.touchId = ti.touch ? ti.touch.getID() : 0;\n            evt.clickCount = ti.clickCount;\n            evt.button = ti.button;\n            evt.mouseWheelDelta = ti.mouseWheelDelta;\n            evt._processor = this;\n            return evt;\n        };\n        return InputProcessor;\n    }(cc.Component));\n    fgui.InputProcessor = InputProcessor;\n    var TouchInfo = (function () {\n        function TouchInfo() {\n            this.pos = new cc.Vec2();\n            this.touchId = 0;\n            this.clickCount = 0;\n            this.mouseWheelDelta = 0;\n            this.button = -1;\n            this.downPos = new cc.Vec2();\n            this.began = false;\n            this.clickCancelled = false;\n            this.lastClickTime = 0;\n            this.downTargets = new Array();\n            this.touchMonitors = new Array();\n        }\n        return TouchInfo;\n    }());\n    ;\n})(fgui || (fgui = {}));\nvar fgui;\n(function (fgui) {\n    var GearBase = (function () {\n        function GearBase(owner) {\n            this._owner = owner;\n        }\n        GearBase.create = function (owner, index) {\n            if (!GearBase.Classes)\n                GearBase.Classes = [\n                    fgui.GearDisplay, fgui.GearXY, fgui.GearSize, fgui.GearLook, fgui.GearColor,\n                    fgui.GearAnimation, fgui.GearText, fgui.GearIcon, fgui.GearDisplay2, fgui.GearFontSize\n                ];\n            return new (GearBase.Classes[index])(owner);\n        };\n        GearBase.prototype.dispose = function () {\n            if (this._tweenConfig != null && this._tweenConfig._tweener != null) {\n                this._tweenConfig._tweener.kill();\n                this._tweenConfig._tweener = null;\n            }\n        };\n        Object.defineProperty(GearBase.prototype, \"controller\", {\n            get: function () {\n                return this._controller;\n            },\n            set: function (val) {\n                if (val != this._controller) {\n                    this._controller = val;\n                    if (this._controller)\n                        this.init();\n                }\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GearBase.prototype, \"tweenConfig\", {\n            get: function () {\n                if (this._tweenConfig == null)\n                    this._tweenConfig = new GearTweenConfig();\n                return this._tweenConfig;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        GearBase.prototype.setup = function (buffer) {\n            this._controller = this._owner.parent.getControllerAt(buffer.readShort());\n            this.init();\n            var i;\n            var page;\n            var cnt = buffer.readShort();\n            if (this instanceof fgui.GearDisplay) {\n                this.pages = buffer.readSArray(cnt);\n            }\n            else if (this instanceof fgui.GearDisplay2) {\n                this.pages = buffer.readSArray(cnt);\n            }\n            else {\n                for (i = 0; i < cnt; i++) {\n                    page = buffer.readS();\n                    if (page == null)\n                        continue;\n                    this.addStatus(page, buffer);\n                }\n                if (buffer.readBool())\n                    this.addStatus(null, buffer);\n            }\n            if (buffer.readBool()) {\n                this._tweenConfig = new GearTweenConfig();\n                this._tweenConfig.easeType = buffer.readByte();\n                this._tweenConfig.duration = buffer.readFloat();\n                this._tweenConfig.delay = buffer.readFloat();\n            }\n            if (buffer.version >= 2) {\n                if (this instanceof fgui.GearXY) {\n                    if (buffer.readBool()) {\n                        this.positionsInPercent = true;\n                        for (i = 0; i < cnt; i++) {\n                            page = buffer.readS();\n                            if (page == null)\n                                continue;\n                            this.addExtStatus(page, buffer);\n                        }\n                        if (buffer.readBool())\n                            this.addExtStatus(null, buffer);\n                    }\n                }\n                else if (this instanceof fgui.GearDisplay2)\n                    this.condition = buffer.readByte();\n            }\n        };\n        GearBase.prototype.updateFromRelations = function (dx, dy) {\n        };\n        GearBase.prototype.addStatus = function (pageId, buffer) {\n        };\n        GearBase.prototype.init = function () {\n        };\n        GearBase.prototype.apply = function () {\n        };\n        GearBase.prototype.updateState = function () {\n        };\n        GearBase.disableAllTweenEffect = false;\n        return GearBase;\n    }());\n    fgui.GearBase = GearBase;\n    var GearTweenConfig = (function () {\n        function GearTweenConfig() {\n            this.tween = true;\n            this.easeType = fgui.EaseType.QuadOut;\n            this.duration = 0.3;\n            this.delay = 0;\n        }\n        return GearTweenConfig;\n    }());\n    fgui.GearTweenConfig = GearTweenConfig;\n})(fgui || (fgui = {}));\nvar fgui;\n(function (fgui) {\n    var GearAnimation = (function (_super) {\n        __extends(GearAnimation, _super);\n        function GearAnimation(owner) {\n            return _super.call(this, owner) || this;\n        }\n        GearAnimation.prototype.init = function () {\n            this._default = new GearAnimationValue(this._owner.getProp(fgui.ObjectPropID.Playing), this._owner.getProp(fgui.ObjectPropID.Frame));\n            this._storage = {};\n        };\n        GearAnimation.prototype.addStatus = function (pageId, buffer) {\n            var gv;\n            if (pageId == null)\n                gv = this._default;\n            else {\n                gv = new GearAnimationValue();\n                this._storage[pageId] = gv;\n            }\n            gv.playing = buffer.readBool();\n            gv.frame = buffer.readInt();\n        };\n        GearAnimation.prototype.apply = function () {\n            this._owner._gearLocked = true;\n            var gv = this._storage[this._controller.selectedPageId];\n            if (!gv)\n                gv = this._default;\n            this._owner.setProp(fgui.ObjectPropID.Playing, gv.playing);\n            this._owner.setProp(fgui.ObjectPropID.Frame, gv.frame);\n            this._owner._gearLocked = false;\n        };\n        GearAnimation.prototype.updateState = function () {\n            var gv = this._storage[this._controller.selectedPageId];\n            if (!gv) {\n                gv = new GearAnimationValue();\n                this._storage[this._controller.selectedPageId] = gv;\n            }\n            gv.playing = this._owner.getProp(fgui.ObjectPropID.Playing);\n            gv.frame = this._owner.getProp(fgui.ObjectPropID.Frame);\n        };\n        return GearAnimation;\n    }(fgui.GearBase));\n    fgui.GearAnimation = GearAnimation;\n    var GearAnimationValue = (function () {\n        function GearAnimationValue(playing, frame) {\n            if (playing === void 0) { playing = true; }\n            if (frame === void 0) { frame = 0; }\n            this.playing = playing;\n            this.frame = frame;\n        }\n        return GearAnimationValue;\n    }());\n})(fgui || (fgui = {}));\nvar fgui;\n(function (fgui) {\n    var GearColor = (function (_super) {\n        __extends(GearColor, _super);\n        function GearColor(owner) {\n            return _super.call(this, owner) || this;\n        }\n        GearColor.prototype.init = function () {\n            this._default = new GearColorValue(this._owner.getProp(fgui.ObjectPropID.Color), this._owner.getProp(fgui.ObjectPropID.OutlineColor));\n            this._storage = {};\n        };\n        GearColor.prototype.addStatus = function (pageId, buffer) {\n            var gv;\n            if (pageId == null)\n                gv = this._default;\n            else {\n                gv = new GearColorValue();\n                this._storage[pageId] = gv;\n            }\n            gv.color = buffer.readColor();\n            gv.strokeColor = buffer.readColor();\n        };\n        GearColor.prototype.apply = function () {\n            this._owner._gearLocked = true;\n            var gv = this._storage[this._controller.selectedPageId];\n            if (!gv)\n                gv = this._default;\n            this._owner.setProp(fgui.ObjectPropID.Color, gv.color);\n            if (gv.strokeColor != null)\n                this._owner.setProp(fgui.ObjectPropID.OutlineColor, gv.strokeColor);\n            this._owner._gearLocked = false;\n        };\n        GearColor.prototype.updateState = function () {\n            var gv = this._storage[this._controller.selectedPageId];\n            if (!gv)\n                this._storage[this._controller.selectedPageId] = gv = new GearColorValue();\n            gv.color = this._owner.getProp(fgui.ObjectPropID.Color);\n            gv.strokeColor = this._owner.getProp(fgui.ObjectPropID.OutlineColor);\n        };\n        return GearColor;\n    }(fgui.GearBase));\n    fgui.GearColor = GearColor;\n    var GearColorValue = (function () {\n        function GearColorValue(color, strokeColor) {\n            if (color === void 0) { color = null; }\n            if (strokeColor === void 0) { strokeColor = null; }\n            this.color = color;\n            this.strokeColor = strokeColor;\n        }\n        return GearColorValue;\n    }());\n})(fgui || (fgui = {}));\nvar fgui;\n(function (fgui) {\n    var GearDisplay = (function (_super) {\n        __extends(GearDisplay, _super);\n        function GearDisplay(owner) {\n            var _this = _super.call(this, owner) || this;\n            _this._displayLockToken = 1;\n            _this._visible = 0;\n            return _this;\n        }\n        GearDisplay.prototype.init = function () {\n            this.pages = null;\n        };\n        GearDisplay.prototype.apply = function () {\n            this._displayLockToken++;\n            if (this._displayLockToken == 0)\n                this._displayLockToken = 1;\n            if (this.pages == null || this.pages.length == 0\n                || this.pages.indexOf(this._controller.selectedPageId) != -1)\n                this._visible = 1;\n            else\n                this._visible = 0;\n        };\n        GearDisplay.prototype.addLock = function () {\n            this._visible++;\n            return this._displayLockToken;\n        };\n        GearDisplay.prototype.releaseLock = function (token) {\n            if (token == this._displayLockToken)\n                this._visible--;\n        };\n        Object.defineProperty(GearDisplay.prototype, \"connected\", {\n            get: function () {\n                return this._controller == null || this._visible > 0;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        return GearDisplay;\n    }(fgui.GearBase));\n    fgui.GearDisplay = GearDisplay;\n})(fgui || (fgui = {}));\nvar fgui;\n(function (fgui) {\n    var GearDisplay2 = (function (_super) {\n        __extends(GearDisplay2, _super);\n        function GearDisplay2(owner) {\n            var _this = _super.call(this, owner) || this;\n            _this._visible = 0;\n            return _this;\n        }\n        GearDisplay2.prototype.init = function () {\n            this.pages = null;\n        };\n        GearDisplay2.prototype.apply = function () {\n            if (this.pages == null || this.pages.length == 0\n                || this.pages.indexOf(this._controller.selectedPageId) != -1)\n                this._visible = 1;\n            else\n                this._visible = 0;\n        };\n        GearDisplay2.prototype.evaluate = function (connected) {\n            var v = this._controller == null || this._visible > 0;\n            if (this.condition == 0)\n                v = v && connected;\n            else\n                v = v || connected;\n            return v;\n        };\n        return GearDisplay2;\n    }(fgui.GearBase));\n    fgui.GearDisplay2 = GearDisplay2;\n})(fgui || (fgui = {}));\nvar fgui;\n(function (fgui) {\n    var GearFontSize = (function (_super) {\n        __extends(GearFontSize, _super);\n        function GearFontSize(owner) {\n            var _this = _super.call(this, owner) || this;\n            _this._default = 0;\n            return _this;\n        }\n        GearFontSize.prototype.init = function () {\n            this._default = this._owner.getProp(fgui.ObjectPropID.FontSize);\n            this._storage = {};\n        };\n        GearFontSize.prototype.addStatus = function (pageId, buffer) {\n            if (pageId == null)\n                this._default = buffer.readInt();\n            else\n                this._storage[pageId] = buffer.readInt();\n        };\n        GearFontSize.prototype.apply = function () {\n            this._owner._gearLocked = true;\n            var data = this._storage[this._controller.selectedPageId];\n            if (data != undefined)\n                this._owner.setProp(fgui.ObjectPropID.FontSize, data);\n            else\n                this._owner.setProp(fgui.ObjectPropID.FontSize, this._default);\n            this._owner._gearLocked = false;\n        };\n        GearFontSize.prototype.updateState = function () {\n            this._storage[this._controller.selectedPageId] = this._owner.text;\n        };\n        return GearFontSize;\n    }(fgui.GearBase));\n    fgui.GearFontSize = GearFontSize;\n})(fgui || (fgui = {}));\nvar fgui;\n(function (fgui) {\n    var GearIcon = (function (_super) {\n        __extends(GearIcon, _super);\n        function GearIcon(owner) {\n            return _super.call(this, owner) || this;\n        }\n        GearIcon.prototype.init = function () {\n            this._default = this._owner.icon;\n            this._storage = {};\n        };\n        GearIcon.prototype.addStatus = function (pageId, buffer) {\n            if (pageId == null)\n                this._default = buffer.readS();\n            else\n                this._storage[pageId] = buffer.readS();\n        };\n        GearIcon.prototype.apply = function () {\n            this._owner._gearLocked = true;\n            var data = this._storage[this._controller.selectedPageId];\n            if (data !== undefined)\n                this._owner.icon = data;\n            else\n                this._owner.icon = this._default;\n            this._owner._gearLocked = false;\n        };\n        GearIcon.prototype.updateState = function () {\n            this._storage[this._controller.selectedPageId] = this._owner.icon;\n        };\n        return GearIcon;\n    }(fgui.GearBase));\n    fgui.GearIcon = GearIcon;\n})(fgui || (fgui = {}));\nvar fgui;\n(function (fgui) {\n    var GearLook = (function (_super) {\n        __extends(GearLook, _super);\n        function GearLook(owner) {\n            return _super.call(this, owner) || this;\n        }\n        GearLook.prototype.init = function () {\n            this._default = new GearLookValue(this._owner.alpha, this._owner.rotation, this._owner.grayed, this._owner.touchable);\n            this._storage = {};\n        };\n        GearLook.prototype.addStatus = function (pageId, buffer) {\n            var gv;\n            if (pageId == null)\n                gv = this._default;\n            else {\n                gv = new GearLookValue();\n                this._storage[pageId] = gv;\n            }\n            gv.alpha = buffer.readFloat();\n            gv.rotation = buffer.readFloat();\n            gv.grayed = buffer.readBool();\n            gv.touchable = buffer.readBool();\n        };\n        GearLook.prototype.apply = function () {\n            var gv = this._storage[this._controller.selectedPageId];\n            if (!gv)\n                gv = this._default;\n            if (this._tweenConfig && this._tweenConfig.tween && !fgui.UIPackage._constructing && !fgui.GearBase.disableAllTweenEffect) {\n                this._owner._gearLocked = true;\n                this._owner.grayed = gv.grayed;\n                this._owner.touchable = gv.touchable;\n                this._owner._gearLocked = false;\n                if (this._tweenConfig._tweener != null) {\n                    if (this._tweenConfig._tweener.endValue.x != gv.alpha || this._tweenConfig._tweener.endValue.y != gv.rotation) {\n                        this._tweenConfig._tweener.kill(true);\n                        this._tweenConfig._tweener = null;\n                    }\n                    else\n                        return;\n                }\n                var a = gv.alpha != this._owner.alpha;\n                var b = gv.rotation != this._owner.rotation;\n                if (a || b) {\n                    if (this._owner.checkGearController(0, this._controller))\n                        this._tweenConfig._displayLockToken = this._owner.addDisplayLock();\n                    this._tweenConfig._tweener = fgui.GTween.to2(this._owner.alpha, this._owner.rotation, gv.alpha, gv.rotation, this._tweenConfig.duration)\n                        .setDelay(this._tweenConfig.delay)\n                        .setEase(this._tweenConfig.easeType)\n                        .setUserData((a ? 1 : 0) + (b ? 2 : 0))\n                        .setTarget(this)\n                        .onUpdate(this.__tweenUpdate, this)\n                        .onComplete(this.__tweenComplete, this);\n                }\n            }\n            else {\n                this._owner._gearLocked = true;\n                this._owner.grayed = gv.grayed;\n                this._owner.touchable = gv.touchable;\n                this._owner.alpha = gv.alpha;\n                this._owner.rotation = gv.rotation;\n                this._owner._gearLocked = false;\n            }\n        };\n        GearLook.prototype.__tweenUpdate = function (tweener) {\n            var flag = tweener.userData;\n            this._owner._gearLocked = true;\n            if ((flag & 1) != 0)\n                this._owner.alpha = tweener.value.x;\n            if ((flag & 2) != 0)\n                this._owner.rotation = tweener.value.y;\n            this._owner._gearLocked = false;\n        };\n        GearLook.prototype.__tweenComplete = function () {\n            if (this._tweenConfig._displayLockToken != 0) {\n                this._owner.releaseDisplayLock(this._tweenConfig._displayLockToken);\n                this._tweenConfig._displayLockToken = 0;\n            }\n            this._tweenConfig._tweener = null;\n        };\n        GearLook.prototype.updateState = function () {\n            var gv = this._storage[this._controller.selectedPageId];\n            if (!gv) {\n                gv = new GearLookValue();\n                this._storage[this._controller.selectedPageId] = gv;\n            }\n            gv.alpha = this._owner.alpha;\n            gv.rotation = this._owner.rotation;\n            gv.grayed = this._owner.grayed;\n            gv.touchable = this._owner.touchable;\n        };\n        return GearLook;\n    }(fgui.GearBase));\n    fgui.GearLook = GearLook;\n    var GearLookValue = (function () {\n        function GearLookValue(alpha, rotation, grayed, touchable) {\n            if (alpha === void 0) { alpha = 0; }\n            if (rotation === void 0) { rotation = 0; }\n            if (grayed === void 0) { grayed = false; }\n            if (touchable === void 0) { touchable = true; }\n            this.alpha = alpha;\n            this.rotation = rotation;\n            this.grayed = grayed;\n            this.touchable = touchable;\n        }\n        return GearLookValue;\n    }());\n})(fgui || (fgui = {}));\nvar fgui;\n(function (fgui) {\n    var GearSize = (function (_super) {\n        __extends(GearSize, _super);\n        function GearSize(owner) {\n            return _super.call(this, owner) || this;\n        }\n        GearSize.prototype.init = function () {\n            this._default = new GearSizeValue(this._owner.width, this._owner.height, this._owner.scaleX, this._owner.scaleY);\n            this._storage = {};\n        };\n        GearSize.prototype.addStatus = function (pageId, buffer) {\n            var gv;\n            if (pageId == null)\n                gv = this._default;\n            else {\n                gv = new GearSizeValue();\n                this._storage[pageId] = gv;\n            }\n            gv.width = buffer.readInt();\n            gv.height = buffer.readInt();\n            gv.scaleX = buffer.readFloat();\n            gv.scaleY = buffer.readFloat();\n        };\n        GearSize.prototype.apply = function () {\n            var gv = this._storage[this._controller.selectedPageId];\n            if (!gv)\n                gv = this._default;\n            if (this._tweenConfig && this._tweenConfig.tween && !fgui.UIPackage._constructing && !fgui.GearBase.disableAllTweenEffect) {\n                if (this._tweenConfig._tweener != null) {\n                    if (this._tweenConfig._tweener.endValue.x != gv.width || this._tweenConfig._tweener.endValue.y != gv.height\n                        || this._tweenConfig._tweener.endValue.z != gv.scaleX || this._tweenConfig._tweener.endValue.w != gv.scaleY) {\n                        this._tweenConfig._tweener.kill(true);\n                        this._tweenConfig._tweener = null;\n                    }\n                    else\n                        return;\n                }\n                var a = gv.width != this._owner.width || gv.height != this._owner.height;\n                var b = gv.scaleX != this._owner.scaleX || gv.scaleY != this._owner.scaleY;\n                if (a || b) {\n                    if (this._owner.checkGearController(0, this._controller))\n                        this._tweenConfig._displayLockToken = this._owner.addDisplayLock();\n                    this._tweenConfig._tweener = fgui.GTween.to4(this._owner.width, this._owner.height, this._owner.scaleX, this._owner.scaleY, gv.width, gv.height, gv.scaleX, gv.scaleY, this._tweenConfig.duration)\n                        .setDelay(this._tweenConfig.delay)\n                        .setEase(this._tweenConfig.easeType)\n                        .setUserData((a ? 1 : 0) + (b ? 2 : 0))\n                        .setTarget(this)\n                        .onUpdate(this.__tweenUpdate, this)\n                        .onComplete(this.__tweenComplete, this);\n                }\n            }\n            else {\n                this._owner._gearLocked = true;\n                this._owner.setSize(gv.width, gv.height, this._owner.gearXY.controller == this._controller);\n                this._owner.setScale(gv.scaleX, gv.scaleY);\n                this._owner._gearLocked = false;\n            }\n        };\n        GearSize.prototype.__tweenUpdate = function (tweener) {\n            var flag = tweener.userData;\n            this._owner._gearLocked = true;\n            if ((flag & 1) != 0)\n                this._owner.setSize(tweener.value.x, tweener.value.y, this._owner.checkGearController(1, this._controller));\n            if ((flag & 2) != 0)\n                this._owner.setScale(tweener.value.z, tweener.value.w);\n            this._owner._gearLocked = false;\n        };\n        GearSize.prototype.__tweenComplete = function () {\n            if (this._tweenConfig._displayLockToken != 0) {\n                this._owner.releaseDisplayLock(this._tweenConfig._displayLockToken);\n                this._tweenConfig._displayLockToken = 0;\n            }\n            this._tweenConfig._tweener = null;\n        };\n        GearSize.prototype.updateState = function () {\n            var gv = this._storage[this._controller.selectedPageId];\n            if (!gv) {\n                gv = new GearSizeValue();\n                this._storage[this._controller.selectedPageId] = gv;\n            }\n            gv.width = this._owner.width;\n            gv.height = this._owner.height;\n            gv.scaleX = this._owner.scaleX;\n            gv.scaleY = this._owner.scaleY;\n        };\n        GearSize.prototype.updateFromRelations = function (dx, dy) {\n            if (this._controller == null || this._storage == null)\n                return;\n            for (var key in this._storage) {\n                var gv = this._storage[key];\n                gv.width += dx;\n                gv.height += dy;\n            }\n            this._default.width += dx;\n            this._default.height += dy;\n            this.updateState();\n        };\n        return GearSize;\n    }(fgui.GearBase));\n    fgui.GearSize = GearSize;\n    var GearSizeValue = (function () {\n        function GearSizeValue(width, height, scaleX, scaleY) {\n            if (width === void 0) { width = 0; }\n            if (height === void 0) { height = 0; }\n            if (scaleX === void 0) { scaleX = 0; }\n            if (scaleY === void 0) { scaleY = 0; }\n            this.width = width;\n            this.height = height;\n            this.scaleX = scaleX;\n            this.scaleY = scaleY;\n        }\n        return GearSizeValue;\n    }());\n})(fgui || (fgui = {}));\nvar fgui;\n(function (fgui) {\n    var GearText = (function (_super) {\n        __extends(GearText, _super);\n        function GearText(owner) {\n            return _super.call(this, owner) || this;\n        }\n        GearText.prototype.init = function () {\n            this._default = this._owner.text;\n            this._storage = {};\n        };\n        GearText.prototype.addStatus = function (pageId, buffer) {\n            if (pageId == null)\n                this._default = buffer.readS();\n            else\n                this._storage[pageId] = buffer.readS();\n        };\n        GearText.prototype.apply = function () {\n            this._owner._gearLocked = true;\n            var data = this._storage[this._controller.selectedPageId];\n            if (data !== undefined)\n                this._owner.text = data;\n            else\n                this._owner.text = this._default;\n            this._owner._gearLocked = false;\n        };\n        GearText.prototype.updateState = function () {\n            this._storage[this._controller.selectedPageId] = this._owner.text;\n        };\n        return GearText;\n    }(fgui.GearBase));\n    fgui.GearText = GearText;\n})(fgui || (fgui = {}));\nvar fgui;\n(function (fgui) {\n    var GearXY = (function (_super) {\n        __extends(GearXY, _super);\n        function GearXY(owner) {\n            return _super.call(this, owner) || this;\n        }\n        GearXY.prototype.init = function () {\n            this._default = {\n                x: this._owner.x, y: this._owner.y,\n                px: this._owner.x / this._owner.parent.width, py: this._owner.y / this._owner.parent.height\n            };\n            this._storage = {};\n        };\n        GearXY.prototype.addStatus = function (pageId, buffer) {\n            var gv;\n            if (pageId == null)\n                gv = this._default;\n            else {\n                gv = {};\n                this._storage[pageId] = gv;\n            }\n            gv.x = buffer.readInt();\n            gv.y = buffer.readInt();\n        };\n        GearXY.prototype.addExtStatus = function (pageId, buffer) {\n            var gv;\n            if (pageId == null)\n                gv = this._default;\n            else\n                gv = this._storage[pageId];\n            gv.px = buffer.readFloat();\n            gv.py = buffer.readFloat();\n        };\n        GearXY.prototype.apply = function () {\n            var pt = this._storage[this._controller.selectedPageId];\n            if (!pt)\n                pt = this._default;\n            var ex;\n            var ey;\n            if (this.positionsInPercent && this._owner.parent) {\n                ex = pt.px * this._owner.parent.width;\n                ey = pt.py * this._owner.parent.height;\n            }\n            else {\n                ex = pt.x;\n                ey = pt.y;\n            }\n            if (this._tweenConfig != null && this._tweenConfig.tween && !fgui.UIPackage._constructing && !fgui.GearBase.disableAllTweenEffect) {\n                if (this._tweenConfig._tweener != null) {\n                    if (this._tweenConfig._tweener.endValue.x != ex || this._tweenConfig._tweener.endValue.y != ey) {\n                        this._tweenConfig._tweener.kill(true);\n                        this._tweenConfig._tweener = null;\n                    }\n                    else\n                        return;\n                }\n                var ox = this._owner.x;\n                var oy = this._owner.y;\n                if (ox != ex || oy != ey) {\n                    if (this._owner.checkGearController(0, this._controller))\n                        this._tweenConfig._displayLockToken = this._owner.addDisplayLock();\n                    this._tweenConfig._tweener = fgui.GTween.to2(ox, oy, ex, ey, this._tweenConfig.duration)\n                        .setDelay(this._tweenConfig.delay)\n                        .setEase(this._tweenConfig.easeType)\n                        .setTarget(this)\n                        .onUpdate(this.__tweenUpdate, this)\n                        .onComplete(this.__tweenComplete, this);\n                }\n            }\n            else {\n                this._owner._gearLocked = true;\n                this._owner.setPosition(ex, ey);\n                this._owner._gearLocked = false;\n            }\n        };\n        GearXY.prototype.__tweenUpdate = function (tweener) {\n            this._owner._gearLocked = true;\n            this._owner.setPosition(tweener.value.x, tweener.value.y);\n            this._owner._gearLocked = false;\n        };\n        GearXY.prototype.__tweenComplete = function () {\n            if (this._tweenConfig._displayLockToken != 0) {\n                this._owner.releaseDisplayLock(this._tweenConfig._displayLockToken);\n                this._tweenConfig._displayLockToken = 0;\n            }\n            this._tweenConfig._tweener = null;\n        };\n        GearXY.prototype.updateState = function () {\n            var pt = this._storage[this._controller.selectedPageId];\n            if (!pt) {\n                pt = {};\n                this._storage[this._controller.selectedPageId] = pt;\n            }\n            pt.x = this._owner.x;\n            pt.y = this._owner.y;\n            pt.px = this._owner.x / this._owner.parent.width;\n            pt.py = this._owner.y / this._owner.parent.height;\n        };\n        GearXY.prototype.updateFromRelations = function (dx, dy) {\n            if (this._controller == null || this._storage == null || this.positionsInPercent)\n                return;\n            for (var key in this._storage) {\n                var pt = this._storage[key];\n                pt.x += dx;\n                pt.y += dy;\n            }\n            this._default.x += dx;\n            this._default.y += dy;\n            this.updateState();\n        };\n        return GearXY;\n    }(fgui.GearBase));\n    fgui.GearXY = GearXY;\n})(fgui || (fgui = {}));\nvar fgui;\n(function (fgui) {\n    var EaseManager = (function () {\n        function EaseManager() {\n        }\n        EaseManager.evaluate = function (easeType, time, duration, overshootOrAmplitude, period) {\n            switch (easeType) {\n                case fgui.EaseType.Linear:\n                    return time / duration;\n                case fgui.EaseType.SineIn:\n                    return -Math.cos(time / duration * EaseManager._PiOver2) + 1;\n                case fgui.EaseType.SineOut:\n                    return Math.sin(time / duration * EaseManager._PiOver2);\n                case fgui.EaseType.SineInOut:\n                    return -0.5 * (Math.cos(Math.PI * time / duration) - 1);\n                case fgui.EaseType.QuadIn:\n                    return (time /= duration) * time;\n                case fgui.EaseType.QuadOut:\n                    return -(time /= duration) * (time - 2);\n                case fgui.EaseType.QuadInOut:\n                    if ((time /= duration * 0.5) < 1)\n                        return 0.5 * time * time;\n                    return -0.5 * ((--time) * (time - 2) - 1);\n                case fgui.EaseType.CubicIn:\n                    return (time /= duration) * time * time;\n                case fgui.EaseType.CubicOut:\n                    return ((time = time / duration - 1) * time * time + 1);\n                case fgui.EaseType.CubicInOut:\n                    if ((time /= duration * 0.5) < 1)\n                        return 0.5 * time * time * time;\n                    return 0.5 * ((time -= 2) * time * time + 2);\n                case fgui.EaseType.QuartIn:\n                    return (time /= duration) * time * time * time;\n                case fgui.EaseType.QuartOut:\n                    return -((time = time / duration - 1) * time * time * time - 1);\n                case fgui.EaseType.QuartInOut:\n                    if ((time /= duration * 0.5) < 1)\n                        return 0.5 * time * time * time * time;\n                    return -0.5 * ((time -= 2) * time * time * time - 2);\n                case fgui.EaseType.QuintIn:\n                    return (time /= duration) * time * time * time * time;\n                case fgui.EaseType.QuintOut:\n                    return ((time = time / duration - 1) * time * time * time * time + 1);\n                case fgui.EaseType.QuintInOut:\n                    if ((time /= duration * 0.5) < 1)\n                        return 0.5 * time * time * time * time * time;\n                    return 0.5 * ((time -= 2) * time * time * time * time + 2);\n                case fgui.EaseType.ExpoIn:\n                    return (time == 0) ? 0 : Math.pow(2, 10 * (time / duration - 1));\n                case fgui.EaseType.ExpoOut:\n                    if (time == duration)\n                        return 1;\n                    return (-Math.pow(2, -10 * time / duration) + 1);\n                case fgui.EaseType.ExpoInOut:\n                    if (time == 0)\n                        return 0;\n                    if (time == duration)\n                        return 1;\n                    if ((time /= duration * 0.5) < 1)\n                        return 0.5 * Math.pow(2, 10 * (time - 1));\n                    return 0.5 * (-Math.pow(2, -10 * --time) + 2);\n                case fgui.EaseType.CircIn:\n                    return -(Math.sqrt(1 - (time /= duration) * time) - 1);\n                case fgui.EaseType.CircOut:\n                    return Math.sqrt(1 - (time = time / duration - 1) * time);\n                case fgui.EaseType.CircInOut:\n                    if ((time /= duration * 0.5) < 1)\n                        return -0.5 * (Math.sqrt(1 - time * time) - 1);\n                    return 0.5 * (Math.sqrt(1 - (time -= 2) * time) + 1);\n                case fgui.EaseType.ElasticIn:\n                    var s0;\n                    if (time == 0)\n                        return 0;\n                    if ((time /= duration) == 1)\n                        return 1;\n                    if (period == 0)\n                        period = duration * 0.3;\n                    if (overshootOrAmplitude < 1) {\n                        overshootOrAmplitude = 1;\n                        s0 = period / 4;\n                    }\n                    else\n                        s0 = period / EaseManager._TwoPi * Math.asin(1 / overshootOrAmplitude);\n                    return -(overshootOrAmplitude * Math.pow(2, 10 * (time -= 1)) * Math.sin((time * duration - s0) * EaseManager._TwoPi / period));\n                case fgui.EaseType.ElasticOut:\n                    var s1;\n                    if (time == 0)\n                        return 0;\n                    if ((time /= duration) == 1)\n                        return 1;\n                    if (period == 0)\n                        period = duration * 0.3;\n                    if (overshootOrAmplitude < 1) {\n                        overshootOrAmplitude = 1;\n                        s1 = period / 4;\n                    }\n                    else\n                        s1 = period / EaseManager._TwoPi * Math.asin(1 / overshootOrAmplitude);\n                    return (overshootOrAmplitude * Math.pow(2, -10 * time) * Math.sin((time * duration - s1) * EaseManager._TwoPi / period) + 1);\n                case fgui.EaseType.ElasticInOut:\n                    var s;\n                    if (time == 0)\n                        return 0;\n                    if ((time /= duration * 0.5) == 2)\n                        return 1;\n                    if (period == 0)\n                        period = duration * (0.3 * 1.5);\n                    if (overshootOrAmplitude < 1) {\n                        overshootOrAmplitude = 1;\n                        s = period / 4;\n                    }\n                    else\n                        s = period / EaseManager._TwoPi * Math.asin(1 / overshootOrAmplitude);\n                    if (time < 1)\n                        return -0.5 * (overshootOrAmplitude * Math.pow(2, 10 * (time -= 1)) * Math.sin((time * duration - s) * EaseManager._TwoPi / period));\n                    return overshootOrAmplitude * Math.pow(2, -10 * (time -= 1)) * Math.sin((time * duration - s) * EaseManager._TwoPi / period) * 0.5 + 1;\n                case fgui.EaseType.BackIn:\n                    return (time /= duration) * time * ((overshootOrAmplitude + 1) * time - overshootOrAmplitude);\n                case fgui.EaseType.BackOut:\n                    return ((time = time / duration - 1) * time * ((overshootOrAmplitude + 1) * time + overshootOrAmplitude) + 1);\n                case fgui.EaseType.BackInOut:\n                    if ((time /= duration * 0.5) < 1)\n                        return 0.5 * (time * time * (((overshootOrAmplitude *= (1.525)) + 1) * time - overshootOrAmplitude));\n                    return 0.5 * ((time -= 2) * time * (((overshootOrAmplitude *= (1.525)) + 1) * time + overshootOrAmplitude) + 2);\n                case fgui.EaseType.BounceIn:\n                    return Bounce.easeIn(time, duration);\n                case fgui.EaseType.BounceOut:\n                    return Bounce.easeOut(time, duration);\n                case fgui.EaseType.BounceInOut:\n                    return Bounce.easeInOut(time, duration);\n                default:\n                    return -(time /= duration) * (time - 2);\n            }\n        };\n        EaseManager._PiOver2 = Math.PI * 0.5;\n        EaseManager._TwoPi = Math.PI * 2;\n        return EaseManager;\n    }());\n    fgui.EaseManager = EaseManager;\n    var Bounce = (function () {\n        function Bounce() {\n        }\n        Bounce.easeIn = function (time, duration) {\n            return 1 - Bounce.easeOut(duration - time, duration);\n        };\n        Bounce.easeOut = function (time, duration) {\n            if ((time /= duration) < (1 / 2.75)) {\n                return (7.5625 * time * time);\n            }\n            if (time < (2 / 2.75)) {\n                return (7.5625 * (time -= (1.5 / 2.75)) * time + 0.75);\n            }\n            if (time < (2.5 / 2.75)) {\n                return (7.5625 * (time -= (2.25 / 2.75)) * time + 0.9375);\n            }\n            return (7.5625 * (time -= (2.625 / 2.75)) * time + 0.984375);\n        };\n        Bounce.easeInOut = function (time, duration) {\n            if (time < duration * 0.5) {\n                return Bounce.easeIn(time * 2, duration) * 0.5;\n            }\n            return Bounce.easeOut(time * 2 - duration, duration) * 0.5 + 0.5;\n        };\n        return Bounce;\n    }());\n})(fgui || (fgui = {}));\nvar fgui;\n(function (fgui) {\n    var EaseType = (function () {\n        function EaseType() {\n        }\n        EaseType.Linear = 0;\n        EaseType.SineIn = 1;\n        EaseType.SineOut = 2;\n        EaseType.SineInOut = 3;\n        EaseType.QuadIn = 4;\n        EaseType.QuadOut = 5;\n        EaseType.QuadInOut = 6;\n        EaseType.CubicIn = 7;\n        EaseType.CubicOut = 8;\n        EaseType.CubicInOut = 9;\n        EaseType.QuartIn = 10;\n        EaseType.QuartOut = 11;\n        EaseType.QuartInOut = 12;\n        EaseType.QuintIn = 13;\n        EaseType.QuintOut = 14;\n        EaseType.QuintInOut = 15;\n        EaseType.ExpoIn = 16;\n        EaseType.ExpoOut = 17;\n        EaseType.ExpoInOut = 18;\n        EaseType.CircIn = 19;\n        EaseType.CircOut = 20;\n        EaseType.CircInOut = 21;\n        EaseType.ElasticIn = 22;\n        EaseType.ElasticOut = 23;\n        EaseType.ElasticInOut = 24;\n        EaseType.BackIn = 25;\n        EaseType.BackOut = 26;\n        EaseType.BackInOut = 27;\n        EaseType.BounceIn = 28;\n        EaseType.BounceOut = 29;\n        EaseType.BounceInOut = 30;\n        EaseType.Custom = 31;\n        return EaseType;\n    }());\n    fgui.EaseType = EaseType;\n})(fgui || (fgui = {}));\nvar fgui;\n(function (fgui) {\n    var GPath = (function () {\n        function GPath() {\n            this._segments = new Array();\n            this._points = new Array();\n        }\n        Object.defineProperty(GPath.prototype, \"length\", {\n            get: function () {\n                return this._fullLength;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        GPath.prototype.create2 = function (pt1, pt2, pt3, pt4) {\n            var points = new Array();\n            points.push(pt1);\n            points.push(pt2);\n            if (pt3)\n                points.push(pt3);\n            if (pt4)\n                points.push(pt4);\n            this.create(points);\n        };\n        GPath.prototype.create = function (points) {\n            this._segments.length = 0;\n            this._points.length = 0;\n            this._fullLength = 0;\n            var cnt = points.length;\n            if (cnt == 0)\n                return;\n            var splinePoints = GPath.helperPoints;\n            splinePoints.length = 0;\n            var prev = points[0];\n            if (prev.curveType == fgui.CurveType.CRSpline)\n                splinePoints.push(new cc.Vec2(prev.x, prev.y));\n            for (var i = 1; i < cnt; i++) {\n                var current = points[i];\n                if (prev.curveType != fgui.CurveType.CRSpline) {\n                    var seg = new Segment();\n                    seg.type = prev.curveType;\n                    seg.ptStart = this._points.length;\n                    if (prev.curveType == fgui.CurveType.Straight) {\n                        seg.ptCount = 2;\n                        this._points.push(new cc.Vec2(prev.x, prev.y));\n                        this._points.push(new cc.Vec2(current.x, current.y));\n                    }\n                    else if (prev.curveType == fgui.CurveType.Bezier) {\n                        seg.ptCount = 3;\n                        this._points.push(new cc.Vec2(prev.x, prev.y));\n                        this._points.push(new cc.Vec2(current.x, current.y));\n                        this._points.push(new cc.Vec2(prev.control1_x, prev.control1_y));\n                    }\n                    else if (prev.curveType == fgui.CurveType.CubicBezier) {\n                        seg.ptCount = 4;\n                        this._points.push(new cc.Vec2(prev.x, prev.y));\n                        this._points.push(new cc.Vec2(current.x, current.y));\n                        this._points.push(new cc.Vec2(prev.control1_x, prev.control1_y));\n                        this._points.push(new cc.Vec2(prev.control2_x, prev.control2_y));\n                    }\n                    seg.length = fgui.ToolSet.distance(prev.x, prev.y, current.x, current.y);\n                    this._fullLength += seg.length;\n                    this._segments.push(seg);\n                }\n                if (current.curveType != fgui.CurveType.CRSpline) {\n                    if (splinePoints.length > 0) {\n                        splinePoints.push(new cc.Vec2(current.x, current.y));\n                        this.createSplineSegment();\n                    }\n                }\n                else\n                    splinePoints.push(new cc.Vec2(current.x, current.y));\n                prev = current;\n            }\n            if (splinePoints.length > 1)\n                this.createSplineSegment();\n        };\n        GPath.prototype.createSplineSegment = function () {\n            var splinePoints = GPath.helperPoints;\n            var cnt = splinePoints.length;\n            splinePoints.splice(0, 0, splinePoints[0]);\n            splinePoints.push(splinePoints[cnt]);\n            splinePoints.push(splinePoints[cnt]);\n            cnt += 3;\n            var seg = new Segment();\n            seg.type = fgui.CurveType.CRSpline;\n            seg.ptStart = this._points.length;\n            seg.ptCount = cnt;\n            this._points = this._points.concat(splinePoints);\n            seg.length = 0;\n            for (var i = 1; i < cnt; i++) {\n                seg.length += fgui.ToolSet.distance(splinePoints[i - 1].x, splinePoints[i - 1].y, splinePoints[i].x, splinePoints[i].y);\n            }\n            this._fullLength += seg.length;\n            this._segments.push(seg);\n            splinePoints.length = 0;\n        };\n        GPath.prototype.clear = function () {\n            this._segments.length = 0;\n            this._points.length = 0;\n        };\n        GPath.prototype.getPointAt = function (t, result) {\n            if (!result)\n                result = new cc.Vec2();\n            else\n                result.x = result.y = 0;\n            t = fgui.ToolSet.clamp01(t);\n            var cnt = this._segments.length;\n            if (cnt == 0) {\n                return result;\n            }\n            var seg;\n            if (t == 1) {\n                seg = this._segments[cnt - 1];\n                if (seg.type == fgui.CurveType.Straight) {\n                    result.x = fgui.ToolSet.lerp(this._points[seg.ptStart].x, this._points[seg.ptStart + 1].x, t);\n                    result.y = fgui.ToolSet.lerp(this._points[seg.ptStart].y, this._points[seg.ptStart + 1].y, t);\n                    return result;\n                }\n                else if (seg.type == fgui.CurveType.Bezier || seg.type == fgui.CurveType.CubicBezier)\n                    return this.onBezierCurve(seg.ptStart, seg.ptCount, t, result);\n                else\n                    return this.onCRSplineCurve(seg.ptStart, seg.ptCount, t, result);\n            }\n            var len = t * this._fullLength;\n            for (var i = 0; i < cnt; i++) {\n                seg = this._segments[i];\n                len -= seg.length;\n                if (len < 0) {\n                    t = 1 + len / seg.length;\n                    if (seg.type == fgui.CurveType.Straight) {\n                        result.x = fgui.ToolSet.lerp(this._points[seg.ptStart].x, this._points[seg.ptStart + 1].x, t);\n                        result.y = fgui.ToolSet.lerp(this._points[seg.ptStart].y, this._points[seg.ptStart + 1].y, t);\n                    }\n                    else if (seg.type == fgui.CurveType.Bezier || seg.type == fgui.CurveType.CubicBezier)\n                        result = this.onBezierCurve(seg.ptStart, seg.ptCount, t, result);\n                    else\n                        result = this.onCRSplineCurve(seg.ptStart, seg.ptCount, t, result);\n                    break;\n                }\n            }\n            return result;\n        };\n        Object.defineProperty(GPath.prototype, \"segmentCount\", {\n            get: function () {\n                return this._segments.length;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        GPath.prototype.getAnchorsInSegment = function (segmentIndex, points) {\n            if (points == null)\n                points = new Array();\n            var seg = this._segments[segmentIndex];\n            for (var i = 0; i < seg.ptCount; i++)\n                points.push(new cc.Vec2(this._points[seg.ptStart + i].x, this._points[seg.ptStart + i].y));\n            return points;\n        };\n        GPath.prototype.getPointsInSegment = function (segmentIndex, t0, t1, points, ts, pointDensity) {\n            if (points == null)\n                points = new Array();\n            if (!pointDensity || isNaN(pointDensity))\n                pointDensity = 0.1;\n            if (ts)\n                ts.push(t0);\n            var seg = this._segments[segmentIndex];\n            if (seg.type == fgui.CurveType.Straight) {\n                points.push(new cc.Vec2(fgui.ToolSet.lerp(this._points[seg.ptStart].x, this._points[seg.ptStart + 1].x, t0), fgui.ToolSet.lerp(this._points[seg.ptStart].y, this._points[seg.ptStart + 1].y, t0)));\n                points.push(new cc.Vec2(fgui.ToolSet.lerp(this._points[seg.ptStart].x, this._points[seg.ptStart + 1].x, t1), fgui.ToolSet.lerp(this._points[seg.ptStart].y, this._points[seg.ptStart + 1].y, t1)));\n            }\n            else {\n                var func;\n                if (seg.type == fgui.CurveType.Bezier || seg.type == fgui.CurveType.CubicBezier)\n                    func = this.onBezierCurve;\n                else\n                    func = this.onCRSplineCurve;\n                points.push(func.call(this, seg.ptStart, seg.ptCount, t0, new cc.Vec2()));\n                var SmoothAmount = Math.min(seg.length * pointDensity, 50);\n                for (var j = 0; j <= SmoothAmount; j++) {\n                    var t = j / SmoothAmount;\n                    if (t > t0 && t < t1) {\n                        points.push(func.call(this, seg.ptStart, seg.ptCount, t, new cc.Vec2()));\n                        if (ts != null)\n                            ts.push(t);\n                    }\n                }\n                points.push(func.call(this, seg.ptStart, seg.ptCount, t1, new cc.Vec2()));\n            }\n            if (ts != null)\n                ts.push(t1);\n            return points;\n        };\n        GPath.prototype.getAllPoints = function (points, ts, pointDensity) {\n            if (points == null)\n                points = new Array();\n            if (!pointDensity || isNaN(pointDensity))\n                pointDensity = 0.1;\n            var cnt = this._segments.length;\n            for (var i = 0; i < cnt; i++)\n                this.getPointsInSegment(i, 0, 1, points, ts, pointDensity);\n            return points;\n        };\n        GPath.prototype.onCRSplineCurve = function (ptStart, ptCount, t, result) {\n            var adjustedIndex = Math.floor(t * (ptCount - 4)) + ptStart;\n            var p0x = this._points[adjustedIndex].x;\n            var p0y = this._points[adjustedIndex].y;\n            var p1x = this._points[adjustedIndex + 1].x;\n            var p1y = this._points[adjustedIndex + 1].y;\n            var p2x = this._points[adjustedIndex + 2].x;\n            var p2y = this._points[adjustedIndex + 2].y;\n            var p3x = this._points[adjustedIndex + 3].x;\n            var p3y = this._points[adjustedIndex + 3].y;\n            var adjustedT = (t == 1) ? 1 : fgui.ToolSet.repeat(t * (ptCount - 4), 1);\n            var t0 = ((-adjustedT + 2) * adjustedT - 1) * adjustedT * 0.5;\n            var t1 = (((3 * adjustedT - 5) * adjustedT) * adjustedT + 2) * 0.5;\n            var t2 = ((-3 * adjustedT + 4) * adjustedT + 1) * adjustedT * 0.5;\n            var t3 = ((adjustedT - 1) * adjustedT * adjustedT) * 0.5;\n            result.x = p0x * t0 + p1x * t1 + p2x * t2 + p3x * t3;\n            result.y = p0y * t0 + p1y * t1 + p2y * t2 + p3y * t3;\n            return result;\n        };\n        GPath.prototype.onBezierCurve = function (ptStart, ptCount, t, result) {\n            var t2 = 1 - t;\n            var p0x = this._points[ptStart].x;\n            var p0y = this._points[ptStart].y;\n            var p1x = this._points[ptStart + 1].x;\n            var p1y = this._points[ptStart + 1].y;\n            var cp0x = this._points[ptStart + 2].x;\n            var cp0y = this._points[ptStart + 2].y;\n            if (ptCount == 4) {\n                var cp1x = this._points[ptStart + 3].x;\n                var cp1y = this._points[ptStart + 3].y;\n                result.x = t2 * t2 * t2 * p0x + 3 * t2 * t2 * t * cp0x + 3 * t2 * t * t * cp1x + t * t * t * p1x;\n                result.y = t2 * t2 * t2 * p0y + 3 * t2 * t2 * t * cp0y + 3 * t2 * t * t * cp1y + t * t * t * p1y;\n            }\n            else {\n                result.x = t2 * t2 * p0x + 2 * t2 * t * cp0x + t * t * p1x;\n                result.y = t2 * t2 * p0y + 2 * t2 * t * cp0y + t * t * p1y;\n            }\n            return result;\n        };\n        GPath.helperPoints = new Array();\n        return GPath;\n    }());\n    fgui.GPath = GPath;\n    var Segment = (function () {\n        function Segment() {\n        }\n        return Segment;\n    }());\n})(fgui || (fgui = {}));\nvar fgui;\n(function (fgui) {\n    var CurveType;\n    (function (CurveType) {\n        CurveType[CurveType[\"CRSpline\"] = 0] = \"CRSpline\";\n        CurveType[CurveType[\"Bezier\"] = 1] = \"Bezier\";\n        CurveType[CurveType[\"CubicBezier\"] = 2] = \"CubicBezier\";\n        CurveType[CurveType[\"Straight\"] = 3] = \"Straight\";\n    })(CurveType = fgui.CurveType || (fgui.CurveType = {}));\n    var GPathPoint = (function () {\n        function GPathPoint() {\n            this.x = 0;\n            this.y = 0;\n            this.control1_x = 0;\n            this.control1_y = 0;\n            this.control2_x = 0;\n            this.control2_y = 0;\n            this.curveType = 0;\n        }\n        GPathPoint.newPoint = function (x, y, curveType) {\n            if (x === void 0) { x = 0; }\n            if (y === void 0) { y = 0; }\n            if (curveType === void 0) { curveType = 0; }\n            var pt = new GPathPoint();\n            pt.x = x;\n            pt.y = y;\n            pt.control1_x = 0;\n            pt.control1_y = 0;\n            pt.control2_x = 0;\n            pt.control2_y = 0;\n            pt.curveType = curveType;\n            return pt;\n        };\n        GPathPoint.newBezierPoint = function (x, y, control1_x, control1_y) {\n            if (x === void 0) { x = 0; }\n            if (y === void 0) { y = 0; }\n            if (control1_x === void 0) { control1_x = 0; }\n            if (control1_y === void 0) { control1_y = 0; }\n            var pt = new GPathPoint();\n            pt.x = x;\n            pt.y = y;\n            pt.control1_x = control1_x;\n            pt.control1_y = control1_y;\n            pt.control2_x = 0;\n            pt.control2_y = 0;\n            pt.curveType = CurveType.Bezier;\n            return pt;\n        };\n        GPathPoint.newCubicBezierPoint = function (x, y, control1_x, control1_y, control2_x, control2_y) {\n            if (x === void 0) { x = 0; }\n            if (y === void 0) { y = 0; }\n            if (control1_x === void 0) { control1_x = 0; }\n            if (control1_y === void 0) { control1_y = 0; }\n            if (control2_x === void 0) { control2_x = 0; }\n            if (control2_y === void 0) { control2_y = 0; }\n            var pt = new GPathPoint();\n            pt.x = x;\n            pt.y = y;\n            pt.control1_x = control1_x;\n            pt.control1_y = control1_y;\n            pt.control2_x = control2_x;\n            pt.control2_y = control2_y;\n            pt.curveType = CurveType.CubicBezier;\n            return pt;\n        };\n        GPathPoint.prototype.clone = function () {\n            var ret = new GPathPoint();\n            ret.x = this.x;\n            ret.y = this.y;\n            ret.control1_x = this.control1_x;\n            ret.control1_y = this.control1_y;\n            ret.control2_x = this.control2_x;\n            ret.control2_y = this.control2_y;\n            ret.curveType = this.curveType;\n            return ret;\n        };\n        return GPathPoint;\n    }());\n    fgui.GPathPoint = GPathPoint;\n})(fgui || (fgui = {}));\nvar fgui;\n(function (fgui) {\n    var GTween = (function () {\n        function GTween() {\n        }\n        GTween.to = function (start, end, duration) {\n            return fgui.TweenManager.createTween()._to(start, end, duration);\n        };\n        GTween.to2 = function (start, start2, end, end2, duration) {\n            return fgui.TweenManager.createTween()._to2(start, start2, end, end2, duration);\n        };\n        GTween.to3 = function (start, start2, start3, end, end2, end3, duration) {\n            return fgui.TweenManager.createTween()._to3(start, start2, start3, end, end2, end3, duration);\n        };\n        GTween.to4 = function (start, start2, start3, start4, end, end2, end3, end4, duration) {\n            return fgui.TweenManager.createTween()._to4(start, start2, start3, start4, end, end2, end3, end4, duration);\n        };\n        GTween.toColor = function (start, end, duration) {\n            return fgui.TweenManager.createTween()._toColor(start, end, duration);\n        };\n        GTween.delayedCall = function (delay) {\n            return fgui.TweenManager.createTween().setDelay(delay);\n        };\n        GTween.shake = function (startX, startY, amplitude, duration) {\n            return fgui.TweenManager.createTween()._shake(startX, startY, amplitude, duration);\n        };\n        GTween.isTweening = function (target, propType) {\n            return fgui.TweenManager.isTweening(target, propType);\n        };\n        GTween.kill = function (target, complete, propType) {\n            fgui.TweenManager.killTweens(target, complete, propType);\n        };\n        GTween.getTween = function (target, propType) {\n            return fgui.TweenManager.getTween(target, propType);\n        };\n        GTween.catchCallbackExceptions = true;\n        return GTween;\n    }());\n    fgui.GTween = GTween;\n})(fgui || (fgui = {}));\nvar fgui;\n(function (fgui) {\n    var GTweener = (function () {\n        function GTweener() {\n            this._startValue = new fgui.TweenValue();\n            this._endValue = new fgui.TweenValue();\n            this._value = new fgui.TweenValue();\n            this._deltaValue = new fgui.TweenValue();\n            this._reset();\n        }\n        GTweener.prototype.setDelay = function (value) {\n            this._delay = value;\n            return this;\n        };\n        Object.defineProperty(GTweener.prototype, \"delay\", {\n            get: function () {\n                return this._delay;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        GTweener.prototype.setDuration = function (value) {\n            this._duration = value;\n            return this;\n        };\n        Object.defineProperty(GTweener.prototype, \"duration\", {\n            get: function () {\n                return this._duration;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        GTweener.prototype.setBreakpoint = function (value) {\n            this._breakpoint = value;\n            return this;\n        };\n        GTweener.prototype.setEase = function (value) {\n            this._easeType = value;\n            return this;\n        };\n        GTweener.prototype.setEasePeriod = function (value) {\n            this._easePeriod = value;\n            return this;\n        };\n        GTweener.prototype.setEaseOvershootOrAmplitude = function (value) {\n            this._easeOvershootOrAmplitude = value;\n            return this;\n        };\n        GTweener.prototype.setRepeat = function (repeat, yoyo) {\n            this._repeat = repeat;\n            this._yoyo = yoyo;\n            return this;\n        };\n        Object.defineProperty(GTweener.prototype, \"repeat\", {\n            get: function () {\n                return this._repeat;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        GTweener.prototype.setTimeScale = function (value) {\n            this._timeScale = value;\n            return this;\n        };\n        GTweener.prototype.setSnapping = function (value) {\n            this._snapping = value;\n            return this;\n        };\n        GTweener.prototype.setTarget = function (value, propType) {\n            this._target = value;\n            this._propType = propType;\n            if (value instanceof fgui.GObject)\n                this._node = value.node;\n            else if (value instanceof cc.Node)\n                this._node = value;\n            return this;\n        };\n        Object.defineProperty(GTweener.prototype, \"target\", {\n            get: function () {\n                return this._target;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        GTweener.prototype.setPath = function (value) {\n            this._path = value;\n            return this;\n        };\n        GTweener.prototype.setUserData = function (value) {\n            this._userData = value;\n            return this;\n        };\n        Object.defineProperty(GTweener.prototype, \"userData\", {\n            get: function () {\n                return this._userData;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        GTweener.prototype.onUpdate = function (callback, caller) {\n            this._onUpdate = callback;\n            this._onUpdateCaller = caller;\n            return this;\n        };\n        GTweener.prototype.onStart = function (callback, caller) {\n            this._onStart = callback;\n            this._onStartCaller = caller;\n            return this;\n        };\n        GTweener.prototype.onComplete = function (callback, caller) {\n            this._onComplete = callback;\n            this._onCompleteCaller = caller;\n            return this;\n        };\n        Object.defineProperty(GTweener.prototype, \"startValue\", {\n            get: function () {\n                return this._startValue;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GTweener.prototype, \"endValue\", {\n            get: function () {\n                return this._endValue;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GTweener.prototype, \"value\", {\n            get: function () {\n                return this._value;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GTweener.prototype, \"deltaValue\", {\n            get: function () {\n                return this._deltaValue;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GTweener.prototype, \"normalizedTime\", {\n            get: function () {\n                return this._normalizedTime;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GTweener.prototype, \"completed\", {\n            get: function () {\n                return this._ended != 0;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(GTweener.prototype, \"allCompleted\", {\n            get: function () {\n                return this._ended == 1;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        GTweener.prototype.setPaused = function (paused) {\n            this._paused = paused;\n            return this;\n        };\n        GTweener.prototype.seek = function (time) {\n            if (this._killed)\n                return;\n            this._elapsedTime = time;\n            if (this._elapsedTime < this._delay) {\n                if (this._started)\n                    this._elapsedTime = this._delay;\n                else\n                    return;\n            }\n            this.update();\n        };\n        GTweener.prototype.kill = function (complete) {\n            if (this._killed)\n                return;\n            if (complete) {\n                if (this._ended == 0) {\n                    if (this._breakpoint >= 0)\n                        this._elapsedTime = this._delay + this._breakpoint;\n                    else if (this._repeat >= 0)\n                        this._elapsedTime = this._delay + this._duration * (this._repeat + 1);\n                    else\n                        this._elapsedTime = this._delay + this._duration * 2;\n                    this.update();\n                }\n                this.callCompleteCallback();\n            }\n            this._killed = true;\n        };\n        GTweener.prototype._to = function (start, end, duration) {\n            this._valueSize = 1;\n            this._startValue.x = start;\n            this._endValue.x = end;\n            this._duration = duration;\n            return this;\n        };\n        GTweener.prototype._to2 = function (start, start2, end, end2, duration) {\n            this._valueSize = 2;\n            this._startValue.x = start;\n            this._endValue.x = end;\n            this._startValue.y = start2;\n            this._endValue.y = end2;\n            this._duration = duration;\n            return this;\n        };\n        GTweener.prototype._to3 = function (start, start2, start3, end, end2, end3, duration) {\n            this._valueSize = 3;\n            this._startValue.x = start;\n            this._endValue.x = end;\n            this._startValue.y = start2;\n            this._endValue.y = end2;\n            this._startValue.z = start3;\n            this._endValue.z = end3;\n            this._duration = duration;\n            return this;\n        };\n        GTweener.prototype._to4 = function (start, start2, start3, start4, end, end2, end3, end4, duration) {\n            this._valueSize = 4;\n            this._startValue.x = start;\n            this._endValue.x = end;\n            this._startValue.y = start2;\n            this._endValue.y = end2;\n            this._startValue.z = start3;\n            this._endValue.z = end3;\n            this._startValue.w = start4;\n            this._endValue.w = end4;\n            this._duration = duration;\n            return this;\n        };\n        GTweener.prototype._toColor = function (start, end, duration) {\n            this._valueSize = 4;\n            this._startValue.color = start;\n            this._endValue.color = end;\n            this._duration = duration;\n            return this;\n        };\n        GTweener.prototype._shake = function (startX, startY, amplitude, duration) {\n            this._valueSize = 5;\n            this._startValue.x = startX;\n            this._startValue.y = startY;\n            this._startValue.w = amplitude;\n            this._duration = duration;\n            return this;\n        };\n        GTweener.prototype._init = function () {\n            this._delay = 0;\n            this._duration = 0;\n            this._breakpoint = -1;\n            this._easeType = fgui.EaseType.QuadOut;\n            this._timeScale = 1;\n            this._easePeriod = 0;\n            this._easeOvershootOrAmplitude = 1.70158;\n            this._snapping = false;\n            this._repeat = 0;\n            this._yoyo = false;\n            this._valueSize = 0;\n            this._started = false;\n            this._paused = false;\n            this._killed = false;\n            this._elapsedTime = 0;\n            this._normalizedTime = 0;\n            this._ended = 0;\n        };\n        GTweener.prototype._reset = function () {\n            this._target = null;\n            this._propType = null;\n            this._userData = null;\n            this._node = null;\n            this._path = null;\n            this._onStart = this._onUpdate = this._onComplete = null;\n            this._onStartCaller = this._onUpdateCaller = this._onCompleteCaller = null;\n        };\n        GTweener.prototype._update = function (dt) {\n            if (this._node && !cc.isValid(this._node)) {\n                this._killed = true;\n                return;\n            }\n            if (this._timeScale != 1)\n                dt *= this._timeScale;\n            if (dt == 0)\n                return;\n            if (this._ended != 0) {\n                this.callCompleteCallback();\n                this._killed = true;\n                return;\n            }\n            this._elapsedTime += dt;\n            this.update();\n            if (this._ended != 0) {\n                if (!this._killed) {\n                    this.callCompleteCallback();\n                    this._killed = true;\n                }\n            }\n        };\n        GTweener.prototype.update = function () {\n            this._ended = 0;\n            if (this._valueSize == 0) {\n                if (this._elapsedTime >= this._delay + this._duration)\n                    this._ended = 1;\n                return;\n            }\n            if (!this._started) {\n                if (this._elapsedTime < this._delay)\n                    return;\n                this._started = true;\n                this.callStartCallback();\n                if (this._killed)\n                    return;\n            }\n            var reversed = false;\n            var tt = this._elapsedTime - this._delay;\n            if (this._breakpoint >= 0 && tt >= this._breakpoint) {\n                tt = this._breakpoint;\n                this._ended = 2;\n            }\n            if (this._repeat != 0) {\n                var round = Math.floor(tt / this._duration);\n                tt -= this._duration * round;\n                if (this._yoyo)\n                    reversed = round % 2 == 1;\n                if (this._repeat > 0 && this._repeat - round < 0) {\n                    if (this._yoyo)\n                        reversed = this._repeat % 2 == 1;\n                    tt = this._duration;\n                    this._ended = 1;\n                }\n            }\n            else if (tt >= this._duration) {\n                tt = this._duration;\n                this._ended = 1;\n            }\n            this._normalizedTime = fgui.EaseManager.evaluate(this._easeType, reversed ? (this._duration - tt) : tt, this._duration, this._easeOvershootOrAmplitude, this._easePeriod);\n            this._value.setZero();\n            this._deltaValue.setZero();\n            if (this._valueSize == 5) {\n                if (this._ended == 0) {\n                    var r = this._startValue.w * (1 - this._normalizedTime);\n                    var rx = r * (Math.random() > 0.5 ? 1 : -1);\n                    var ry = r * (Math.random() > 0.5 ? 1 : -1);\n                    this._deltaValue.x = rx;\n                    this._deltaValue.y = ry;\n                    this._value.x = this._startValue.x + rx;\n                    this._value.y = this._startValue.y + ry;\n                }\n                else {\n                    this._value.x = this._startValue.x;\n                    this._value.y = this._startValue.y;\n                }\n            }\n            else if (this._path) {\n                var pt = GTweener.helperPoint;\n                this._path.getPointAt(this._normalizedTime, pt);\n                if (this._snapping) {\n                    pt.x = Math.round(pt.x);\n                    pt.y = Math.round(pt.y);\n                }\n                this._deltaValue.x = pt.x - this._value.x;\n                this._deltaValue.y = pt.y - this._value.y;\n                this._value.x = pt.x;\n                this._value.y = pt.y;\n            }\n            else {\n                for (var i = 0; i < this._valueSize; i++) {\n                    var n1 = this._startValue.getField(i);\n                    var n2 = this._endValue.getField(i);\n                    var f = n1 + (n2 - n1) * this._normalizedTime;\n                    if (this._snapping)\n                        f = Math.round(f);\n                    this._deltaValue.setField(i, f - this._value.getField(i));\n                    this._value.setField(i, f);\n                }\n            }\n            if (this._target != null && this._propType != null) {\n                if (this._propType instanceof Function) {\n                    switch (this._valueSize) {\n                        case 1:\n                            this._propType.call(this._target, this._value.x);\n                            break;\n                        case 2:\n                            this._propType.call(this._target, this._value.x, this._value.y);\n                            break;\n                        case 3:\n                            this._propType.call(this._target, this._value.x, this._value.y, this._value.z);\n                            break;\n                        case 4:\n                            this._propType.call(this._target, this._value.x, this._value.y, this._value.z, this._value.w);\n                            break;\n                        case 5:\n                            this._propType.call(this._target, this._value.color);\n                            break;\n                        case 6:\n                            this._propType.call(this._target, this._value.x, this._value.y);\n                            break;\n                    }\n                }\n                else {\n                    if (this._valueSize == 5)\n                        this._target[this._propType] = this._value.color;\n                    else\n                        this._target[this._propType] = this._value.x;\n                }\n            }\n            this.callUpdateCallback();\n        };\n        GTweener.prototype.callStartCallback = function () {\n            if (this._onStart != null) {\n                try {\n                    this._onStart.call(this._onStartCaller, this);\n                }\n                catch (err) {\n                    console.log(\"FairyGUI: error in start callback > \" + err);\n                }\n            }\n        };\n        GTweener.prototype.callUpdateCallback = function () {\n            if (this._onUpdate != null) {\n                try {\n                    this._onUpdate.call(this._onUpdateCaller, this);\n                }\n                catch (err) {\n                    console.log(\"FairyGUI: error in update callback > \" + err);\n                }\n            }\n        };\n        GTweener.prototype.callCompleteCallback = function () {\n            if (this._onComplete != null) {\n                try {\n                    this._onComplete.call(this._onCompleteCaller, this);\n                }\n                catch (err) {\n                    console.log(\"FairyGUI: error in complete callback > \" + err);\n                }\n            }\n        };\n        GTweener.helperPoint = new cc.Vec2();\n        return GTweener;\n    }());\n    fgui.GTweener = GTweener;\n})(fgui || (fgui = {}));\nvar fgui;\n(function (fgui) {\n    var TweenManager = (function () {\n        function TweenManager() {\n        }\n        TweenManager.createTween = function () {\n            if (!TweenManager._root) {\n                TweenManager._root = new cc.Node(\"[TweenManager]\");\n                cc.game[\"addPersistRootNode\"](TweenManager._root);\n                cc.director.getScheduler().schedule(TweenManager.update, TweenManager._root, 0, false);\n            }\n            var tweener;\n            var cnt = TweenManager._tweenerPool.length;\n            if (cnt > 0) {\n                tweener = TweenManager._tweenerPool.pop();\n            }\n            else\n                tweener = new fgui.GTweener();\n            tweener._init();\n            TweenManager._activeTweens[TweenManager._totalActiveTweens++] = tweener;\n            if (TweenManager._totalActiveTweens == TweenManager._activeTweens.length)\n                TweenManager._activeTweens.length = TweenManager._activeTweens.length + Math.ceil(TweenManager._activeTweens.length * 0.5);\n            return tweener;\n        };\n        TweenManager.isTweening = function (target, propType) {\n            if (target == null)\n                return false;\n            var anyType = propType == null || propType == undefined;\n            for (var i = 0; i < TweenManager._totalActiveTweens; i++) {\n                var tweener = TweenManager._activeTweens[i];\n                if (tweener != null && tweener.target == target && !tweener._killed\n                    && (anyType || tweener._propType == propType))\n                    return true;\n            }\n            return false;\n        };\n        TweenManager.killTweens = function (target, completed, propType) {\n            if (target == null)\n                return false;\n            var flag = false;\n            var cnt = TweenManager._totalActiveTweens;\n            var anyType = propType == null || propType == undefined;\n            for (var i = 0; i < cnt; i++) {\n                var tweener = TweenManager._activeTweens[i];\n                if (tweener != null && tweener.target == target && !tweener._killed\n                    && (anyType || tweener._propType == propType)) {\n                    tweener.kill(completed);\n                    flag = true;\n                }\n            }\n            return flag;\n        };\n        TweenManager.getTween = function (target, propType) {\n            if (target == null)\n                return null;\n            var cnt = TweenManager._totalActiveTweens;\n            var anyType = propType == null || propType == undefined;\n            for (var i = 0; i < cnt; i++) {\n                var tweener = TweenManager._activeTweens[i];\n                if (tweener != null && tweener.target == target && !tweener._killed\n                    && (anyType || tweener._propType == propType)) {\n                    return tweener;\n                }\n            }\n            return null;\n        };\n        TweenManager.update = function (dt) {\n            var tweens = TweenManager._activeTweens;\n            var cnt = TweenManager._totalActiveTweens;\n            var freePosStart = -1;\n            for (var i = 0; i < cnt; i++) {\n                var tweener = tweens[i];\n                if (tweener == null) {\n                    if (freePosStart == -1)\n                        freePosStart = i;\n                }\n                else if (tweener._killed) {\n                    tweener._reset();\n                    TweenManager._tweenerPool.push(tweener);\n                    tweens[i] = null;\n                    if (freePosStart == -1)\n                        freePosStart = i;\n                }\n                else {\n                    if (!tweener._paused)\n                        tweener._update(dt);\n                    if (freePosStart != -1) {\n                        tweens[freePosStart] = tweener;\n                        tweens[i] = null;\n                        freePosStart++;\n                    }\n                }\n            }\n            if (freePosStart >= 0) {\n                if (TweenManager._totalActiveTweens != cnt) {\n                    var j = cnt;\n                    cnt = TweenManager._totalActiveTweens - cnt;\n                    for (i = 0; i < cnt; i++)\n                        tweens[freePosStart++] = tweens[j++];\n                }\n                TweenManager._totalActiveTweens = freePosStart;\n            }\n            return false;\n        };\n        TweenManager._activeTweens = new Array(30);\n        TweenManager._tweenerPool = new Array();\n        TweenManager._totalActiveTweens = 0;\n        return TweenManager;\n    }());\n    fgui.TweenManager = TweenManager;\n})(fgui || (fgui = {}));\nvar fgui;\n(function (fgui) {\n    var TweenValue = (function () {\n        function TweenValue() {\n            this.x = this.y = this.z = this.w = 0;\n        }\n        Object.defineProperty(TweenValue.prototype, \"color\", {\n            get: function () {\n                return (this.w << 24) + (this.x << 16) + (this.y << 8) + this.z;\n            },\n            set: function (value) {\n                this.x = (value & 0xFF0000) >> 16;\n                this.y = (value & 0x00FF00) >> 8;\n                this.z = (value & 0x0000FF);\n                this.w = (value & 0xFF000000) >> 24;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        TweenValue.prototype.getField = function (index) {\n            switch (index) {\n                case 0:\n                    return this.x;\n                case 1:\n                    return this.y;\n                case 2:\n                    return this.z;\n                case 3:\n                    return this.w;\n                default:\n                    throw new Error(\"Index out of bounds: \" + index);\n            }\n        };\n        TweenValue.prototype.setField = function (index, value) {\n            switch (index) {\n                case 0:\n                    this.x = value;\n                    break;\n                case 1:\n                    this.y = value;\n                    break;\n                case 2:\n                    this.z = value;\n                    break;\n                case 3:\n                    this.w = value;\n                    break;\n                default:\n                    throw new Error(\"Index out of bounds: \" + index);\n            }\n        };\n        TweenValue.prototype.setZero = function () {\n            this.x = this.y = this.z = this.w = 0;\n        };\n        return TweenValue;\n    }());\n    fgui.TweenValue = TweenValue;\n})(fgui || (fgui = {}));\nvar fgui;\n(function (fgui) {\n    var ByteBuffer = (function () {\n        function ByteBuffer(buffer, offset, length) {\n            if (offset === void 0) { offset = 0; }\n            if (length === void 0) { length = -1; }\n            this.stringTable = null;\n            this.version = 0;\n            this.littleEndian = false;\n            if (length == -1)\n                length = buffer.byteLength - offset;\n            this._bytes = new Uint8Array(buffer, offset, length);\n            this._view = new DataView(this._bytes.buffer, offset, length);\n            this._pos = 0;\n            this._length = length;\n        }\n        Object.defineProperty(ByteBuffer.prototype, \"data\", {\n            get: function () {\n                return this._bytes;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(ByteBuffer.prototype, \"position\", {\n            get: function () {\n                return this._pos;\n            },\n            set: function (value) {\n                if (value > this._length)\n                    throw \"Out of bounds\";\n                this._pos = value;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        ByteBuffer.prototype.skip = function (count) {\n            this._pos += count;\n        };\n        ByteBuffer.prototype.validate = function (forward) {\n            if (this._pos + forward > this._length)\n                throw \"Out of bounds\";\n        };\n        ByteBuffer.prototype.readByte = function () {\n            this.validate(1);\n            return this._view.getInt8(this._pos++);\n        };\n        ByteBuffer.prototype.readUbyte = function () {\n            return this._bytes[this._pos++];\n        };\n        ByteBuffer.prototype.readBool = function () {\n            return this.readByte() == 1;\n        };\n        ByteBuffer.prototype.readShort = function () {\n            this.validate(2);\n            var ret = this._view.getInt16(this._pos, this.littleEndian);\n            this._pos += 2;\n            return ret;\n        };\n        ByteBuffer.prototype.readUshort = function () {\n            this.validate(2);\n            var ret = this._view.getUint16(this._pos, this.littleEndian);\n            this._pos += 2;\n            return ret;\n        };\n        ByteBuffer.prototype.readInt = function () {\n            this.validate(4);\n            var ret = this._view.getInt32(this._pos, this.littleEndian);\n            this._pos += 4;\n            return ret;\n        };\n        ByteBuffer.prototype.readUint = function () {\n            this.validate(4);\n            var ret = this._view.getUint32(this._pos, this.littleEndian);\n            this._pos += 4;\n            return ret;\n        };\n        ByteBuffer.prototype.readFloat = function () {\n            this.validate(4);\n            var ret = this._view.getFloat32(this._pos, this.littleEndian);\n            this._pos += 4;\n            return ret;\n        };\n        ByteBuffer.prototype.readString = function (len) {\n            if (len == undefined)\n                len = this.readUshort();\n            this.validate(len);\n            var v = \"\", max = this._pos + len, c = 0, c2 = 0, c3 = 0, f = String.fromCharCode;\n            var u = this._bytes, i = 0;\n            var pos = this._pos;\n            while (pos < max) {\n                c = u[pos++];\n                if (c < 0x80) {\n                    if (c != 0) {\n                        v += f(c);\n                    }\n                }\n                else if (c < 0xE0) {\n                    v += f(((c & 0x3F) << 6) | (u[pos++] & 0x7F));\n                }\n                else if (c < 0xF0) {\n                    c2 = u[pos++];\n                    v += f(((c & 0x1F) << 12) | ((c2 & 0x7F) << 6) | (u[pos++] & 0x7F));\n                }\n                else {\n                    c2 = u[pos++];\n                    c3 = u[pos++];\n                    v += f(((c & 0x0F) << 18) | ((c2 & 0x7F) << 12) | ((c3 << 6) & 0x7F) | (u[pos++] & 0x7F));\n                }\n                i++;\n            }\n            this._pos += len;\n            return v;\n        };\n        ByteBuffer.prototype.readS = function () {\n            var index = this.readUshort();\n            if (index == 65534)\n                return null;\n            else if (index == 65533)\n                return \"\";\n            else\n                return this.stringTable[index];\n        };\n        ByteBuffer.prototype.readSArray = function (cnt) {\n            var ret = new Array(cnt);\n            for (var i = 0; i < cnt; i++)\n                ret[i] = this.readS();\n            return ret;\n        };\n        ByteBuffer.prototype.writeS = function (value) {\n            var index = this.readUshort();\n            if (index != 65534 && index != 65533)\n                this.stringTable[index] = value;\n        };\n        ByteBuffer.prototype.readColor = function (hasAlpha) {\n            var r = this.readUbyte();\n            var g = this.readUbyte();\n            var b = this.readUbyte();\n            var a = this.readUbyte();\n            return new cc.Color(r, g, b, (hasAlpha ? a : 255));\n        };\n        ByteBuffer.prototype.readChar = function () {\n            var i = this.readUshort();\n            return String.fromCharCode(i);\n        };\n        ByteBuffer.prototype.readBuffer = function () {\n            var count = this.readUint();\n            this.validate(count);\n            var ba = new ByteBuffer(this._bytes.buffer, this._bytes.byteOffset + this._pos, count);\n            ba.stringTable = this.stringTable;\n            ba.version = this.version;\n            this._pos += count;\n            return ba;\n        };\n        ByteBuffer.prototype.seek = function (indexTablePos, blockIndex) {\n            var tmp = this._pos;\n            this._pos = indexTablePos;\n            var segCount = this.readByte();\n            if (blockIndex < segCount) {\n                var useShort = this.readByte() == 1;\n                var newPos;\n                if (useShort) {\n                    this._pos += 2 * blockIndex;\n                    newPos = this.readUshort();\n                }\n                else {\n                    this._pos += 4 * blockIndex;\n                    newPos = this.readUint();\n                }\n                if (newPos > 0) {\n                    this._pos = indexTablePos + newPos;\n                    return true;\n                }\n                else {\n                    this._pos = tmp;\n                    return false;\n                }\n            }\n            else {\n                this._pos = tmp;\n                return false;\n            }\n        };\n        return ByteBuffer;\n    }());\n    fgui.ByteBuffer = ByteBuffer;\n})(fgui || (fgui = {}));\nvar fgui;\n(function (fgui) {\n    var ColorMatrix = (function () {\n        function ColorMatrix() {\n            this.matrix = new Array(ColorMatrix.LENGTH);\n            this.reset();\n        }\n        ColorMatrix.create = function (p_brightness, p_contrast, p_saturation, p_hue) {\n            var ret = new ColorMatrix();\n            ret.adjustColor(p_brightness, p_contrast, p_saturation, p_hue);\n            return ret;\n        };\n        ColorMatrix.prototype.reset = function () {\n            for (var i = 0; i < ColorMatrix.LENGTH; i++) {\n                this.matrix[i] = ColorMatrix.IDENTITY_MATRIX[i];\n            }\n        };\n        ColorMatrix.prototype.invert = function () {\n            this.multiplyMatrix([-1, 0, 0, 0, 255,\n                0, -1, 0, 0, 255,\n                0, 0, -1, 0, 255,\n                0, 0, 0, 1, 0]);\n        };\n        ColorMatrix.prototype.adjustColor = function (p_brightness, p_contrast, p_saturation, p_hue) {\n            this.adjustHue(p_hue);\n            this.adjustContrast(p_contrast);\n            this.adjustBrightness(p_brightness);\n            this.adjustSaturation(p_saturation);\n        };\n        ColorMatrix.prototype.adjustBrightness = function (p_val) {\n            p_val = this.cleanValue(p_val, 1) * 255;\n            this.multiplyMatrix([\n                1, 0, 0, 0, p_val,\n                0, 1, 0, 0, p_val,\n                0, 0, 1, 0, p_val,\n                0, 0, 0, 1, 0\n            ]);\n        };\n        ColorMatrix.prototype.adjustContrast = function (p_val) {\n            p_val = this.cleanValue(p_val, 1);\n            var s = p_val + 1;\n            var o = 128 * (1 - s);\n            this.multiplyMatrix([\n                s, 0, 0, 0, o,\n                0, s, 0, 0, o,\n                0, 0, s, 0, o,\n                0, 0, 0, 1, 0\n            ]);\n        };\n        ColorMatrix.prototype.adjustSaturation = function (p_val) {\n            p_val = this.cleanValue(p_val, 1);\n            p_val += 1;\n            var invSat = 1 - p_val;\n            var invLumR = invSat * ColorMatrix.LUMA_R;\n            var invLumG = invSat * ColorMatrix.LUMA_G;\n            var invLumB = invSat * ColorMatrix.LUMA_B;\n            this.multiplyMatrix([\n                (invLumR + p_val), invLumG, invLumB, 0, 0,\n                invLumR, (invLumG + p_val), invLumB, 0, 0,\n                invLumR, invLumG, (invLumB + p_val), 0, 0,\n                0, 0, 0, 1, 0\n            ]);\n        };\n        ColorMatrix.prototype.adjustHue = function (p_val) {\n            p_val = this.cleanValue(p_val, 1);\n            p_val *= Math.PI;\n            var cos = Math.cos(p_val);\n            var sin = Math.sin(p_val);\n            this.multiplyMatrix([\n                ((ColorMatrix.LUMA_R + (cos * (1 - ColorMatrix.LUMA_R))) + (sin * -(ColorMatrix.LUMA_R))), ((ColorMatrix.LUMA_G + (cos * -(ColorMatrix.LUMA_G))) + (sin * -(ColorMatrix.LUMA_G))), ((ColorMatrix.LUMA_B + (cos * -(ColorMatrix.LUMA_B))) + (sin * (1 - ColorMatrix.LUMA_B))), 0, 0,\n                ((ColorMatrix.LUMA_R + (cos * -(ColorMatrix.LUMA_R))) + (sin * 0.143)), ((ColorMatrix.LUMA_G + (cos * (1 - ColorMatrix.LUMA_G))) + (sin * 0.14)), ((ColorMatrix.LUMA_B + (cos * -(ColorMatrix.LUMA_B))) + (sin * -0.283)), 0, 0,\n                ((ColorMatrix.LUMA_R + (cos * -(ColorMatrix.LUMA_R))) + (sin * -((1 - ColorMatrix.LUMA_R)))), ((ColorMatrix.LUMA_G + (cos * -(ColorMatrix.LUMA_G))) + (sin * ColorMatrix.LUMA_G)), ((ColorMatrix.LUMA_B + (cos * (1 - ColorMatrix.LUMA_B))) + (sin * ColorMatrix.LUMA_B)), 0, 0,\n                0, 0, 0, 1, 0\n            ]);\n        };\n        ColorMatrix.prototype.concat = function (p_matrix) {\n            if (p_matrix.length != ColorMatrix.LENGTH) {\n                return;\n            }\n            this.multiplyMatrix(p_matrix);\n        };\n        ColorMatrix.prototype.clone = function () {\n            var result = new ColorMatrix();\n            result.copyMatrix(this.matrix);\n            return result;\n        };\n        ColorMatrix.prototype.copyMatrix = function (p_matrix) {\n            var l = ColorMatrix.LENGTH;\n            for (var i = 0; i < l; i++) {\n                this.matrix[i] = p_matrix[i];\n            }\n        };\n        ColorMatrix.prototype.multiplyMatrix = function (p_matrix) {\n            var col = [];\n            var i = 0;\n            for (var y = 0; y < 4; ++y) {\n                for (var x = 0; x < 5; ++x) {\n                    col[i + x] = p_matrix[i] * this.matrix[x] +\n                        p_matrix[i + 1] * this.matrix[x + 5] +\n                        p_matrix[i + 2] * this.matrix[x + 10] +\n                        p_matrix[i + 3] * this.matrix[x + 15] +\n                        (x == 4 ? p_matrix[i + 4] : 0);\n                }\n                i += 5;\n            }\n            this.copyMatrix(col);\n        };\n        ColorMatrix.prototype.cleanValue = function (p_val, p_limit) {\n            return Math.min(p_limit, Math.max(-p_limit, p_val));\n        };\n        ColorMatrix.IDENTITY_MATRIX = [\n            1, 0, 0, 0, 0,\n            0, 1, 0, 0, 0,\n            0, 0, 1, 0, 0,\n            0, 0, 0, 1, 0\n        ];\n        ColorMatrix.LENGTH = ColorMatrix.IDENTITY_MATRIX.length;\n        ColorMatrix.LUMA_R = 0.299;\n        ColorMatrix.LUMA_G = 0.587;\n        ColorMatrix.LUMA_B = 0.114;\n        return ColorMatrix;\n    }());\n    fgui.ColorMatrix = ColorMatrix;\n})(fgui || (fgui = {}));\nvar fgui;\n(function (fgui) {\n    var UBBParser = (function () {\n        function UBBParser() {\n            this._readPos = 0;\n            this._handlers = {};\n            this._handlers[\"url\"] = this.onTag_URL;\n            this._handlers[\"img\"] = this.onTag_IMG;\n            this._handlers[\"b\"] = this.onTag_Simple;\n            this._handlers[\"i\"] = this.onTag_Simple;\n            this._handlers[\"u\"] = this.onTag_Simple;\n            this._handlers[\"color\"] = this.onTag_COLOR;\n            this._handlers[\"size\"] = this.onTag_SIZE;\n        }\n        UBBParser.prototype.onTag_URL = function (tagName, end, attr) {\n            if (!end) {\n                var ret = void 0;\n                if (attr != null)\n                    ret = \"<on click=\\\"onClickLink\\\" param=\\\"\" + attr + \"\\\">\";\n                else {\n                    var href = this.getTagText();\n                    ret = \"<on click=\\\"onClickLink\\\" param=\\\"\" + href + \"\\\">\";\n                }\n                if (this.linkUnderline)\n                    ret += \"<u>\";\n                if (this.linkColor)\n                    ret += \"<color=\" + this.linkColor + \">\";\n                return ret;\n            }\n            else {\n                var ret = \"\";\n                if (this.linkColor)\n                    ret += \"</color>\";\n                if (this.linkUnderline)\n                    ret += \"</u>\";\n                ret += \"</on>\";\n                return ret;\n            }\n        };\n        UBBParser.prototype.onTag_IMG = function (tagName, end, attr) {\n            if (!end) {\n                var src = this.getTagText(true);\n                if (!src)\n                    return null;\n                return \"<img src=\\\"\" + src + \"\\\"/>\";\n            }\n            else\n                return null;\n        };\n        UBBParser.prototype.onTag_Simple = function (tagName, end, attr) {\n            return end ? (\"</\" + tagName + \">\") : (\"<\" + tagName + \">\");\n        };\n        UBBParser.prototype.onTag_COLOR = function (tagName, end, attr) {\n            if (!end) {\n                this.lastColor = attr;\n                return \"<color=\" + attr + \">\";\n            }\n            else\n                return \"</color>\";\n        };\n        UBBParser.prototype.onTag_FONT = function (tagName, end, attr) {\n            if (!end)\n                return \"<font face=\\\"\" + attr + \"\\\">\";\n            else\n                return \"</font>\";\n        };\n        UBBParser.prototype.onTag_SIZE = function (tagName, end, attr) {\n            if (!end) {\n                this.lastSize = attr;\n                return \"<size=\" + attr + \">\";\n            }\n            else\n                return \"</size>\";\n        };\n        UBBParser.prototype.getTagText = function (remove) {\n            var pos1 = this._readPos;\n            var pos2;\n            var result = \"\";\n            while ((pos2 = this._text.indexOf(\"[\", pos1)) != -1) {\n                if (this._text.charCodeAt(pos2 - 1) == 92) {\n                    result += this._text.substring(pos1, pos2 - 1);\n                    result += \"[\";\n                    pos1 = pos2 + 1;\n                }\n                else {\n                    result += this._text.substring(pos1, pos2);\n                    break;\n                }\n            }\n            if (pos2 == -1)\n                return null;\n            if (remove)\n                this._readPos = pos2;\n            return result;\n        };\n        UBBParser.prototype.parse = function (text, remove) {\n            this._text = text;\n            this.lastColor = null;\n            this.lastSize = null;\n            var pos1 = 0, pos2, pos3;\n            var end;\n            var tag, attr;\n            var repl;\n            var func;\n            var result = \"\";\n            while ((pos2 = this._text.indexOf(\"[\", pos1)) != -1) {\n                if (pos2 > 0 && this._text.charCodeAt(pos2 - 1) == 92) {\n                    result += this._text.substring(pos1, pos2 - 1);\n                    result += \"[\";\n                    pos1 = pos2 + 1;\n                    continue;\n                }\n                result += this._text.substring(pos1, pos2);\n                pos1 = pos2;\n                pos2 = this._text.indexOf(\"]\", pos1);\n                if (pos2 == -1)\n                    break;\n                end = this._text.charAt(pos1 + 1) == '/';\n                tag = this._text.substring(end ? pos1 + 2 : pos1 + 1, pos2);\n                this._readPos = pos2 + 1;\n                attr = null;\n                repl = null;\n                pos3 = tag.indexOf(\"=\");\n                if (pos3 != -1) {\n                    attr = tag.substring(pos3 + 1);\n                    tag = tag.substring(0, pos3);\n                }\n                tag = tag.toLowerCase();\n                func = this._handlers[tag];\n                if (func != null) {\n                    repl = func.call(this, tag, end, attr);\n                    if (repl != null && !remove)\n                        result += repl;\n                }\n                else\n                    result += this._text.substring(pos1, this._readPos);\n                pos1 = this._readPos;\n            }\n            if (pos1 < this._text.length)\n                result += this._text.substr(pos1);\n            this._text = null;\n            return result;\n        };\n        UBBParser.inst = new UBBParser();\n        return UBBParser;\n    }());\n    fgui.UBBParser = UBBParser;\n})(fgui || (fgui = {}));\nvar fgui;\n(function (fgui) {\n    var ToolSet = (function () {\n        function ToolSet() {\n        }\n        ToolSet.startsWith = function (source, str, ignoreCase) {\n            if (!source)\n                return false;\n            else if (source.length < str.length)\n                return false;\n            else {\n                source = source.substring(0, str.length);\n                if (!ignoreCase)\n                    return source == str;\n                else\n                    return source.toLowerCase() == str.toLowerCase();\n            }\n        };\n        ToolSet.encodeHTML = function (str) {\n            if (!str)\n                return \"\";\n            else\n                return str.replace(\"&\", \"&amp;\").replace(\"<\", \"&lt;\").replace(\">\", \"&gt;\").replace(\"'\", \"&apos;\");\n        };\n        ToolSet.clamp = function (value, min, max) {\n            if (value < min)\n                value = min;\n            else if (value > max)\n                value = max;\n            return value;\n        };\n        ToolSet.clamp01 = function (value) {\n            if (value > 1)\n                value = 1;\n            else if (value < 0)\n                value = 0;\n            return value;\n        };\n        ToolSet.lerp = function (start, end, percent) {\n            return (start + percent * (end - start));\n        };\n        ToolSet.getTime = function () {\n            var currentTime = new Date();\n            return currentTime.getMilliseconds() / 1000;\n        };\n        ToolSet.toGrayed = function (c) {\n            var v = c.getR() * 0.299 + c.getG() * 0.587 + c.getB() * 0.114;\n            return new cc.Color(v, v, v, c.getA());\n        };\n        ToolSet.repeat = function (t, length) {\n            return t - Math.floor(t / length) * length;\n        };\n        ToolSet.distance = function (x1, y1, x2, y2) {\n            return Math.sqrt(Math.pow(x1 - x2, 2) + Math.pow(y1 - y2, 2));\n        };\n        return ToolSet;\n    }());\n    fgui.ToolSet = ToolSet;\n})(fgui || (fgui = {}));\nvar UI;\n(function (UI) {\n    var PackageInfo = (function () {\n        function PackageInfo() {\n        }\n        PackageInfo.loadPromise = new Collection.Dictionary();\n        return PackageInfo;\n    }());\n    var s_packageCache = {};\n    function registerPackage(name, load, unload) {\n        var info = s_packageCache[name];\n        if (info) {\n            cc.error(\"registerPackage failed, \" + name + \" already exists!\");\n            return;\n        }\n        info = new PackageInfo();\n        info.count = 0;\n        info.load = load;\n        info.unload = unload;\n        s_packageCache[name] = info;\n    }\n    UI.registerPackage = registerPackage;\n    function loadPackage(name, force) {\n        if (force === void 0) { force = false; }\n        return __awaiter(this, void 0, void 0, function () {\n            var info, p;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        info = s_packageCache[name];\n                        if (!info) {\n                            cc.error(\"loadPackage error \" + name + \", no load function\");\n                            return [2];\n                        }\n                        if (!(info.count == 0 || force)) return [3, 2];\n                        cc.log(\"loadPackage \" + name);\n                        info.count++;\n                        p = info.load();\n                        PackageInfo.loadPromise.setValue(name, p);\n                        return [4, p];\n                    case 1:\n                        _a.sent();\n                        PackageInfo.loadPromise.remove(name);\n                        return [3, 4];\n                    case 2:\n                        info.count++;\n                        if (!PackageInfo.loadPromise.containsKey(name)) return [3, 4];\n                        return [4, PackageInfo.loadPromise.getValue(name)];\n                    case 3:\n                        _a.sent();\n                        _a.label = 4;\n                    case 4: return [2];\n                }\n            });\n        });\n    }\n    UI.loadPackage = loadPackage;\n    function unloadPackage(name, force) {\n        if (force === void 0) { force = false; }\n        var info = s_packageCache[name];\n        if (!info) {\n            cc.error(\"unloadPackage error $[name], no load/unload function\");\n            return;\n        }\n        info.count--;\n        if (info.count <= 0 || force) {\n            info.unload();\n            info.count = 0;\n            cc.log(\"unloadPackage \" + name);\n        }\n    }\n    UI.unloadPackage = unloadPackage;\n    function registerItemExtension(pkgName, itemName, cls) {\n        var url = fgui.UIPackage.getItemURL(pkgName, itemName);\n        if (url) {\n            fgui.UIObjectFactory.setPackageItemExtension(url, cls);\n        }\n        else {\n            console.error(\"can't find \", pkgName, \": \", itemName);\n        }\n    }\n    UI.registerItemExtension = registerItemExtension;\n    function createObjectAsync(pkgName, resName, userClass) {\n        if (userClass === void 0) { userClass = null; }\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!(Core.DeviceUtils.isiOS() && !Core.DeviceUtils.isMiniGame())) return [3, 1];\n                        return [2, fgui.UIPackage.createObject(pkgName, resName, userClass)];\n                    case 1: return [4, new Promise(function (resolve) {\n                            var asyncOp = new fgui.AsyncOperation();\n                            asyncOp.callback = function (obj) {\n                                resolve(obj);\n                            };\n                            asyncOp.createObject(pkgName, resName, userClass);\n                        })];\n                    case 2: return [2, _a.sent()];\n                }\n            });\n        });\n    }\n    UI.createObjectAsync = createObjectAsync;\n    function setPackageItemExtension() {\n        UI.registerItemExtension(\"common\", \"closeBg\", UI.CloseBg);\n    }\n    UI.setPackageItemExtension = setPackageItemExtension;\n})(UI || (UI = {}));\nvar GameEvent = (function () {\n    function GameEvent() {\n    }\n    GameEvent.OpenView = \"OpenView\";\n    return GameEvent;\n}());\nvar CCCExtend = (function () {\n    function CCCExtend() {\n    }\n    CCCExtend.init = function () {\n        this._extendRenderFlow();\n    };\n    CCCExtend._extendRenderFlow = function () {\n        var FlagOfset = 0;\n        var DONOTHING = 1 << FlagOfset++;\n        var BREAK_FLOW = 1 << FlagOfset++;\n        var LOCAL_TRANSFORM = 1 << FlagOfset++;\n        var WORLD_TRANSFORM = 1 << FlagOfset++;\n        var TRANSFORM = LOCAL_TRANSFORM | WORLD_TRANSFORM;\n        var UPDATE_RENDER_DATA = 1 << FlagOfset++;\n        var OPACITY = 1 << FlagOfset++;\n        var COLOR = 1 << FlagOfset++;\n        var OPACITY_COLOR = OPACITY | COLOR;\n        var RENDER = 1 << FlagOfset++;\n        var CHILDREN = 1 << FlagOfset++;\n        var POST_RENDER = 1 << FlagOfset++;\n        var FINAL = 1 << FlagOfset++;\n        var renderFlow = cc[\"RenderFlow\"];\n        var _batcher = renderFlow.getBachther();\n        var __levelBatcher = [];\n        var __renderQueue = [];\n        Object.defineProperty(renderFlow.prototype, \"_opacity\", {\n            value: function (node) {\n                _batcher.parentOpacityDirty++;\n                if (node[\"__levelRender\"] && __levelBatcher[node[\"__itemIndex\"]]) {\n                    __levelBatcher[node[\"__itemIndex\"]].parentOpacityDirty = 1;\n                }\n                this._next._func(node);\n                node._renderFlag &= ~OPACITY;\n                if (node[\"__levelRender\"] && __levelBatcher[node[\"__itemIndex\"]] && node[\"__lastChildren\"]) {\n                    __levelBatcher[node.__itemIndex].parentOpacityDirty = 0;\n                }\n                _batcher.parentOpacityDirty--;\n            }\n        });\n        Object.defineProperty(renderFlow.prototype, \"_worldTransform\", {\n            value: function (node) {\n                _batcher.worldMatDirty++;\n                if (node[\"__levelRender\"] && __levelBatcher[node[\"__itemIndex\"]]) {\n                    __levelBatcher[node[\"__itemIndex\"]].worldMatDirty = 1;\n                }\n                var t = node._matrix;\n                var trs = node._trs;\n                var tm = t.m;\n                tm[12] = trs[0];\n                tm[13] = trs[1];\n                tm[14] = trs[2];\n                node._mulMat(node._worldMatrix, node._parent._worldMatrix, t);\n                node._renderFlag &= ~WORLD_TRANSFORM;\n                this._next._func(node);\n                if (node[\"__levelRender\"] && __levelBatcher[node[\"__itemIndex\"]] && node[\"__lastChildren\"]) {\n                    __levelBatcher[node.__itemIndex].worldMatDirty = 0;\n                }\n                _batcher.worldMatDirty--;\n            }\n        });\n        var levelSplit = function (node, lv, itemIndex) {\n            if (!__renderQueue[lv]) {\n                __renderQueue[lv] = [];\n            }\n            __renderQueue[lv].push(node);\n            lv++;\n            node[\"__renderLv\"] = lv;\n            node[\"__levelRender\"] = true;\n            node[\"__itemIndex\"] = itemIndex;\n            var cs = node.children;\n            for (var i = 0; i < cs.length; ++i) {\n                var c = cs[i];\n                if (!__renderQueue[lv]) {\n                    __renderQueue[lv] = [];\n                }\n                lv = levelSplit(c, lv, itemIndex);\n            }\n            return lv;\n        };\n        var checkLevelRender = function (levelRenderNode) {\n            var cs = levelRenderNode.children;\n            var rootOpacityInHierarchy = levelRenderNode[\"opacity\"] / 255;\n            __levelBatcher = [];\n            for (var i = 0; i < cs.length; ++i) {\n                __levelBatcher.push({ worldMatDirty: 0, parentOpacityDirty: 0 });\n                levelSplit(cs[i], 0, i);\n            }\n            while (__renderQueue.length > 0) {\n                var list = __renderQueue.shift();\n                if (list.length > 0) {\n                    while (list.length > 0) {\n                        var n = list.shift();\n                        n[\"__lastChildren\"] = __renderQueue.length == 0;\n                        n[\"__levelRender\"] = true;\n                        var opacityInHierarchy = n.parent[\"__opacityInHierarchy\"];\n                        if (opacityInHierarchy === undefined) {\n                            opacityInHierarchy = rootOpacityInHierarchy;\n                        }\n                        var opacity = (opacityInHierarchy * (n[\"_opacity\"] / 255));\n                        n[\"__opacityInHierarchy\"] = opacity;\n                        var cullingMask = n[\"_cullingMask\"];\n                        var worldMatDirty = 0;\n                        if (__levelBatcher[n[\"__itemIndex\"]]) {\n                            worldMatDirty = __levelBatcher[n[\"__itemIndex\"]].worldMatDirty || 0;\n                        }\n                        var parentOpacityDirty = 0;\n                        if (__levelBatcher[n[\"__itemIndex\"]]) {\n                            parentOpacityDirty = __levelBatcher[n[\"__itemIndex\"]].parentOpacityDirty || 0;\n                        }\n                        var worldTransformFlag = (worldMatDirty || _batcher.worldMatDirty) ? WORLD_TRANSFORM : 0;\n                        var worldOpacityFlag = (parentOpacityDirty || _batcher.parentOpacityDirty) ? OPACITY_COLOR : 0;\n                        var worldDirtyFlag = worldTransformFlag | worldOpacityFlag;\n                        n[\"_renderFlag\"] |= worldDirtyFlag;\n                        if (!n[\"_activeInHierarchy\"] || n[\"_opacity\"] === 0)\n                            continue;\n                        n[\"_cullingMask\"] = n.groupIndex === 0 ? cullingMask : 1 << n.groupIndex;\n                        var colorVal = n[\"_color\"]._val;\n                        n[\"_color\"]._fastSetA(n[\"_opacity\"] * opacity);\n                        renderFlow.flows[n[\"_renderFlag\"]]._func(n);\n                        n[\"_color\"]._val = colorVal;\n                    }\n                }\n            }\n        };\n        Object.defineProperty(renderFlow.prototype, \"_children\", {\n            value: function (node) {\n                if (node.__levelRender)\n                    return;\n                var cullingMask = node._cullingMask;\n                var enableLevelRender = node[\"__enableLevelRender\"];\n                var parentOpacityInHierarchy = node.parent ? node.parent[\"__opacityInHierarchy\"] : undefined;\n                var parentOpacity = parentOpacityInHierarchy !== undefined ? parentOpacityInHierarchy : _batcher.parentOpacity;\n                if (!enableLevelRender && !node.__levelRender) {\n                    var opacity = (parentOpacity *= (node._opacity / 255));\n                    node[\"__opacityInHierarchy\"] = opacity;\n                    var worldTransformFlag = _batcher.worldMatDirty ? WORLD_TRANSFORM : 0;\n                    var worldOpacityFlag = _batcher.parentOpacityDirty ? OPACITY_COLOR : 0;\n                    var worldDirtyFlag = worldTransformFlag | worldOpacityFlag;\n                    var children = node._children;\n                    for (var i = 0, l = children.length; i < l; i++) {\n                        var c = children[i];\n                        c._renderFlag |= worldDirtyFlag;\n                        c[\"__opacityInHierarchy\"] = c._opacity * opacity / 255;\n                        if (!c._activeInHierarchy || c._opacity === 0)\n                            continue;\n                        c._cullingMask = c.groupIndex === 0 ? cullingMask : 1 << c.groupIndex;\n                        var colorVal = c._color._val;\n                        c._color._fastSetA(c._opacity * opacity);\n                        renderFlow.flows[c._renderFlag]._func(c);\n                        c._color._val = colorVal;\n                    }\n                }\n                else {\n                    checkLevelRender(node);\n                }\n                _batcher.parentOpacity = parentOpacity;\n                this._next._func(node);\n            }\n        });\n    };\n    return CCCExtend;\n}());\nvar HotUpdateHelper = (function () {\n    function HotUpdateHelper() {\n    }\n    Object.defineProperty(HotUpdateHelper, \"inst\", {\n        get: function () {\n            if (this._inst == null) {\n                this._inst = new HotUpdateHelper();\n            }\n            return this._inst;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    HotUpdateHelper.prototype._checkCb = function (event) {\n        cc.log('[checkCb]: ' + event.getEventCode());\n        var panel = this.panel;\n        switch (event.getEventCode()) {\n            case jsb.EventAssetsManager.ERROR_NO_LOCAL_MANIFEST:\n                panel.info.string = \"No local manifest file found, hot update skipped.\";\n                break;\n            case jsb.EventAssetsManager.ERROR_DOWNLOAD_MANIFEST:\n            case jsb.EventAssetsManager.ERROR_PARSE_MANIFEST:\n                panel.info.string = \"Fail to download manifest file, hot update skipped.\";\n                break;\n            case jsb.EventAssetsManager.ALREADY_UP_TO_DATE:\n                panel.info.string = \"Already up to date with the latest remote version.\";\n                break;\n            case jsb.EventAssetsManager.NEW_VERSION_FOUND:\n                panel.info.string = 'New version found, please try to update. (' + this._am.getTotalBytes() + ')';\n                panel.checkBtn.active = false;\n                panel.fileProgress.progress = 0;\n                panel.byteProgress.progress = 0;\n                break;\n            default:\n                return;\n        }\n        this._am.setEventCallback(null);\n        this._checkListener = null;\n        this._updating = false;\n        this._manifestUrl = null;\n        this._canRetry = null;\n        this._failCount = 0;\n    };\n    HotUpdateHelper.prototype.updateCb = function (event) {\n        var needRestart = false;\n        var failed = false;\n        switch (event.getEventCode()) {\n            case jsb.EventAssetsManager.ERROR_NO_LOCAL_MANIFEST:\n                this.panel.info.string = 'No local manifest file found, hot update skipped.';\n                failed = true;\n                break;\n            case jsb.EventAssetsManager.UPDATE_PROGRESSION:\n                this.panel.byteProgress.progress = event.getPercent();\n                this.panel.fileProgress.progress = event.getPercentByFile();\n                this.panel.fileLabel.string = event.getDownloadedFiles() + ' / ' + event.getTotalFiles();\n                this.panel.byteLabel.string = event.getDownloadedBytes() + ' / ' + event.getTotalBytes();\n                var msg = event.getMessage();\n                if (msg) {\n                    this.panel.info.string = 'Updated file: ' + msg;\n                }\n                break;\n            case jsb.EventAssetsManager.ERROR_DOWNLOAD_MANIFEST:\n            case jsb.EventAssetsManager.ERROR_PARSE_MANIFEST:\n                this.panel.info.string = 'Fail to download manifest file, hot update skipped.';\n                failed = true;\n                break;\n            case jsb.EventAssetsManager.ALREADY_UP_TO_DATE:\n                this.panel.info.string = 'Already up to date with the latest remote version.';\n                failed = true;\n                break;\n            case jsb.EventAssetsManager.UPDATE_FINISHED:\n                this.panel.info.string = 'Update finished. ' + event.getMessage();\n                needRestart = true;\n                break;\n            case jsb.EventAssetsManager.UPDATE_FAILED:\n                this.panel.info.string = 'Update failed. ' + event.getMessage();\n                this.panel.retryBtn.active = true;\n                this._updating = false;\n                this._canRetry = true;\n                break;\n            case jsb.EventAssetsManager.ERROR_UPDATING:\n                this.panel.info.string = 'Asset update error: ' + event.getAssetId() + ', ' + event.getMessage();\n                break;\n            case jsb.EventAssetsManager.ERROR_DECOMPRESS:\n                this.panel.info.string = event.getMessage();\n                break;\n            default:\n                break;\n        }\n        if (failed) {\n            this._am.setEventCallback(null);\n            this._updateListener = null;\n            this._updating = false;\n        }\n        if (needRestart) {\n            this._am.setEventCallback(null);\n            this._updateListener = null;\n            var searchPaths = jsb.fileUtils.getSearchPaths();\n            var newPaths = this._am.getLocalManifest().getSearchPaths();\n            console.log(JSON.stringify(newPaths));\n            Array.prototype.unshift.apply(searchPaths, newPaths);\n            cc.sys.localStorage.setItem('HotUpdateSearchPaths', JSON.stringify(searchPaths));\n            jsb.fileUtils.setSearchPaths(searchPaths);\n            cc.game.restart();\n        }\n    };\n    HotUpdateHelper.prototype.retry = function () {\n        if (!this._updating && this._canRetry) {\n            this.panel.retryBtn.active = false;\n            this._canRetry = false;\n            this.panel.info.string = 'Retry failed Assets...';\n            this._am.downloadFailedAssets();\n        }\n    };\n    ;\n    HotUpdateHelper.prototype.checkUpdate = function () {\n        if (this._updating) {\n            this.panel.info.string = 'Checking or updating ...';\n            return;\n        }\n        if (this._am.getState() === jsb.AssetsManager.State.UNINITED) {\n            var url = this._manifestUrl.nativeUrl;\n            if (cc.loader.md5Pipe) {\n                url = cc.loader.md5Pipe.transformURL(url);\n            }\n            this._am.loadLocalManifest(url);\n        }\n        if (!this._am.getLocalManifest() || !this._am.getLocalManifest().isLoaded()) {\n            this.panel.info.string = 'Failed to load local manifest ...';\n            return;\n        }\n        this._am.setEventCallback(this._checkCb.bind(this));\n        this._am.checkUpdate();\n        this._updating = true;\n    };\n    HotUpdateHelper.prototype.hotUpdate = function () {\n        if (this._am && !this._updating) {\n            this._am.setEventCallback(this.updateCb.bind(this));\n            if (this._am.getState() === jsb.AssetsManager.State.UNINITED) {\n                console.log(\"this._am state is UNINITED\");\n                var url = this._manifestUrl.nativeUrl;\n                if (cc.loader.md5Pipe) {\n                    url = cc.loader.md5Pipe.transformURL(url);\n                }\n                this._am.loadLocalManifest(url);\n            }\n            this._failCount = 0;\n            this._am.update();\n            this.panel.updateBtn.active = false;\n            this._updating = true;\n        }\n    };\n    HotUpdateHelper.prototype.init = function () {\n        console.log(\"hotupdateHelper init\");\n        this.panel = cc.find(\"Canvas/update_panel\").getComponent(\"UpdatePanel\");\n        cc.loader.loadRes(\"project\", cc.Asset, function (err, asset) {\n            this._manifestUrl = asset;\n            console.log(\"loaded this._manifestUrl:\", this._manifestUrl);\n        }.bind(this));\n        if (!cc.sys.isNative) {\n            return;\n        }\n        this._storagePath = ((jsb.fileUtils ? jsb.fileUtils.getWritablePath() : '/') + 'blackjack-remote-asset');\n        console.log('Storage path for remote asset : ' + this._storagePath);\n        this._versionCompareHandle = function (versionA, versionB) {\n            cc.log(\"JS Custom Version Compare: version A is \" + versionA + ', version B is ' + versionB);\n            var vA = versionA.split('.');\n            var vB = versionB.split('.');\n            for (var i = 0; i < vA.length; ++i) {\n                var a = parseInt(vA[i]);\n                var b = parseInt(vB[i] || 0);\n                if (a === b) {\n                    continue;\n                }\n                else {\n                    return a - b;\n                }\n            }\n            if (vB.length > vA.length) {\n                return -1;\n            }\n            else {\n                return 0;\n            }\n        };\n        this._am = new jsb.AssetsManager('', this._storagePath, this._versionCompareHandle);\n        var panel = this.panel;\n        this._am.setVerifyCallback(function (path, asset) {\n            var compressed = asset.compressed;\n            var expectedMD5 = asset.md5;\n            var relativePath = asset.path;\n            var size = asset.size;\n            if (compressed) {\n                panel.info.string = \"Verification passed : \" + relativePath;\n                return true;\n            }\n            else {\n                panel.info.string = \"Verification passed : \" + relativePath + ' (' + expectedMD5 + ')';\n                return true;\n            }\n        });\n        this.panel.info.string = 'Hot update is ready, please check or directly update.';\n        if (cc.sys.os === cc.sys.OS_ANDROID) {\n            this._am.setMaxConcurrentTask(2);\n            this.panel.info.string = \"Max concurrent tasks count have been limited to 2\";\n        }\n        this.panel.fileProgress.progress = 0;\n        this.panel.byteProgress.progress = 0;\n    };\n    HotUpdateHelper.prototype.onDestroy = function () {\n        if (this._updateListener) {\n            this._am.setEventCallback(null);\n            this._updateListener = null;\n        }\n    };\n    HotUpdateHelper._inst = null;\n    return HotUpdateHelper;\n}());\n;\nvar MailItem = (function (_super) {\n    __extends(MailItem, _super);\n    function MailItem() {\n        return _super.call(this) || this;\n    }\n    MailItem.prototype.onConstruct = function () {\n        this._timeText = this.getChild(\"timeText\").asTextField;\n        this._readController = this.getController(\"IsRead\");\n        this._fetchController = this.getController(\"c1\");\n        this._trans = this.getTransition(\"t0\");\n    };\n    MailItem.prototype.setTime = function (value) {\n        this._timeText.text = value;\n    };\n    MailItem.prototype.setRead = function (value) {\n        this._readController.selectedIndex = value ? 1 : 0;\n    };\n    MailItem.prototype.setFetched = function (value) {\n        this._fetchController.selectedIndex = value ? 1 : 0;\n    };\n    MailItem.prototype.playEffect = function (delay) {\n        this.visible = false;\n        this._trans.play(null, 1, delay);\n    };\n    return MailItem;\n}(fgui.GButton));\nvar MailItemPool = (function (_super) {\n    __extends(MailItemPool, _super);\n    function MailItemPool() {\n        var _this = _super.call(this) || this;\n        _this.count = MailItemPool._items.length;\n        return _this;\n    }\n    MailItemPool.prototype.clear = function () {\n    };\n    MailItemPool.prototype.getObject = function (url) {\n        return MailItemPool._withDraw();\n    };\n    MailItemPool.prototype.returnObject = function (obj) {\n        MailItemPool._deposite(obj);\n    };\n    MailItemPool._createItem = function () {\n        var item = fgui.UIPackage.createObject(\"VirtualList\", \"mailItem\", MailItem).asCom;\n        if (this.itemSize == null) {\n            this.itemSize = new cc.Size(item.width, item.height);\n        }\n        this._items.push(item);\n    };\n    MailItemPool.initPool = function () {\n        if (this._items.length > 0)\n            return;\n        for (var i = 0; i < this._initSize; ++i) {\n            Core.FrameExecutor.inst.regist(this._createItem, this);\n        }\n        Core.FrameExecutor.inst.execute();\n    };\n    MailItemPool._withDraw = function () {\n        if (this._items.length <= 0) {\n            return fgui.UIPackage.createObject(\"VirtualList\", \"mailItem\", MailItem).asCom;\n        }\n        else {\n            return this._items.pop();\n        }\n    };\n    MailItemPool._deposite = function (item) {\n        this._items.push(item);\n    };\n    MailItemPool.itemSize = cc.size(100, 200);\n    MailItemPool._items = [];\n    MailItemPool._initSize = 1;\n    return MailItemPool;\n}(fgui.GObjectPool));\nvar Entry = (function () {\n    function Entry() {\n    }\n    Object.defineProperty(Entry, \"inst\", {\n        get: function () {\n            if (this._inst == null) {\n                this._inst = new Entry();\n            }\n            return this._inst;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Entry.prototype.enterMain = function () {\n        WXConfig.inst;\n        Test.inst.run();\n    };\n    Entry._inst = null;\n    return Entry;\n}());\nfunction main() {\n    Entry.inst.enterMain();\n}\nfunction start() {\n}\nfunction update() {\n    fgui.AsyncOperation.updateRunners();\n}\nfunction destroy() {\n}\nfunction _callLaters() {\n    var functionList;\n    var thisList;\n    var argsList;\n    if (egret.$callLaterFunctionList.length > 0) {\n        functionList = egret.$callLaterFunctionList;\n        egret.$callLaterFunctionList = [];\n        thisList = egret.$callLaterThisList;\n        egret.$callLaterThisList = [];\n        argsList = egret.$callLaterArgsList;\n        egret.$callLaterArgsList = [];\n    }\n    if (functionList) {\n        console.log(\"executes callLaters\");\n        var length_1 = functionList.length;\n        for (var i = 0; i < length_1; i++) {\n            var func = functionList[i];\n            if (func != null) {\n                func.apply(thisList[i], argsList[i]);\n            }\n        }\n    }\n}\nif (!window[\"GameLogic\"]) {\n    window[\"GameLogic\"] = {};\n}\nwindow[\"GameLogic\"][\"entry\"] = main;\nwindow[\"GameLogic\"][\"start\"] = start;\nwindow[\"GameLogic\"][\"update\"] = update;\nwindow[\"GameLogic\"][\"destroy\"] = destroy;\nvar Test = (function () {\n    function Test() {\n    }\n    Object.defineProperty(Test, \"inst\", {\n        get: function () {\n            if (this._inst == null) {\n                this._inst = new Test();\n            }\n            return this._inst;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Test.prototype.run = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var btn;\n            return __generator(this, function (_a) {\n                console.log(\"run start\");\n                window[\"timerTestJSCallBck\"] = Test.timerTestJSCallBck;\n                cc.dynamicAtlasManager.enabled = false;\n                cc.debug.setDisplayStats(false);\n                this.testHotUpdate();\n                btn = cc.find(\"Canvas/close\");\n                if (btn) {\n                    btn.on(cc.Node.EventType.TOUCH_END, function () {\n                        cc.game.end();\n                    });\n                }\n                return [2];\n            });\n        });\n    };\n    Test.prototype.test1 = function () {\n        cc.loader.loadRes('card_m/204', cc.SpriteFrame, function (err, spriteFrame) {\n            if (err) {\n                cc.error(err.message || err);\n                return;\n            }\n            var sprite = cc.find(\"Canvas/sprite\").addComponent(cc.Sprite);\n            sprite.spriteFrame = spriteFrame;\n        });\n    };\n    Test.prototype.test2 = function () {\n        cc.loader.loadRes('card_m/204', cc.SpriteFrame, function (err, spriteFrame) {\n            if (err) {\n                cc.error(err.message || err);\n                return;\n            }\n            var rootNode = cc.find(\"Canvas/Root\");\n            var sprite = rootNode.addComponent(cc.Sprite);\n            sprite.spriteFrame = spriteFrame;\n        });\n    };\n    Test.prototype.test3 = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var xmlReq;\n            return __generator(this, function (_a) {\n                xmlReq = cc.loader.getXMLHttpRequest();\n                xmlReq.open(\"GET\", \"https://fshunj.oss-cn-guangzhou.aliyuncs.com/json/app.json\");\n                xmlReq.responseType = \"text\";\n                xmlReq.setRequestHeader(\"Content-Type\", \"application/x-www-form-urlencoded\");\n                xmlReq.onreadystatechange = function () {\n                    if (xmlReq.readyState == 4) {\n                        var errcode = 0;\n                        if (xmlReq.status >= 200 && xmlReq.status <= 304) {\n                            var response = JSON.parse(xmlReq.responseText);\n                            console.log(\"json issss\", response);\n                            var code = response[\"code\"];\n                            if (code == 0) {\n                            }\n                        }\n                        else {\n                            errcode = 9000;\n                        }\n                        console.log(\"_checkVersion request error status: \", xmlReq.status);\n                    }\n                };\n                xmlReq.onload = function () {\n                };\n                xmlReq.ontimeout = function () {\n                };\n                xmlReq.onerror = function () {\n                };\n                xmlReq.send();\n                return [2];\n            });\n        });\n    };\n    Test.prototype.test4 = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                console.log(\"jsb.fileUtils.getSearchPaths():\", jsb.fileUtils.getSearchPaths());\n                console.log(\"jsb.fileUtils.getWritablePath()):\", jsb.fileUtils.getWritablePath());\n                return [2];\n            });\n        });\n    };\n    Test.prototype.testHotUpdate = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var checkUpdateBtn, updateBtn, loadbtn;\n            return __generator(this, function (_a) {\n                console.log(\"testHotUpdate start\");\n                HotUpdateHelper.inst.init();\n                checkUpdateBtn = cc.find(\"Canvas/update_panel/check_btn\");\n                updateBtn = cc.find(\"Canvas/update_panel/update_btn\");\n                loadbtn = cc.find(\"Canvas/update_panel/load_btn\");\n                checkUpdateBtn.on(cc.Node.EventType.TOUCH_END, function () {\n                    HotUpdateHelper.inst.checkUpdate();\n                });\n                updateBtn.on(cc.Node.EventType.TOUCH_END, function () {\n                    HotUpdateHelper.inst.hotUpdate();\n                });\n                loadbtn.on(cc.Node.EventType.TOUCH_END, function () {\n                    cc.loader.loadRes('card_m/204', cc.SpriteFrame, function (err, spriteFrame) {\n                        if (err) {\n                            cc.error(err.message || err);\n                            return;\n                        }\n                        var sprite = cc.find(\"Canvas/update_panel/spr\").getComponent(cc.Sprite);\n                        sprite.spriteFrame = spriteFrame;\n                    });\n                });\n                return [2];\n            });\n        });\n    };\n    Test.prototype.test6 = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var testBtn;\n            return __generator(this, function (_a) {\n                console.log(\"test6 start\");\n                testBtn = cc.find(\"Canvas/Root/testBtn\");\n                testBtn.on(cc.Node.EventType.TOUCH_END, function () {\n                    if (Core.DeviceUtils.isAndroid()) {\n                        console.log(\"call Android!!!\");\n                        jsb.reflection.callStaticMethod(\"org/cocos2dx/javascript/AppActivity\", \"showAd\", \"(Ljava/lang/String;)V\", \"测试\");\n                        console.log(\"after call Android!!!\");\n                    }\n                }, this);\n                return [2];\n            });\n        });\n    };\n    Test.prototype.test100 = function () {\n        jsb.reflection.callStaticMethod(\"AppController\", \"oneHundred\");\n    };\n    Test.prototype.test200 = function () {\n        var result = jsb.reflection.callStaticMethod(\"AppController\", \"twoHundred\");\n        console.log(\"result is \", result);\n    };\n    Test.prototype.test300 = function () {\n        var result = \"\", adId = \"cocos10086\", age = 18;\n        result = jsb.reflection.callStaticMethod(\"AppController\", \"threeHundred:withContent:\", adId, age);\n        console.log(\"返回值\", result);\n    };\n    Test.prototype.test400 = function () {\n        var result = \"\", adId = \"cocos10086\", age = 18;\n        jsb.reflection.callStaticMethod(\"AppController\", \"fourHundred:withContent:\", adId, age);\n        console.log(\"无 返回值\");\n    };\n    Test.prototype.test500 = function () {\n        var result = \"\", sec = 1;\n        result = jsb.reflection.callStaticMethod(\"AppController\", \"fiveHundred:\", sec);\n        console.log(\"返回值\", result);\n    };\n    Test.timerTestJSCallBck = function (param) {\n        console.log(\"js 收到：\", param);\n    };\n    Test.prototype.testShowRewardVedio = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var testBtn;\n            return __generator(this, function (_a) {\n                testBtn = cc.find(\"Canvas/Root/testBtn\");\n                testBtn.on(cc.Node.EventType.TOUCH_END, function () {\n                    if (Core.DeviceUtils.isAndroid()) {\n                        console.log(\"call Android!!!\");\n                        jsb.reflection.callStaticMethod(\"org/cocos2dx/javascript/AppActivity\", \"showRewardVideoAd\", \"(Ljava/lang/String;)V\", \"ff\");\n                        console.log(\"after call Android!!!\");\n                    }\n                }, this);\n                return [2];\n            });\n        });\n    };\n    Test.prototype.testInsertAd = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var testBtn;\n            return __generator(this, function (_a) {\n                testBtn = cc.find(\"Canvas/Root/testBtn\");\n                testBtn.on(cc.Node.EventType.TOUCH_END, function () {\n                    if (Core.DeviceUtils.isAndroid()) {\n                        console.log(\"call Android!!!\");\n                        jsb.reflection.callStaticMethod(\"org/cocos2dx/javascript/AppActivity\", \"showInsertAd\", \"(Ljava/lang/String;)V\", \"ff\");\n                        console.log(\"after call Android!!!\");\n                    }\n                }, this);\n                return [2];\n            });\n        });\n    };\n    Test.prototype.testBanner = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var testBtn;\n            return __generator(this, function (_a) {\n                testBtn = cc.find(\"Canvas/Root/testBtn\");\n                testBtn.on(cc.Node.EventType.TOUCH_END, function () {\n                    if (Core.DeviceUtils.isAndroid()) {\n                        console.log(\"call Android!!!\");\n                        jsb.reflection.callStaticMethod(\"org/cocos2dx/javascript/AppActivity\", \"initBannerAd\", \"(Ljava/lang/String;)V\", \"ff\");\n                        console.log(\"after call Android!!!\");\n                    }\n                }, this);\n                return [2];\n            });\n        });\n    };\n    Test.prototype.test8 = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var testBtn;\n            return __generator(this, function (_a) {\n                cc.director.loadScene(\"SDKScene\");\n                console.log(\"test8 start\");\n                testBtn = cc.find(\"Canvas/Root/btn_Splash\");\n                testBtn.on(cc.Node.EventType.TOUCH_END, function () {\n                    jsb.reflection.callStaticMethod(\"AppController\", \"showSplashAd\");\n                }, this);\n                testBtn = cc.find(\"Canvas/Root/btn_rewardVideo\");\n                testBtn.on(cc.Node.EventType.TOUCH_END, function () {\n                    jsb.reflection.callStaticMethod(\"AppController\", \"showRewardAd\");\n                }, this);\n                testBtn = cc.find(\"Canvas/Root/btn_quanPing\");\n                testBtn.on(cc.Node.EventType.TOUCH_END, function () {\n                    jsb.reflection.callStaticMethod(\"AppController\", \"showQuanPingAd\");\n                }, this);\n                return [2];\n            });\n        });\n    };\n    Test.prototype.testRes1 = function () {\n        cc.loader.loadRes('card_m/205', cc.SpriteFrame, function (err, spriteFrame) {\n            if (err) {\n                cc.error(err.message || err);\n                return;\n            }\n            var s1 = cc.find(\"Canvas/Root/s1\");\n            var sprite = s1.addComponent(cc.Sprite);\n            sprite.spriteFrame = spriteFrame;\n        });\n        cc.loader.loadRes('card_m/205', cc.SpriteFrame, function (err, spriteFrame) {\n            if (err) {\n                cc.error(err.message || err);\n                return;\n            }\n            var s2 = cc.find(\"Canvas/Root/s2\");\n            var sprite = s2.addComponent(cc.Sprite);\n            sprite.spriteFrame = spriteFrame;\n        });\n        var buttonNode = cc.find(\"Canvas/Root/testBtn\");\n        buttonNode.on(cc.Node.EventType.TOUCH_END, function () {\n            var sprite = cc.find(\"Canvas/Root/s1\").getComponent(cc.Sprite);\n            cc.loader.release(sprite.spriteFrame.getTexture());\n        });\n    };\n    Test.prototype.testMat = function () {\n        console.log(new cc.Mat4(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1).toString());\n    };\n    Test.prototype.testSpriteMat = function () {\n        var spriteNode = cc.find(\"Canvas/sprite\");\n        var spriteNode2 = cc.find(\"Canvas/sprite\");\n    };\n    Test._inst = null;\n    return Test;\n}());\nvar WarFlagMgr = (function (_super) {\n    __extends(WarFlagMgr, _super);\n    function WarFlagMgr() {\n        return _super.call(this) || this;\n    }\n    WarFlagMgr_1 = WarFlagMgr;\n    Object.defineProperty(WarFlagMgr, \"inst\", {\n        get: function () {\n            if (!WarFlagMgr_1._inst) {\n                WarFlagMgr_1._inst = new WarFlagMgr_1();\n            }\n            return WarFlagMgr_1._inst;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    WarFlagMgr.prototype.init = function () {\n    };\n    Object.defineProperty(WarFlagMgr.prototype, \"openWarHomeFinished\", {\n        get: function () { return false; },\n        set: function (val) { this._openWarHomeFinished = val; },\n        enumerable: false,\n        configurable: true\n    });\n    ;\n    ;\n    var WarFlagMgr_1;\n    WarFlagMgr = WarFlagMgr_1 = __decorate([\n        MVC.autoModelName\n    ], WarFlagMgr);\n    return WarFlagMgr;\n}(MVC.Model));\nvar Core;\n(function (Core) {\n    var BaseView = (function (_super) {\n        __extends(BaseView, _super);\n        function BaseView(parent) {\n            var _this = _super.call(this) || this;\n            _this._concertBackKey = true;\n            _this.forceCloseFlag = false;\n            if (parent) {\n                _this._myParent = parent;\n            }\n            else {\n                _this._myParent = fgui.GRoot.inst;\n            }\n            _this._isInit = false;\n            _this._viewCommon = new Core.ViewCommon(_this);\n            return _this;\n        }\n        BaseView.prototype.handleBackKey = function () {\n            var backBtnChild = this.getChild(\"closeBtn\");\n            if (!backBtnChild) {\n                backBtnChild = this.getChild(\"backBtn\");\n            }\n            if (backBtnChild) {\n                var backBtn = backBtnChild.asButton;\n                backBtn.fireClick();\n                return true;\n            }\n            else {\n                return false;\n            }\n        };\n        Object.defineProperty(BaseView.prototype, \"isConcernBackKey\", {\n            get: function () {\n                return this._concertBackKey;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        BaseView.prototype.adjust = function (display, adjustType) {\n            if (adjustType === void 0) { adjustType = Core.AdjustType.EXACT_FIT; }\n            if (adjustType == Core.AdjustType.EXCEPT_MARGIN) {\n                this._viewCommon.adjust(display, Core.AdjustType.EXACT_FIT);\n                display.height -= window.support.topMargin;\n            }\n            else {\n                this._viewCommon.adjust(display, adjustType);\n            }\n        };\n        BaseView.prototype.setVisible = function (flag) {\n            this.hidden = !flag;\n            console.log(\"set hidden \", this.name, this.hidden);\n        };\n        BaseView.prototype.isInit = function () {\n            return this._isInit;\n        };\n        BaseView.prototype.isShow = function () {\n            return this.parent != null && this.visible;\n        };\n        BaseView.prototype.addToParent = function (parent) {\n            if (parent) {\n                this._myParent = parent;\n            }\n            if (this.parent != this._myParent) {\n                this._myParent.addChild(this);\n            }\n        };\n        BaseView.prototype.removeFromParent = function () {\n            if (this.parent) {\n                this.parent.removeChild(this);\n            }\n        };\n        BaseView.prototype.initUI = function () {\n            this._isInit = true;\n        };\n        BaseView.prototype.open = function () {\n            var param = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                param[_i] = arguments[_i];\n            }\n            return __awaiter(this, void 0, void 0, function () {\n                return __generator(this, function (_a) {\n                    Core.EventCenter.inst.dispatchEventWith(GameEvent.OpenView, false, this);\n                    Core.EventCenter.inst.addEventListener(Core.Event.OpenViewEvt, this._onViewOpen, this);\n                    Core.EventCenter.inst.addEventListener(Core.Event.CloseViewEvt, this._onViewClose, this);\n                    return [2];\n                });\n            });\n        };\n        BaseView.prototype.close = function () {\n            var param = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                param[_i] = arguments[_i];\n            }\n            return __awaiter(this, void 0, void 0, function () {\n                return __generator(this, function (_a) {\n                    return [2];\n                });\n            });\n        };\n        BaseView.prototype._onViewOpen = function (evt) {\n            var name = evt.data;\n        };\n        BaseView.prototype._onViewClose = function (evt) {\n            var name = evt.data;\n        };\n        BaseView.prototype.toTopLayer = function () {\n            Core.LayerManager.inst.topLayer.addChild(this);\n        };\n        BaseView.prototype.toMainLayer = function () {\n            Core.LayerManager.inst.mainLayer.addChild(this);\n        };\n        BaseView.prototype.destroy = function () {\n            this.dispose();\n        };\n        BaseView.prototype.dispose = function () {\n            Core.EventCenter.inst.removeEventListener(Core.Event.OpenViewEvt, this._onViewOpen, this);\n            Core.EventCenter.inst.removeEventListener(Core.Event.CloseViewEvt, this._onViewClose, this);\n            this._myParent = null;\n            this._viewCommon.destroy();\n            _super.prototype.dispose.call(this);\n        };\n        BaseView.prototype.getNode = function (nodeName) {\n            return __awaiter(this, void 0, void 0, function () {\n                return __generator(this, function (_a) {\n                    return [2, this._viewCommon.getNode(nodeName)];\n                });\n            });\n        };\n        BaseView.prototype.destroyWhileClose = function () {\n            return true;\n        };\n        return BaseView;\n    }(fgui.GComponent));\n    Core.BaseView = BaseView;\n})(Core || (Core = {}));\nvar WarHomeView = (function (_super) {\n    __extends(WarHomeView, _super);\n    function WarHomeView() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ;\n    WarHomeView.open = function () {\n        Core.ViewManager.inst.open(\"warHomeView\");\n    };\n    WarHomeView.close = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4, Core.ViewManager.inst.close(\"warHomeView\")];\n                    case 1:\n                        _a.sent();\n                        return [2];\n                }\n            });\n        });\n    };\n    WarHomeView.prototype.initUI = function () {\n        _super.prototype.initUI.call(this);\n        this.adjust(this.getChild(\"bg\"));\n        this.getChild(\"top\").height += window.support.topMargin;\n        this.center();\n    };\n    WarHomeView.prototype._openWarHomeFinished = function () {\n        console.log(\"_openWarHomeFinished called\");\n    };\n    WarHomeView.prototype.refreshUI = function () {\n    };\n    Object.defineProperty(WarHomeView, \"inst\", {\n        get: function () { return this._inst; },\n        enumerable: false,\n        configurable: true\n    });\n    ;\n    WarHomeView.prototype.open = function () {\n        var param = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            param[_i] = arguments[_i];\n        }\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4, _super.prototype.open.apply(this, param)];\n                    case 1:\n                        _a.sent();\n                        this.refreshUI();\n                        MVC.Controller.inst.bind(WarFlagMgr.inst, this);\n                        return [2];\n                }\n            });\n        });\n    };\n    WarHomeView.prototype.close = function () {\n        var param = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            param[_i] = arguments[_i];\n        }\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        MVC.Controller.inst.unbind(WarFlagMgr.inst, this);\n                        WarHomeView._inst = null;\n                        return [4, _super.prototype.close.apply(this, param)];\n                    case 1:\n                        _a.sent();\n                        return [2];\n                }\n            });\n        });\n    };\n    __decorate([\n        MVC.observe(WarFlagMgr, \"openWarHomeFinished\")\n    ], WarHomeView.prototype, \"_openWarHomeFinished\", null);\n    return WarHomeView;\n}(Core.BaseView));\nvar TestFgui = (function () {\n    function TestFgui() {\n    }\n    Object.defineProperty(TestFgui, \"inst\", {\n        get: function () {\n            if (this._inst == null) {\n                this._inst = new TestFgui();\n            }\n            return this._inst;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    TestFgui.prototype.run = function () {\n        var _this = this;\n        console.log(\"TestFgui start\");\n        CCCExtend.init();\n        fgui.addLoadHandler();\n        fgui.GRoot.create();\n        fgui.UIPackage.loadPackage(\"UI/common\", true, function () {\n            console.log(\"common loaded\");\n            _this.test_view();\n        });\n    };\n    TestFgui.prototype.test1 = function () {\n        fgui.UIPackage.loadPackage(\"UI/Basics\", true, function () {\n            var view = fgui.UIPackage.createObject(\"Basics\", \"com\").asCom;\n            fgui.GRoot.inst.addChild(view);\n            var scene = cc.director.getScene();\n        });\n    };\n    TestFgui.prototype.testTouch = function () {\n        var _this = this;\n        fgui.UIPackage.loadPackage(\"UI/Basics\", true, function () {\n            var view = fgui.UIPackage.createObject(\"Basics\", \"com\").asCom;\n            fgui.GRoot.inst.addChild(view);\n            var bro1 = view.getChild(\"bro1\").asCom;\n            bro1.onClick(function () {\n                console.log(\"bro1.onClick\");\n            }, _this);\n            var bro2 = view.getChild(\"bro2\").asCom;\n            bro2.onClick(function () {\n                console.log(\"bro2.onClick\");\n            }, _this);\n        });\n    };\n    TestFgui.prototype.testNormalList = function () {\n        console.log(\"testNormalList\");\n        fgui.UIPackage.loadPackage(\"UI/ListEffect\", true, function () {\n            fgui.UIObjectFactory.setExtension(\"ui://ListEffect/mailItem\", MailItem);\n            var view = fgui.UIPackage.createObject(\"ListEffect\", \"Main\").asCom;\n            view.setSize(fgui.GRoot.inst.width, fgui.GRoot.inst.height);\n            fgui.GRoot.inst.addChild(view);\n            var list = view.getChild(\"mailList\").asList;\n            for (var i = 0; i < 1000; i++) {\n                var item = list.addItemFromPool();\n                item.setFetched(i % 3 == 0);\n                item.setRead(i % 2 == 0);\n                item.setTime(\"5 Nov 2015 16:24:33\");\n                item.title = \"Mail title here\";\n            }\n            list.ensureBoundsCorrect();\n            var delay = 0;\n            for (var i = 0; i < 10; i++) {\n                var item = list.getChildAt(i);\n                if (list.isChildInView(item)) {\n                    item.playEffect(delay);\n                    delay += 0.2;\n                }\n                else\n                    break;\n            }\n        });\n    };\n    TestFgui.prototype._renderListItem = function (index, obj) {\n        var item = obj;\n        item.setFetched(index % 3 == 0);\n        item.setRead(index % 2 == 0);\n        item.setTime(\"5 Nov 2015 16:24:33\");\n        item.title = index + \" Mail title here\";\n    };\n    TestFgui.prototype.testVirtualList = function () {\n        var _this = this;\n        console.log(\"testVirtualList\");\n        fgui.UIPackage.loadPackage(\"UI/VirtualList\", true, function () {\n            fgui.UIObjectFactory.setExtension(\"ui://VirtualList/mailItem\", MailItem);\n            var view = fgui.UIPackage.createObject(\"VirtualList\", \"Main\").asCom;\n            view.makeFullScreen();\n            fgui.GRoot.inst.addChild(view);\n            view.getChild(\"n6\").onClick(function () { list.addSelection(500, true); }, _this);\n            view.getChild(\"n7\").onClick(function () { list.scrollPane.scrollTop(); }, _this);\n            view.getChild(\"n8\").onClick(function () { list.scrollPane.scrollBottom(); }, _this);\n            var list = view.getChild(\"mailList\").asList;\n            var com = list.scrollPane._container;\n            com[\"__enableLevelRender\"] = true;\n            list.setVirtual();\n            list.itemRenderer = _this._renderListItem.bind(_this);\n            list.numItems = 1000;\n        });\n    };\n    TestFgui.prototype._renderItemList = function (index, obj) {\n        var item = obj;\n        item.setFetched(index % 3 == 0);\n        item.setRead(index % 2 == 0);\n        item.setTime(\"5 Nov 2015 16:24:33\");\n        item.title = index + \" Mail title here\";\n        console.log(\"herer\");\n    };\n    TestFgui.prototype.test_UI_VirtualList = function () {\n        var _this = this;\n        fgui.UIPackage.loadPackage(\"UI/VirtualList\", true, function () {\n            var view = fgui.UIPackage.createObject(\"VirtualList\", \"simpleCom\").asCom;\n            fgui.GRoot.inst.addChild(view);\n            var listHolder = view.getChild(\"loader\").asLoader;\n            var vlist = new UI.VirtualList(view, listHolder);\n            console.log(\"ddd\");\n            var com = vlist.displayListContainer.getChildByName(\"GComponent\");\n            var con = com.getChildByName(\"Container\");\n            con[\"__enableLevelRender\"] = true;\n            vlist.conf = {\n                col: 1,\n                rowGap: 1,\n                itemSize: MailItemPool.itemSize,\n                itemClass: MailItem,\n                itemPool: new MailItemPool(),\n                itemRenderer: _this._renderItemList.bind(_this)\n            };\n            vlist.numItems = 1000;\n        });\n    };\n    TestFgui.prototype.test_view = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        UI.registerPackage(\"war\", this.loadEvent, this.unloadEvent);\n                        Core.ViewManager.inst.registerUIView(\"war\", \"warHomeView\", WarHomeView);\n                        return [4, UI.loadPackage(\"war\")];\n                    case 1:\n                        _a.sent();\n                        Core.ViewManager.inst.open(\"warHomeView\");\n                        WarFlagMgr.inst.openWarHomeFinished = true;\n                        return [2];\n                }\n            });\n        });\n    };\n    TestFgui.prototype.loadEvent = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        console.log(\"loadEvent is called\");\n                        return [4, RES.loadPackage(\"UI/war\", true, true)];\n                    case 1:\n                        _a.sent();\n                        return [2];\n                }\n            });\n        });\n    };\n    TestFgui.prototype.unloadEvent = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                console.log(\"unloadEvent is called\");\n                RES.unloadPackage(\"UI/war\");\n                return [2];\n            });\n        });\n    };\n    TestFgui._inst = null;\n    return TestFgui;\n}());\nvar TestFont = (function () {\n    function TestFont() {\n    }\n    Object.defineProperty(TestFont, \"inst\", {\n        get: function () {\n            if (this._inst == null) {\n                this._inst = new TestFont();\n            }\n            return this._inst;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    TestFont.prototype.run = function () {\n        console.log(\"TestFont..\");\n    };\n    TestFont.prototype.test1 = function () {\n    };\n    TestFont._inst = null;\n    return TestFont;\n}());\nvar TestJsb = (function () {\n    function TestJsb() {\n    }\n    Object.defineProperty(TestJsb, \"inst\", {\n        get: function () {\n            if (this._inst == null) {\n                this._inst = new TestJsb();\n            }\n            return this._inst;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    TestJsb.prototype.run = function () {\n        console.log(\"TestJsb..\");\n        this.test4();\n    };\n    TestJsb.prototype.test1 = function () {\n        if (typeof jsb === 'undefined')\n            return;\n        var ns = window[\"ns\"];\n        if (typeof ns !== 'undefined' && ns.TestJsb) {\n            var jsbTestObj = new ns.TestJsb();\n            console.log('jsbTestObj is ', jsbTestObj);\n            jsbTestObj.console(\"hello my baby\");\n            console.log('name is ', jsbTestObj.name);\n            jsbTestObj.name = \"lck\";\n            console.log('After set name,name is ', jsbTestObj.name);\n            console.log('age is ', jsbTestObj.age);\n            console.log('id is ', jsbTestObj.id);\n            if (ns.TestJsb.goHome) {\n                ns.TestJsb.goHome();\n            }\n            if (ns.TestJsb.age) {\n                console.log(ns.TestJsb.age);\n            }\n        }\n        else {\n            console.log('testJsb is not founded');\n            console.log('ns is ', ns);\n        }\n    };\n    TestJsb.prototype.test2 = function () {\n        if (Core.DeviceUtils.isNative())\n            cc.loader.loadRes('card_m/204', cc.SpriteFrame, function (err, spriteFrame) {\n                if (err) {\n                    cc.error(err.message || err);\n                    return;\n                }\n                var rootNode = cc.find(\"Canvas/Root\");\n                var sprite = rootNode.addComponent(cc.Sprite);\n                sprite.spriteFrame = spriteFrame;\n            });\n    };\n    TestJsb.prototype.test3 = function () {\n        var img = new Image();\n        img.src = \"https://fshunj.oss-cn-guangzhou.aliyuncs.com/MiniGameRes/LatestVer/res/raw-assets/19/19129252-4633-4b80-8afc-1e7a41add2a9.png\";\n        img.onload = function (info) {\n            console.log(\"info is \", info);\n        };\n    };\n    TestJsb.prototype.test4 = function () {\n        cc.loader.loadRes('card_m/204', cc.SpriteFrame, function (err, spriteFrame) {\n            if (err) {\n                cc.error(err.message || err);\n                return;\n            }\n            var node = new cc.Node(\"newNode\");\n            cc.find(\"Canvas\").addChild(node);\n            var sprite = node.addComponent(cc.Sprite);\n            sprite.spriteFrame = spriteFrame;\n        });\n    };\n    TestJsb._inst = null;\n    return TestJsb;\n}());\nvar TestPromise = (function () {\n    function TestPromise() {\n    }\n    Object.defineProperty(TestPromise, \"inst\", {\n        get: function () {\n            if (this._inst == null) {\n                this._inst = new TestPromise();\n            }\n            return this._inst;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    TestPromise.prototype.run = function () {\n        console.log(\"TestPromise..\");\n        this.test7();\n    };\n    TestPromise.prototype.test1 = function () {\n        console.log(\"--------2.1 Promise基本用法-----------\");\n        var resultPromise1 = new Promise(function (resolve, reject) {\n            resolve(\"成功了\");\n        });\n        resultPromise1.then(function (res) { return console.log(res); });\n        var resultPromise2 = new Promise(function (resolve, reject) {\n            reject(\"失败了\");\n        });\n        resultPromise2.then(null, function (err) { return console.log(err); });\n        resultPromise2.then(null, null).catch(function (err) { return console.log(err); });\n    };\n    TestPromise.prototype.test2 = function () {\n        var resultPromise1 = new Promise(function (resolve, reject) {\n            while (1) {\n                console.log(\"ff\");\n            }\n        });\n    };\n    TestPromise.prototype.test3 = function () {\n        var resultPromise1 = new Promise(function (resolve, reject) {\n            console.log(\"resultPromise1 completed!\");\n        });\n        resultPromise1.then(function (res) { return console.log(\"then ourput:\" + res); });\n        setInterval(function () {\n            console.log(\"resultPromise1--\", resultPromise1);\n        }, 10);\n    };\n    TestPromise.prototype.test4 = function () {\n        console.log(\"----------3. Promise的三种状态----------\");\n        new Promise(function (resolve, reject) {\n            console.log(\"------------------------\");\n            resolve(11);\n            reject(22);\n        })\n            .then(function (res) {\n            console.log(res);\n        })\n            .catch(function (err) {\n            console.log(err);\n        });\n    };\n    TestPromise.prototype.test5 = function () {\n        console.log(\"-------------- 4.2 传入Promise------------------\");\n        var promiseResult = new Promise(function (resolve, reject) {\n            resolve(new Promise(function (resolve2, reject2) {\n                reject2(\"ypf2\");\n            }));\n        });\n        promiseResult.then(null, function (err) { return console.log(err); });\n    };\n    TestPromise.prototype.test6 = function () {\n        console.log(\"------4.3 传入对象，且对象有实现then方法-----------\");\n        var promiseResult = new Promise(function (resolve, reject) {\n            resolve({\n                then: function (resolve2, reject2) {\n                    reject2(\"ypf3\");\n                },\n            });\n        });\n        promiseResult.then(null, function (err) { return console.log(err); });\n    };\n    TestPromise.prototype.test7 = function () {\n        var p1 = new Promise(function (resolve, reject) {\n            reject(\"PromiseError\");\n        });\n        p1.then(function (res) {\n            console.log(res);\n            return 2;\n        })\n            .then(function (res) {\n            console.log(res);\n            return 3;\n        })\n            .then(function (res) {\n            console.log(res);\n            return 4;\n        })\n            .catch(function (err) { console.log(\"err--\", err); });\n    };\n    TestPromise._inst = null;\n    return TestPromise;\n}());\nvar TestShiPie = (function () {\n    function TestShiPie() {\n    }\n    Object.defineProperty(TestShiPie, \"inst\", {\n        get: function () {\n            if (this._inst == null) {\n                this._inst = new TestShiPie();\n            }\n            return this._inst;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    TestShiPie.prototype.run = function () {\n        console.log(\"TestShiPei..\");\n        var buttonNode = cc.find(\"Canvas/btn\");\n        buttonNode.on(cc.Node.EventType.TOUCH_END, function () {\n            cc.game.restart();\n        });\n    };\n    TestShiPie.prototype.test1 = function () {\n    };\n    TestShiPie._inst = null;\n    return TestShiPie;\n}());\nvar TestTouch = (function () {\n    function TestTouch() {\n    }\n    Object.defineProperty(TestTouch, \"inst\", {\n        get: function () {\n            if (this._inst == null) {\n                this._inst = new TestTouch();\n            }\n            return this._inst;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    TestTouch.prototype.run = function () {\n        console.log(\"TestTouch..\");\n        this.testTouch2();\n    };\n    TestTouch.prototype.testTouch = function () {\n        var parent = cc.find(\"Canvas/parent\");\n        var child = cc.find(\"Canvas/parent/child\");\n        var canvas = cc.find(\"Canvas\");\n        var node = parent;\n        node.on(cc.Node.EventType.TOUCH_START, function (event) {\n            console.log('[Parent]touchStart:', event);\n        }.bind(node));\n        node.on(cc.Node.EventType.TOUCH_MOVE, function (event) {\n            var delta = event.touch.getDelta();\n            console.log('[Parent]touchMove:', event, delta);\n        }.bind(node));\n        node.on(cc.Node.EventType.TOUCH_END, function (event) {\n            var delta = event.touch.getDelta();\n            console.log('[Parent]touchEnd:', event, delta);\n        }.bind(node));\n        node.on(cc.Node.EventType.TOUCH_CANCEL, function (event) {\n            var delta = event.touch.getDelta();\n            console.log('[Parent]touchCancel:', event, delta);\n        }.bind(node));\n        node = child;\n        node.on(cc.Node.EventType.TOUCH_START, function (event) {\n            console.log('[Child]touchStart:', event);\n        }.bind(node));\n        node.on(cc.Node.EventType.TOUCH_MOVE, function (event) {\n            var delta = event.touch.getDelta();\n            console.log('[Child]touchMove:', event, delta);\n        }.bind(node));\n        node.on(cc.Node.EventType.TOUCH_END, function (event) {\n            var delta = event.touch.getDelta();\n            console.log('[Child]touchEnd:', event, delta);\n        }.bind(node));\n        node.on(cc.Node.EventType.TOUCH_CANCEL, function (event) {\n            var delta = event.touch.getDelta();\n            console.log('[Child]touchCancel:', event, delta);\n        }.bind(node));\n        node = canvas;\n        node.on(cc.Node.EventType.TOUCH_START, function (event) {\n            console.log('[canvas]touchStart:', event);\n        }.bind(node));\n        node.on(cc.Node.EventType.TOUCH_MOVE, function (event) {\n            var delta = event.touch.getDelta();\n            console.log('[canvas]touchMove:', event, delta);\n        }.bind(node));\n        node.on(cc.Node.EventType.TOUCH_END, function (event) {\n            var delta = event.touch.getDelta();\n            console.log('[canvas]touchEnd:', event, delta);\n        }.bind(node));\n        node.on(cc.Node.EventType.TOUCH_CANCEL, function (event) {\n            var delta = event.touch.getDelta();\n            console.log('[canvas]touchCancel:', event, delta);\n        }.bind(node));\n    };\n    TestTouch.prototype.testTouch2 = function () {\n        var broRed = cc.find(\"Canvas/broRed\");\n        var broGreen = cc.find(\"Canvas/broGreen\");\n        var canvas = cc.find(\"Canvas\");\n        var node = broRed;\n        node.on(cc.Node.EventType.TOUCH_START, function (event) {\n            console.log('[broRed]touchStart:', event);\n        }.bind(node));\n        node.on(cc.Node.EventType.TOUCH_MOVE, function (event) {\n            var delta = event.touch.getDelta();\n            console.log('[broRed]touchMove:', event, delta);\n        }.bind(node));\n        node.on(cc.Node.EventType.TOUCH_END, function (event) {\n            var delta = event.touch.getDelta();\n            console.log('[broRed]touchEnd:', event, delta);\n        }.bind(node));\n        node.on(cc.Node.EventType.TOUCH_CANCEL, function (event) {\n            var delta = event.touch.getDelta();\n            console.log('[broRed]touchCancel:', event, delta);\n        }.bind(node));\n        node = broGreen;\n        node.on(cc.Node.EventType.TOUCH_START, function (event) {\n            console.log('[broGreen]touchStart:', event);\n        }.bind(node));\n        node.on(cc.Node.EventType.TOUCH_MOVE, function (event) {\n            var delta = event.touch.getDelta();\n            console.log('[broGreen]touchMove:', event, delta);\n        }.bind(node));\n        node.on(cc.Node.EventType.TOUCH_END, function (event) {\n            var delta = event.touch.getDelta();\n            console.log('[broGreen]touchEnd:', event, delta);\n        }.bind(node));\n        node.on(cc.Node.EventType.TOUCH_CANCEL, function (event) {\n            var delta = event.touch.getDelta();\n            console.log('[broGreen]touchCancel:', event, delta);\n        }.bind(node));\n        node = canvas;\n        node.on(cc.Node.EventType.TOUCH_START, function (event) {\n            console.log('[canvas]touchStart:', event);\n        }.bind(node));\n        node.on(cc.Node.EventType.TOUCH_MOVE, function (event) {\n            var delta = event.touch.getDelta();\n            console.log('[canvas]touchMove:', event, delta);\n        }.bind(node));\n        node.on(cc.Node.EventType.TOUCH_END, function (event) {\n            var delta = event.touch.getDelta();\n            console.log('[canvas]touchEnd:', event, delta);\n        }.bind(node));\n        node.on(cc.Node.EventType.TOUCH_CANCEL, function (event) {\n            var delta = event.touch.getDelta();\n            console.log('[canvas]touchCancel:', event, delta);\n        }.bind(node));\n    };\n    TestTouch._inst = null;\n    return TestTouch;\n}());\nvar UI;\n(function (UI) {\n    var CloseBg = (function (_super) {\n        __extends(CloseBg, _super);\n        function CloseBg() {\n            var _this = _super !== null && _super.apply(this, arguments) || this;\n            _this._callback = null;\n            return _this;\n        }\n        Object.defineProperty(CloseBg.prototype, \"triggerClose\", {\n            get: function () { return this._triggerClose; },\n            set: function (val) { this._triggerClose = val; },\n            enumerable: false,\n            configurable: true\n        });\n        ;\n        ;\n        CloseBg.prototype.onConstruct = function () {\n            _super.prototype.onConstruct.call(this);\n            this.onClick(this._onClick, this);\n        };\n        CloseBg.prototype._getWindowParent = function () {\n            var parent = this.parent;\n            if (parent instanceof fgui.Window) {\n                return parent;\n            }\n            else {\n                return parent._parent;\n            }\n        };\n        CloseBg.prototype._onClick = function () {\n            return __awaiter(this, void 0, void 0, function () {\n                var parent_1, view;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            if (!this._callback) return [3, 1];\n                            this._callback();\n                            return [3, 3];\n                        case 1:\n                            parent_1 = this._getWindowParent();\n                            if (!(parent_1 && this._triggerClose)) return [3, 3];\n                            view = parent_1.asCom;\n                            if (!view) return [3, 3];\n                            return [4, Core.ViewManager.inst.close(view.name)];\n                        case 2:\n                            _a.sent();\n                            _a.label = 3;\n                        case 3: return [2];\n                    }\n                });\n            });\n        };\n        CloseBg.prototype.registerOtherClickMethod = function (callback) {\n            this._callback = callback;\n        };\n        CloseBg.prototype.unregisterOtherClickMethod = function () {\n            this._callback = null;\n        };\n        CloseBg.prototype.setup_afterAdd = function (buffer, beginPos) {\n            if (this.data) {\n                var str = (this.data).toString();\n                this._triggerClose = str == \"true\" ? true : false;\n            }\n            _super.prototype.setup_afterAdd.call(this, buffer, beginPos);\n            this.addRelation(this.parent, fgui.RelationType.Center_Center);\n            this.addRelation(this.parent, fgui.RelationType.Middle_Middle);\n        };\n        CloseBg.prototype.dispose = function () {\n            if (this._callback) {\n                this._callback = null;\n            }\n            _super.prototype.dispose.call(this);\n        };\n        return CloseBg;\n    }(fgui.GComponent));\n    UI.CloseBg = CloseBg;\n})(UI || (UI = {}));\nvar Core;\n(function (Core) {\n    var BaseWindow = (function (_super) {\n        __extends(BaseWindow, _super);\n        function BaseWindow() {\n            var _this = _super.call(this) || this;\n            _this._concertBackKey = true;\n            _this._closeOnViewOpen = true;\n            _this._needGaussMaskWhenModal = true;\n            _this._gaussMaskBrightness = -1;\n            _this.forceCloseFlag = false;\n            _this.__closeBg = null;\n            _this._viewCommon = new Core.ViewCommon(_this);\n            return _this;\n        }\n        BaseWindow.prototype.enableTouchClose = function () {\n            if (!this.__closeBg && !this.contentPane.getChild(\"closeBg\")) {\n                this.__closeBg = fgui.UIPackage.createObject(\"common\", \"closeBg\", UI.CloseBg).asCom;\n                var idx = 0;\n                if (this.contentPane.getChild(\"bg\")) {\n                    idx = 1;\n                }\n                this.contentPane.addChildAt(this.__closeBg, idx);\n                this.__closeBg.triggerClose = true;\n                this.adjust(this.__closeBg);\n            }\n        };\n        BaseWindow.prototype.handleBackKey = function () {\n            var backBtnChild = null;\n            if (this.contentPane) {\n                backBtnChild = this.contentPane.getChild(\"closeBtn\");\n                if (!backBtnChild) {\n                    backBtnChild = this.contentPane.getChild(\"backBtn\");\n                }\n            }\n            else {\n                backBtnChild = this.getChild(\"closeBtn\");\n                if (!backBtnChild) {\n                    backBtnChild = this.getChild(\"backBtn\");\n                }\n            }\n            if (backBtnChild) {\n                backBtnChild.asButton.fireClick();\n                return true;\n            }\n            else {\n                return false;\n            }\n        };\n        Object.defineProperty(BaseWindow.prototype, \"isConcernBackKey\", {\n            get: function () {\n                return this._concertBackKey;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(BaseWindow.prototype, \"closeOnViewOpen\", {\n            get: function () {\n                return this._closeOnViewOpen;\n            },\n            set: function (b) {\n                this._closeOnViewOpen = b;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        BaseWindow.prototype.setVisible = function (flag) {\n            this.hidden = !flag;\n        };\n        BaseWindow.prototype.adjust = function (display, adjustType) {\n            if (adjustType === void 0) { adjustType = Core.AdjustType.EXACT_FIT; }\n            if (adjustType == Core.AdjustType.EXCEPT_MARGIN) {\n                this._viewCommon.adjust(display, Core.AdjustType.EXACT_FIT);\n                display.height -= window.support.topMargin;\n            }\n            else {\n                this._viewCommon.adjust(display, adjustType);\n            }\n        };\n        BaseWindow.prototype.isInit = function () {\n            return this._isInit;\n        };\n        BaseWindow.prototype.isShow = function () {\n            return this.parent != null && this.visible && !this.hidden;\n        };\n        BaseWindow.prototype.addToParent = function () {\n        };\n        BaseWindow.prototype.removeFromParent = function () {\n        };\n        BaseWindow.prototype.battleChangeLayer = function () {\n        };\n        BaseWindow.prototype.toMapLayer = function () {\n            this._myParent = Core.LayerManager.inst.mapLayer;\n        };\n        BaseWindow.prototype.toTopLayer = function () {\n            this._myParent = Core.LayerManager.inst.topLayer;\n        };\n        BaseWindow.prototype.toMaskLayer = function () {\n            this._myParent = Core.LayerManager.inst.maskLayer;\n        };\n        BaseWindow.prototype.toMainLayer = function () {\n            this._myParent = Core.LayerManager.inst.mainLayer;\n        };\n        BaseWindow.prototype.toWindowLayer = function () {\n            this._myParent = Core.LayerManager.inst.windowLayer;\n        };\n        BaseWindow.prototype.initUI = function () {\n            this._isInit = true;\n            Core.EventCenter.inst.addEventListener(GameEvent.OpenView, this._onViewOpen, this);\n            var content = null;\n            if (this.contentPane) {\n                content = this.contentPane;\n            }\n            else {\n                content = this;\n            }\n            var closeBgCom = content.getChild(\"closeBg\");\n            if (closeBgCom && closeBgCom instanceof UI.CloseBg) {\n                this.adjust(closeBgCom);\n            }\n        };\n        BaseWindow.prototype.open = function () {\n            var param = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                param[_i] = arguments[_i];\n            }\n            return __awaiter(this, void 0, void 0, function () {\n                return __generator(this, function (_a) {\n                    if (this._myParent) {\n                        this._myParent.showWindow(this);\n                    }\n                    else {\n                        Core.LayerManager.inst.windowLayer.showWindow(this);\n                    }\n                    return [2];\n                });\n            });\n        };\n        BaseWindow.prototype.close = function () {\n            var param = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                param[_i] = arguments[_i];\n            }\n            return __awaiter(this, void 0, void 0, function () {\n                return __generator(this, function (_a) {\n                    if (this._myParent) {\n                        this._myParent.hideWindow(this, this.destroyWhileClose());\n                    }\n                    else {\n                        Core.LayerManager.inst.windowLayer.hideWindow(this, this.destroyWhileClose());\n                    }\n                    if (this.__closeBg) {\n                        this.__closeBg.removeFromParent();\n                        this.__closeBg.dispose();\n                    }\n                    return [2];\n                });\n            });\n        };\n        BaseWindow.prototype.requestFocus = function () {\n            _super.prototype.requestFocus.call(this);\n        };\n        BaseWindow.prototype.hide = function (remove) {\n            if (remove === void 0) { remove = true; }\n            _super.prototype.hide.call(this, remove);\n        };\n        BaseWindow.prototype.destroy = function () {\n            this.dispose();\n        };\n        BaseWindow.prototype.dispose = function () {\n            Core.EventCenter.inst.removeEventListener(GameEvent.OpenView, this._onViewOpen, this);\n            this._viewCommon.destroy();\n            _super.prototype.dispose.call(this);\n        };\n        BaseWindow.prototype.getNode = function (nodeName) {\n            return __awaiter(this, void 0, void 0, function () {\n                return __generator(this, function (_a) {\n                    return [2, this._viewCommon.getNode(nodeName)];\n                });\n            });\n        };\n        BaseWindow.prototype.destroyWhileClose = function () {\n            return true;\n        };\n        BaseWindow.prototype._onViewOpen = function (evt) {\n            return __awaiter(this, void 0, void 0, function () {\n                var name;\n                return __generator(this, function (_a) {\n                    name = evt.data.name;\n                    return [2];\n                });\n            });\n        };\n        return BaseWindow;\n    }(fgui.Window));\n    Core.BaseWindow = BaseWindow;\n})(Core || (Core = {}));\nvar Core;\n(function (Core) {\n    var AdjustType;\n    (function (AdjustType) {\n        AdjustType[AdjustType[\"NO_BORDER\"] = 0] = \"NO_BORDER\";\n        AdjustType[AdjustType[\"EXACT_FIT\"] = 1] = \"EXACT_FIT\";\n        AdjustType[AdjustType[\"EXCEPT_MARGIN\"] = 2] = \"EXCEPT_MARGIN\";\n    })(AdjustType = Core.AdjustType || (Core.AdjustType = {}));\n})(Core || (Core = {}));\nvar Core;\n(function (Core) {\n    var WindowRoot = (function (_super) {\n        __extends(WindowRoot, _super);\n        function WindowRoot() {\n            var _this = _super.call(this) || this;\n            _this._maxSiblingIndex = 9999;\n            _this._windowStack = [];\n            _this._popups = new Collection.Dictionary();\n            _this._modalBg = new fgui.GGraph();\n            _this._modalBg.setSize(_this.width, _this.height);\n            _this._modalBg.drawRect(0, cc.Color.TRANSPARENT, fgui.UIConfig.modalLayerColor);\n            _this._modalBg.addRelation(_this, fgui.RelationType.Size);\n            _this.on(fgui.Event.TOUCH_BEGIN, _this._tryClosePopup, _this);\n            return _this;\n        }\n        WindowRoot.prototype.showWindow = function (win) {\n            var modal = win.modal;\n            if (modal) {\n                if (this._modalBg.parent == null) {\n                    this.addChild(this._modalBg);\n                }\n                this._modalBg.visible = true;\n                this._modalBg.node.setSiblingIndex(this._maxSiblingIndex - 1);\n            }\n            this.addChild(win);\n            win.node.setSiblingIndex(this._maxSiblingIndex);\n            this._windowStack.push(win);\n        };\n        WindowRoot.prototype.showPopup = function (popup, target, downward) {\n            this._popups.setValue(popup.hashIdx, true);\n            if (!(popup instanceof Core.BaseWindow)) {\n                this.addChild(popup);\n                this._windowStack.push(popup);\n                popup.node.setSiblingIndex(this._maxSiblingIndex);\n            }\n        };\n        WindowRoot.prototype.hideWindow = function (win) {\n            this._hidePopup(win);\n        };\n        WindowRoot.prototype._tryClosePopup = function () {\n            if (this._windowStack.length <= 0)\n                return;\n            var tar = this._windowStack[this._windowStack.length - 1];\n            if (this._popups.containsKey(tar.hashIdx)) {\n                this._hidePopup(tar);\n                this._popups.remove(tar.hashIdx);\n            }\n        };\n        WindowRoot.prototype._hidePopup = function (popup) {\n            this._removePopup(popup);\n            var cnt = this._windowStack.length;\n            var hasModal = false;\n            var tar = null;\n            for (var i = cnt - 1; i >= 0; --i) {\n                var w = this._windowStack[i];\n                if (w instanceof fgui.Window && w.modal) {\n                    tar = w;\n                    hasModal = true;\n                    break;\n                }\n            }\n            if (!hasModal) {\n                this._modalBg.visible = false;\n            }\n            else {\n                if (tar) {\n                    if (tar == this._windowStack[cnt - 1]) {\n                        this._modalBg.node.setSiblingIndex(this._maxSiblingIndex - 1);\n                        tar.node.setSiblingIndex(this._maxSiblingIndex);\n                    }\n                    else {\n                        this._modalBg.node.setSiblingIndex(tar.node.getSiblingIndex() - 1);\n                        tar.node.setSiblingIndex(tar.node.getSiblingIndex());\n                    }\n                }\n                this._modalBg.visible = true;\n            }\n        };\n        WindowRoot.prototype._removePopup = function (popup) {\n            this.removeChild(popup);\n            var last = this._windowStack.pop();\n            if (popup.hashIdx != last.hashIdx) {\n                this._windowStack.push(last);\n                var idx = -1;\n                var cnt = this._windowStack.length;\n                for (var i = 0; i < cnt; ++i) {\n                    if (popup.hashIdx == this._windowStack[i].hashIdx) {\n                        idx = i;\n                        break;\n                    }\n                }\n                if (idx >= 0) {\n                    this._windowStack.splice(idx, 1);\n                }\n            }\n        };\n        return WindowRoot;\n    }(fgui.GRoot));\n    Core.WindowRoot = WindowRoot;\n    var LayerManager = (function () {\n        function LayerManager() {\n            var stage = cc.director.getScene();\n            this._mapLayer = new fgui.GRoot();\n            this._mapLayer.node.name = this._mapLayer.name = \"mapLayer\";\n            this._mainLayer = fgui.GRoot.inst;\n            this._mainLayer.node.name = this._mainLayer.name = \"mainLayer\";\n            this._windowLayer = new fgui.GRoot();\n            this._windowLayer.node.name = this._windowLayer.name = \"windowLayer\";\n            this._maskLayer = new fgui.GRoot();\n            this._maskLayer.node.name = this._maskLayer.name = \"maskLayer\";\n            this._topLayer = new fgui.GRoot();\n            this._topLayer.node.name = this._topLayer.name = \"topLayer\";\n            if (LayerManager._designWidth && LayerManager._designHeight) {\n                this._mapLayer.setDesignSize(LayerManager._designWidth, LayerManager._designHeight);\n                this._mainLayer.setDesignSize(LayerManager._designWidth, LayerManager._designHeight);\n                this._windowLayer.setDesignSize(LayerManager._designWidth, LayerManager._designHeight);\n                this._maskLayer.setDesignSize(LayerManager._designWidth, LayerManager._designHeight);\n                this._topLayer.setDesignSize(LayerManager._designWidth, LayerManager._designHeight);\n            }\n            this._windowLayer.node.parent = stage;\n            this._maskLayer.node.parent = stage;\n            this._topLayer.node.parent = stage;\n            this._mapLayer.node.parent = stage;\n            this._mapLayer.node.setSiblingIndex(1);\n            this._mainLayer.node.setSiblingIndex(2);\n            this._windowLayer.node.setSiblingIndex(3);\n            this._topLayer.node.setSiblingIndex(4);\n            this._maskLayer.node.setSiblingIndex(5);\n            this._topLayer.modalLayer.drawRect(0, cc.Color.TRANSPARENT, new cc.Color(0x0, 0x0, 0x0, 0x77));\n            this._layers = [this._mapLayer, this._mainLayer, this._windowLayer, this._topLayer, this._maskLayer];\n        }\n        Object.defineProperty(LayerManager, \"inst\", {\n            get: function () {\n                if (!LayerManager._inst) {\n                    LayerManager._inst = new LayerManager();\n                }\n                return LayerManager._inst;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        LayerManager.setDesignSize = function (width, height) {\n            LayerManager._designWidth = width;\n            LayerManager._designHeight = height;\n            if (LayerManager._inst) {\n                LayerManager._inst._mapLayer.setDesignSize(LayerManager._designWidth, LayerManager._designHeight);\n                LayerManager._inst._mainLayer.setDesignSize(LayerManager._designWidth, LayerManager._designHeight);\n                LayerManager._inst._windowLayer.setDesignSize(LayerManager._designWidth, LayerManager._designHeight);\n                LayerManager._inst._maskLayer.setDesignSize(LayerManager._designWidth, LayerManager._designHeight);\n                LayerManager._inst._topLayer.setDesignSize(LayerManager._designWidth, LayerManager._designHeight);\n            }\n        };\n        LayerManager.prototype.destroyAllLayer = function () {\n            this.mapLayer.dispose();\n            this.mainLayer.dispose();\n            this.windowLayer.dispose();\n            this.topLayer.dispose();\n            this.maskLayer.dispose();\n            LayerManager._inst = null;\n        };\n        Object.defineProperty(LayerManager.prototype, \"mapLayer\", {\n            get: function () {\n                return this._mapLayer;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(LayerManager.prototype, \"mainLayer\", {\n            get: function () {\n                return this._mainLayer;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(LayerManager.prototype, \"windowLayer\", {\n            get: function () {\n                return this._windowLayer;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(LayerManager.prototype, \"maskLayer\", {\n            get: function () {\n                return this._maskLayer;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(LayerManager.prototype, \"topLayer\", {\n            get: function () {\n                return this._topLayer;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        LayerManager.prototype.getTouchFromTopestLayer = function (touchId) {\n            return Core.LayerManager.inst._layers[this._layers.length - 1].getTouchPosition(touchId);\n        };\n        LayerManager.prototype.setTouchbleFromTopest = function (b) {\n            Core.LayerManager.inst._layers[this._layers.length - 1].touchable = b;\n        };\n        LayerManager.prototype.visibleMainLayerChildren = function (b, except) {\n            this._mainLayer._children.forEach(function (c) {\n                if (!except || except.indexOf(c) < 0) {\n                    c.visible = b;\n                }\n            });\n        };\n        return LayerManager;\n    }());\n    Core.LayerManager = LayerManager;\n})(Core || (Core = {}));\nvar Core;\n(function (Core) {\n    var ViewCommon = (function () {\n        function ViewCommon(view) {\n            this._view = view;\n        }\n        ViewCommon.prototype.adjust = function (display, adjustType) {\n            if (adjustType === void 0) { adjustType = Core.AdjustType.EXACT_FIT; }\n            if (Core.DeviceUtils.isMiniGame()) {\n                this._doAdjust(display, adjustType);\n                return;\n            }\n            if (!this._adjustObjs) {\n                this._adjustObjs = new Array();\n                fgui.GRoot.inst.node.on(\"root-change-size\", this._onResize, this);\n            }\n            this._adjustObjs.push([display, adjustType]);\n            this._doAdjust(display, adjustType);\n        };\n        ViewCommon.prototype._onResize = function () {\n            var _this = this;\n            this._adjustObjs.forEach(function (objArr) {\n                _this._doAdjust(objArr[0], objArr[1]);\n            });\n        };\n        ViewCommon.prototype._doAdjust = function (display, adjustType) {\n            if (adjustType === void 0) { adjustType = Core.AdjustType.EXACT_FIT; }\n            var uiRoot = fgui.GRoot.inst;\n            var rootWidth = uiRoot.getDesignViewWidth();\n            var rootHeight = uiRoot.getDesignViewHeight();\n            if (adjustType == Core.AdjustType.NO_BORDER) {\n                var scaleX = rootWidth / this._view.width;\n                var scaleY = rootHeight / this._view.height;\n                var scale = scaleX > scaleY ? scaleX : scaleY;\n                display.width = display.initWidth * scale;\n                display.height = display.initHeight * scale;\n            }\n            else {\n                var adjustContext = void 0;\n                if (display instanceof fgui.GComponent) {\n                    adjustContext = display.getChild(\"adjustContext\");\n                }\n                display.width = rootWidth;\n                display.height = rootHeight;\n                if (adjustContext) {\n                    var scaleX = rootWidth / this._view.width;\n                    var scaleY = rootHeight / this._view.height;\n                    var scale = scaleX > scaleY ? scaleX : scaleY;\n                    adjustContext.width = adjustContext.initWidth * scale;\n                    adjustContext.height = adjustContext.initHeight * scale;\n                }\n            }\n            console.log(display.width + \",\" + window.support.topMargin);\n            display.x = this._view.width / 2 - display.width / 2;\n            display.y = this._view.height / 2 - display.height / 2;\n            this._view.y = -display.y;\n        };\n        ViewCommon.prototype.destroy = function () {\n            if (this._adjustObjs) {\n                fgui.GRoot.inst.node.off(\"root-change-size\", this._onResize, this);\n                this._adjustObjs = null;\n            }\n            this._view = null;\n        };\n        ViewCommon.prototype.getSubNode = function (parent, nodeName, childs) {\n            var node = parent.getChild(nodeName);\n            if (node) {\n                return node;\n            }\n            var childAmount = parent.numChildren;\n            for (var i = 0; i < childAmount; i++) {\n                var c = parent.getChildAt(i);\n                if (!c) {\n                    break;\n                }\n                if (c instanceof fgui.GComponent) {\n                    childs.push(c);\n                }\n            }\n            return null;\n        };\n        ViewCommon.prototype.getNode = function (nodeName) {\n            var childs = [];\n            var c = this.getSubNode(this._view, nodeName, childs);\n            if (c) {\n                return c;\n            }\n            for (var i = 0; i < childs.length; i++) {\n                c = this.getSubNode(childs[i], nodeName, childs);\n                if (c) {\n                    return c;\n                }\n            }\n            return null;\n        };\n        return ViewCommon;\n    }());\n    Core.ViewCommon = ViewCommon;\n})(Core || (Core = {}));\nvar Core;\n(function (Core) {\n    var UIConstructor = (function () {\n        function UIConstructor(func) {\n            this.__constructor = func;\n        }\n        UIConstructor.prototype.call = function () {\n            return __awaiter(this, void 0, void 0, function () {\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0: return [4, this.__constructor()];\n                        case 1: return [2, _a.sent()];\n                    }\n                });\n            });\n        };\n        return UIConstructor;\n    }());\n    Core.UIConstructor = UIConstructor;\n    var ViewManager = (function () {\n        function ViewManager() {\n            this._views = new Collection.Dictionary();\n            this._opens = new Collection.Set();\n            this._opening = new Collection.Dictionary();\n            this._closing = new Collection.Dictionary();\n            this._viewConstructors = new Collection.Dictionary();\n            this._viewPreload = new Collection.Dictionary();\n            this._registerViews = [];\n            this._viewStack = [];\n        }\n        ViewManager.prototype.handleBackKey = function () {\n            if (this._viewStack.length > 0) {\n                var view = this._viewStack[this._viewStack.length - 1];\n                if (view.isShow()) {\n                    return view.handleBackKey();\n                }\n                else {\n                    this._viewStack.pop();\n                    return false;\n                }\n            }\n            else {\n                return false;\n            }\n        };\n        Object.defineProperty(ViewManager, \"inst\", {\n            get: function () {\n                if (!ViewManager._inst) {\n                    ViewManager._inst = new ViewManager();\n                }\n                return ViewManager._inst;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        ViewManager.prototype.register = function (name, view) {\n            if (view == null) {\n                console.log(\"UI_\" + name + \" is null!\");\n                return;\n            }\n            if (this._views.getValue(name)) {\n                console.log(\"UI_\" + name + \" is registered!\");\n                return;\n            }\n            view.name = name;\n            this._views.setValue(name, view);\n        };\n        ViewManager.prototype.unregister = function (name) {\n            this._views.remove(name);\n        };\n        ViewManager.prototype.registerConstructor = function (name, func, preload) {\n            if (preload === void 0) { preload = null; }\n            if (this._viewConstructors.containsKey(name)) {\n                this._viewConstructors.remove(name);\n            }\n            if (this._viewPreload.containsKey(name)) {\n                this._viewPreload.remove(name);\n            }\n            this._viewConstructors.setValue(name, new UIConstructor(func));\n            this._viewPreload.setValue(name, preload);\n            this._registerViews.push(name);\n        };\n        ViewManager.prototype.registerView = function (name, func) {\n            this.registerConstructor(name, func);\n        };\n        ViewManager.prototype.destroy = function (name) {\n            var view = this.getView(name);\n            if (view) {\n                console.log(\"destroy view \", name);\n                this.unregister(name);\n                view.destroy();\n                view = null;\n            }\n        };\n        ViewManager.prototype.createAllView = function () {\n            var _this = this;\n            this._registerViews.forEach(function (value, index, arr) {\n                _this.tryCreateView(value);\n            });\n        };\n        ViewManager.prototype.tryCreateView = function (name) {\n            return __awaiter(this, void 0, void 0, function () {\n                var view, constructor, preload, e_1;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            if (this._views.getValue(name))\n                                return [2];\n                            view = null;\n                            constructor = this._viewConstructors.getValue(name);\n                            preload = this._viewPreload.getValue(name);\n                            if (!(constructor == null)) return [3, 1];\n                            console.log(\"UI_\" + name + \" not exist\");\n                            return [2];\n                        case 1:\n                            if (!preload) return [3, 3];\n                            return [4, preload()];\n                        case 2:\n                            _a.sent();\n                            _a.label = 3;\n                        case 3:\n                            _a.trys.push([3, 5, , 6]);\n                            return [4, constructor.call()];\n                        case 4:\n                            view = (_a.sent());\n                            view.setVisible(false);\n                            view.initUI();\n                            this.register(name, view);\n                            return [3, 6];\n                        case 5:\n                            e_1 = _a.sent();\n                            console.error(\"create view error\", name, e_1, e_1.name, e_1.message);\n                            return [3, 6];\n                        case 6: return [2];\n                    }\n                });\n            });\n        };\n        ViewManager.prototype.open = function (name) {\n            var param = [];\n            for (var _i = 1; _i < arguments.length; _i++) {\n                param[_i - 1] = arguments[_i];\n            }\n            return __awaiter(this, void 0, void 0, function () {\n                var view, openPromise, openPromise_1, openPromise_2;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            console.log(\"open view\", name);\n                            return [4, this.tryCreateView(name)];\n                        case 1:\n                            _a.sent();\n                            view = this.getView(name);\n                            if (view == null)\n                                return [2];\n                            openPromise = this._opening.getValue(name);\n                            if (!openPromise) return [3, 3];\n                            return [4, openPromise];\n                        case 2:\n                            _a.sent();\n                            return [2];\n                        case 3:\n                            view.setVisible(true);\n                            view.addToParent();\n                            if (view.isConcernBackKey) {\n                                this._viewStack.push(view);\n                            }\n                            if (!view.isInit()) return [3, 5];\n                            openPromise_1 = view.open.apply(view, param);\n                            this._opening.setValue(name, openPromise_1);\n                            return [4, openPromise_1];\n                        case 4:\n                            _a.sent();\n                            this._opening.remove(name);\n                            return [3, 7];\n                        case 5:\n                            view.initUI();\n                            openPromise_2 = view.open.apply(view, param);\n                            this._opening.setValue(name, openPromise_2);\n                            return [4, openPromise_2];\n                        case 6:\n                            _a.sent();\n                            this._opening.remove(name);\n                            _a.label = 7;\n                        case 7:\n                            this._opens.add(name);\n                            Core.EventCenter.inst.dispatchEventWith(Core.Event.OpenViewEvt, false, name);\n                            return [2];\n                    }\n                });\n            });\n        };\n        ViewManager.prototype.openPopup = function (name) {\n            var param = [];\n            for (var _i = 1; _i < arguments.length; _i++) {\n                param[_i - 1] = arguments[_i];\n            }\n            return __awaiter(this, void 0, void 0, function () {\n                var view, openPromise, wnd, openPromise_3, openPromise_4, x, y;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0: return [4, this.tryCreateView(name)];\n                        case 1:\n                            _a.sent();\n                            view = this.getView(name);\n                            if (view == null)\n                                return [2];\n                            openPromise = this._opening.getValue(name);\n                            if (!openPromise) return [3, 3];\n                            return [4, openPromise];\n                        case 2:\n                            _a.sent();\n                            return [2];\n                        case 3:\n                            view.setVisible(true);\n                            if (!(view instanceof Core.BaseWindow)) return [3, 8];\n                            wnd = view;\n                            if (!wnd.isInit()) return [3, 5];\n                            openPromise_3 = wnd.open.apply(wnd, param);\n                            this._opening.setValue(name, openPromise_3);\n                            return [4, openPromise_3];\n                        case 4:\n                            _a.sent();\n                            this._opening.remove(name);\n                            return [3, 7];\n                        case 5:\n                            wnd.initUI();\n                            openPromise_4 = wnd.open.apply(wnd, param);\n                            this._opening.setValue(name, openPromise_4);\n                            return [4, openPromise_4];\n                        case 6:\n                            _a.sent();\n                            this._opening.remove(name);\n                            _a.label = 7;\n                        case 7:\n                            x = wnd.x;\n                            y = wnd.y;\n                            Core.LayerManager.inst.windowLayer.showPopup(wnd);\n                            wnd.x = x;\n                            wnd.y = y;\n                            this._opens.add(name);\n                            Core.EventCenter.inst.dispatchEventWith(Core.Event.OpenViewEvt, false, name);\n                            if (view.isConcernBackKey) {\n                                this._viewStack.push(view);\n                            }\n                            return [3, 10];\n                        case 8: return [4, this.open.apply(this, __spreadArrays([name], param))];\n                        case 9:\n                            _a.sent();\n                            _a.label = 10;\n                        case 10: return [2];\n                    }\n                });\n            });\n        };\n        ViewManager.prototype.close = function (name) {\n            var param = [];\n            for (var _i = 1; _i < arguments.length; _i++) {\n                param[_i - 1] = arguments[_i];\n            }\n            return __awaiter(this, void 0, void 0, function () {\n                var view_1, closePromise, i, e_2;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            _a.trys.push([0, 4, , 5]);\n                            if (!this.isShow(name)) {\n                                return [2];\n                            }\n                            view_1 = this.getView(name);\n                            if (view_1 == null) {\n                                return [2];\n                            }\n                            closePromise = this._closing.getValue(name);\n                            if (!closePromise) return [3, 2];\n                            return [4, closePromise];\n                        case 1:\n                            _a.sent();\n                            return [2];\n                        case 2:\n                            closePromise = new Promise(function (reslove) {\n                                view_1.close.apply(view_1, param).then(function () {\n                                    view_1.removeFromParent();\n                                    reslove();\n                                }).catch(function (e) {\n                                    console.error(\"close view 1111 \", name, \" \", e);\n                                    view_1.removeFromParent();\n                                    reslove();\n                                });\n                            });\n                            this._closing.setValue(name, closePromise);\n                            return [4, closePromise];\n                        case 3:\n                            _a.sent();\n                            this._closing.remove(name);\n                            this._opens.remove(name);\n                            if (this._viewConstructors.containsKey(name) &&\n                                view_1.destroyWhileClose()) {\n                                this.destroy(name);\n                            }\n                            Core.EventCenter.inst.dispatchEventWith(Core.Event.CloseViewEvt, false, name);\n                            if (view_1.isConcernBackKey) {\n                                for (i = 0; i < this._viewStack.length; ++i) {\n                                    if (this._viewStack[i] == view_1) {\n                                        this._viewStack.splice(i, 1);\n                                        break;\n                                    }\n                                }\n                            }\n                            return [3, 5];\n                        case 4:\n                            e_2 = _a.sent();\n                            console.error(\"close view \", name, \" \", e_2);\n                            return [3, 5];\n                        case 5: return [2];\n                    }\n                });\n            });\n        };\n        ViewManager.prototype.openView = function (view) {\n            var param = [];\n            for (var _i = 1; _i < arguments.length; _i++) {\n                param[_i - 1] = arguments[_i];\n            }\n            return __awaiter(this, void 0, void 0, function () {\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0: return [4, this.open.apply(this, __spreadArrays([view.name], param))];\n                        case 1:\n                            _a.sent();\n                            return [2];\n                    }\n                });\n            });\n        };\n        ViewManager.prototype.closeView = function (view) {\n            var param = [];\n            for (var _i = 1; _i < arguments.length; _i++) {\n                param[_i - 1] = arguments[_i];\n            }\n            return __awaiter(this, void 0, void 0, function () {\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0: return [4, this.close.apply(this, __spreadArrays([view.name], param))];\n                        case 1:\n                            _a.sent();\n                            return [2];\n                    }\n                });\n            });\n        };\n        ViewManager.prototype.getView = function (name) {\n            return this._views.getValue(name);\n        };\n        ViewManager.prototype.getOpenedView = function (name) {\n            return __awaiter(this, void 0, void 0, function () {\n                var p, view;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            p = this._opening.getValue(name);\n                            if (!p) return [3, 2];\n                            return [4, p];\n                        case 1:\n                            _a.sent();\n                            _a.label = 2;\n                        case 2:\n                            view = this._views.getValue(name);\n                            if (view && view.isShow()) {\n                                return [2, view];\n                            }\n                            else {\n                                return [2, null];\n                            }\n                            return [2];\n                    }\n                });\n            });\n        };\n        ViewManager.prototype.closeAll = function () {\n            return __awaiter(this, void 0, void 0, function () {\n                var ps;\n                var _this = this;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            ps = [];\n                            this._opens.toArray().forEach(function (name) {\n                                var view = _this.getView(name);\n                                if (view) {\n                                    view.forceCloseFlag = true;\n                                }\n                                ps.push(_this.close(name));\n                                view = _this.getView(name);\n                                if (view) {\n                                    view.forceCloseFlag = false;\n                                }\n                            });\n                            return [4, Promise.all(ps)];\n                        case 1:\n                            _a.sent();\n                            this._opens = new Collection.Set();\n                            this._opening = new Collection.Dictionary();\n                            this._closing = new Collection.Dictionary();\n                            return [2];\n                    }\n                });\n            });\n        };\n        ViewManager.prototype.isShow = function (name) {\n            return this._opens.contains(name);\n        };\n        ViewManager.prototype.registerUIWnd = function (pkg, resName, cls) {\n            var _this = this;\n            var registerView = Core.ViewManager.inst.registerView.bind(Core.ViewManager.inst);\n            var createObject = UI.createObjectAsync;\n            registerView(resName, function () { return __awaiter(_this, void 0, void 0, function () {\n                var a, _a;\n                return __generator(this, function (_b) {\n                    switch (_b.label) {\n                        case 0:\n                            a = new cls();\n                            _a = a;\n                            return [4, createObject(pkg, resName)];\n                        case 1:\n                            _a.contentPane = (_b.sent()).asCom;\n                            return [2, a];\n                    }\n                });\n            }); });\n        };\n        ViewManager.prototype.unregisterUIWnd = function (pkg, resName, cls) {\n            this.unregister(resName);\n        };\n        ViewManager.prototype.unregisterUIView = function (pkg, resName, cls) {\n            this.unregister(resName);\n        };\n        ViewManager.prototype.registerUIView = function (pkg, resName, cls) {\n            var _this = this;\n            var registerView = Core.ViewManager.inst.registerView.bind(Core.ViewManager.inst);\n            var createObject = UI.createObjectAsync;\n            registerView(resName, function () { return __awaiter(_this, void 0, void 0, function () {\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0: return [4, createObject(pkg, resName, cls)];\n                        case 1: return [2, _a.sent()];\n                    }\n                });\n            }); });\n        };\n        return ViewManager;\n    }());\n    Core.ViewManager = ViewManager;\n})(Core || (Core = {}));\nvar Core;\n(function (Core) {\n    var AlertPanel = (function (_super) {\n        __extends(AlertPanel, _super);\n        function AlertPanel() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        AlertPanel.prototype.onConstruct = function () {\n            _super.prototype.onConstruct.call(this);\n        };\n        AlertPanel.prototype.getAcceptBtn = function () {\n            return this.getChild(\"acceptBtn\").asButton;\n        };\n        AlertPanel.prototype.getTitle = function () {\n            return this.getChild(\"title\").asRichTextField;\n        };\n        return AlertPanel;\n    }(fgui.GComponent));\n    Core.AlertPanel = AlertPanel;\n    var ConfirmPanel = (function (_super) {\n        __extends(ConfirmPanel, _super);\n        function ConfirmPanel() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        ConfirmPanel.prototype.onConstruct = function () {\n            _super.prototype.onConstruct.call(this);\n        };\n        ConfirmPanel.prototype.getAcceptBtn = function () {\n            return this.getChild(\"acceptBtn\").asButton;\n        };\n        ConfirmPanel.prototype.getCancelBtn = function () {\n            return this.getChild(\"cancelBtn\").asButton;\n        };\n        ConfirmPanel.prototype.getTitle = function () {\n            return this.getChild(\"title\").asRichTextField;\n        };\n        return ConfirmPanel;\n    }(fgui.GComponent));\n    Core.ConfirmPanel = ConfirmPanel;\n    var PrivShowPanel = (function (_super) {\n        __extends(PrivShowPanel, _super);\n        function PrivShowPanel() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        PrivShowPanel.prototype.onConstruct = function () {\n            _super.prototype.onConstruct.call(this);\n            this.touchable = false;\n            this.y += window.support.topMargin;\n            this._privList = this.getChild(\"privList\").asList;\n        };\n        PrivShowPanel.prototype.getPrivList = function () {\n            return this._privList;\n        };\n        return PrivShowPanel;\n    }(fgui.GComponent));\n    Core.PrivShowPanel = PrivShowPanel;\n})(Core || (Core = {}));\nvar Core;\n(function (Core) {\n    var EMovieClip = (function (_super) {\n        __extends(EMovieClip, _super);\n        function EMovieClip(movieClip, makeNode3d) {\n            var _this = _super.call(this) || this;\n            _this._movieClip = movieClip;\n            if (makeNode3d) {\n                Utils.makeNode3DIfSupported(_this._movieClip.node);\n            }\n            _this._movieClip[\"$owner\"] = _this;\n            _this._movieClip.touchable = false;\n            _this._movieClip.setPivot(0.5, 0.5, true);\n            _this.width = _this._movieClip.width;\n            _this.height = _this._movieClip.height;\n            _this._movieClip.x = _this.width / 2;\n            _this._movieClip.y = _this.height / 2;\n            _this._movieClip.addRelation(_this, fgui.RelationType.Size);\n            _this._movieClip.addRelation(_this, fgui.RelationType.Center_Center);\n            _this._movieClip.addRelation(_this, fgui.RelationType.Middle_Middle);\n            _this.setPivot(0.5, 0.5, true);\n            _this._isTop = true;\n            _this.addChild(_this._movieClip);\n            return _this;\n        }\n        EMovieClip.prototype.resetHeigh = function () {\n            var adjustHeight = this.height;\n            this.height = 0;\n            this.height = adjustHeight;\n        };\n        EMovieClip.prototype.destroy = function () {\n            if (this._movieClip) {\n                this._movieClip.dispose();\n                this._movieClip = null;\n            }\n            this.dispose();\n        };\n        Object.defineProperty(EMovieClip.prototype, \"totalFrames\", {\n            get: function () {\n                return this._movieClip.frameCount;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(EMovieClip.prototype, \"isTop\", {\n            get: function () {\n                return this._isTop;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        EMovieClip.prototype.gotoAndPlay = function (frame, playTimes) {\n            if (typeof (frame) == \"string\") {\n                frame = parseInt(frame);\n            }\n            frame = Math.max(0, frame - 1);\n            playTimes = Math.max(0, playTimes);\n            this._movieClip.setPlaySettings(frame, -1, playTimes);\n            this._movieClip.playing = true;\n        };\n        EMovieClip.prototype.gotoAndStop = function (frame) {\n            if (typeof (frame) == \"string\") {\n                frame = parseInt(frame);\n            }\n            this._movieClip.frame = Math.max(0, frame - 1);\n            this._movieClip.playing = false;\n        };\n        EMovieClip.prototype.stop = function () {\n            this._movieClip.playing = false;\n        };\n        EMovieClip.prototype.once = function (type, listener, thisObject, useCapture, priority) {\n            this._movieClip.once(type, listener, thisObject, useCapture);\n        };\n        EMovieClip.prototype.addFrameEvent = function (frameNum, name) {\n            console.log(\"addFrameEvent \", frameNum, name);\n            this._movieClip.addFrameEvent(Math.max(0, frameNum - 1), name);\n        };\n        return EMovieClip;\n    }(fgui.GComponent));\n    Core.EMovieClip = EMovieClip;\n})(Core || (Core = {}));\nvar Core;\n(function (Core) {\n    var ListItem = (function () {\n        function ListItem() {\n        }\n        ListItem.prototype.updatePosition = function () {\n            var _this = this;\n            if (!this.layers) {\n                return;\n            }\n            this.layers.forEach(function (layer) {\n                layer.object.setPosition(_this.x + layer.offsetx, _this.y + layer.offsety);\n            });\n        };\n        ListItem.prototype.getNode = function () {\n            return this.item.getNode();\n        };\n        ListItem.prototype.registerOnAddLayer = function (callback) {\n            var _this = this;\n            var self = this;\n            this.item.registerOnAddLayer(function (layer) {\n                _this.layers.push(layer);\n                callback(layer, self);\n            });\n        };\n        ListItem.prototype.dispose = function () {\n            this.layers = [];\n            this.item.dispose();\n        };\n        return ListItem;\n    }());\n    var LayerListView = (function () {\n        function LayerListView(list) {\n            this._list = null;\n            this._items = null;\n            this._contentCom = null;\n            this._addItems = null;\n            this._delItems = null;\n            this._list = list;\n            this._meta = {\n                xgap: list.columnGap,\n                xcnt: list.columnCount,\n                ygap: list.lineGap,\n                ycnt: list.lineCount,\n                gindex: 0,\n            };\n            list.columnCount = 1;\n            list.columnGap = 0;\n            list.lineCount = 1;\n            list.lineGap = 0;\n            list.layout = fgui.ListLayoutType.SingleRow;\n            this._items = [];\n            this._addItems = [];\n            this._delItems = [];\n        }\n        LayerListView.prototype.addItems = function (items) {\n            return __awaiter(this, void 0, void 0, function () {\n                var list, xgap, ygap, xcnt, size, startx, starty, zeroX, startItem, x, y, tempItems, layerCnt, self, t1, t2, i, t3, contentWidth, contentHeight, curItemCnt, curLineCnt, _items;\n                var _this = this;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            if (!items || items.length <= 0) {\n                                return [2];\n                            }\n                            if (!this._list) {\n                                return [2];\n                            }\n                            if (!this._contentCom) {\n                                this._contentCom = new fgui.GComponent();\n                                this._list.addChild(this._contentCom);\n                            }\n                            if (this._isAdding || this._addItems.length > 0) {\n                                this._addItems.push(items);\n                                return [2];\n                            }\n                            this._isAdding = true;\n                            list = this._list;\n                            xgap = this._meta.xgap;\n                            ygap = this._meta.ygap;\n                            xcnt = this._meta.xcnt;\n                            size = items[0].getSize();\n                            startx = (list.width - size.width * xcnt - xgap * (xcnt - 1)) / 2;\n                            starty = 0;\n                            zeroX = startx;\n                            if (this._items.length > 0) {\n                                startItem = this._items[this._items.length - 1];\n                                startx = startItem.x + size.width + xgap;\n                                starty = startItem.y;\n                                if (startx + size.width >= list.width) {\n                                    startx = zeroX;\n                                    starty = starty + size.height + ygap;\n                                }\n                            }\n                            x = startx;\n                            y = starty;\n                            tempItems = [];\n                            layerCnt = items[0].layerCnt;\n                            self = this;\n                            t1 = new Date().getTime();\n                            items.forEach(function (item) {\n                                var listItem = new ListItem();\n                                listItem.index = _this._meta.gindex++;\n                                listItem.item = item;\n                                listItem.x = x;\n                                listItem.y = y;\n                                listItem.layers = [];\n                                listItem.registerOnAddLayer(self.onItemAddLayer.bind(_this));\n                                tempItems.push(listItem);\n                                x = x + size.width + xgap;\n                                if (x + size.width >= list.width) {\n                                    x = zeroX;\n                                    y = y + size.height + ygap;\n                                }\n                            });\n                            t2 = new Date().getTime();\n                            i = 0;\n                            _a.label = 1;\n                        case 1:\n                            if (!(i < layerCnt)) return [3, 4];\n                            tempItems.forEach(function (listItem) {\n                                var layer = listItem.item.getLayerByIndex(i);\n                                if (layer) {\n                                    listItem.layers.push(layer);\n                                    if (self._contentCom) {\n                                        self._contentCom.addChild(layer.object);\n                                        layer.object.setPosition(listItem.x + layer.offsetx, listItem.y + layer.offsety);\n                                    }\n                                }\n                            });\n                            return [4, fgui.GTimers.inst.waitTime(1)];\n                        case 2:\n                            _a.sent();\n                            _a.label = 3;\n                        case 3:\n                            ++i;\n                            return [3, 1];\n                        case 4:\n                            ;\n                            if (!self._contentCom) {\n                                return [2];\n                            }\n                            this._items = this._items.concat(tempItems);\n                            t3 = new Date().getTime();\n                            console.log(\"------------- gen time: \", t2 - t1, \", add time: \", t3 - t2);\n                            contentWidth = 0, contentHeight = 0;\n                            curItemCnt = this._items.length;\n                            if (curItemCnt >= xcnt) {\n                                contentWidth = list.width;\n                            }\n                            else {\n                                contentWidth = curItemCnt * size.width + (curItemCnt - 1) * xgap;\n                            }\n                            curLineCnt = Math.ceil(curItemCnt / xcnt);\n                            contentHeight = curLineCnt * size.height + (curLineCnt - 1) * ygap;\n                            this._contentCom.setSize(contentWidth, contentHeight);\n                            this._list.setBoundsChangedFlag();\n                            items.forEach(function (item) {\n                                item.refresh();\n                            });\n                            this._isAdding = false;\n                            if (!(this._addItems.length > 0)) return [3, 6];\n                            _items = this._addItems.shift();\n                            return [4, this.addItems(_items)];\n                        case 5:\n                            _a.sent();\n                            _a.label = 6;\n                        case 6: return [2];\n                    }\n                });\n            });\n        };\n        LayerListView.prototype.delItem = function (item) {\n            if (!this._items) {\n                return;\n            }\n            if (!this._list) {\n                return;\n            }\n            if (this._items.indexOf(item) < 0) {\n                if (this._delItems.length > 0) {\n                    var item_1 = this._delItems.shift();\n                    this.delItem(item_1);\n                }\n                return;\n            }\n            if (this._isDeling || this._delItems.length > 0) {\n                this._delItems.push(item);\n                return;\n            }\n            this._isDeling = true;\n            var index = this._items.length - 1;\n            for (; index > item.index; index--) {\n                var curItem = this._items[index];\n                var frontItem = this._items[index - 1];\n                curItem.index = frontItem.index;\n                curItem.x = frontItem.x;\n                curItem.y = frontItem.y;\n                curItem.updatePosition();\n            }\n            this._items.splice(item.index, 1);\n            var layers = item.layers;\n            if (this._contentCom) {\n                var i = layers.length - 1;\n                for (; i >= 0; i--) {\n                    var layer = layers[i];\n                    if (layer) {\n                        this._contentCom.removeChild(layer.object);\n                    }\n                }\n            }\n            item.dispose();\n            item = null;\n            this._contentCom.ensureBoundsCorrect();\n            this._list.ensureBoundsCorrect();\n            this._list.setBoundsChangedFlag();\n            this._meta.gindex--;\n            this._isDeling = false;\n            if (this._delItems.length > 0) {\n                var item_2 = this._delItems.shift();\n                this.delItem(item_2);\n            }\n        };\n        LayerListView.prototype.getItemAt = function (index) {\n            return this._items[index];\n        };\n        Object.defineProperty(LayerListView.prototype, \"numItems\", {\n            get: function () {\n                return this._items.length;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        LayerListView.prototype.onItemAddLayer = function (layer, item) {\n            if (layer) {\n                this._contentCom.addChild(layer.object);\n                layer.object.setPosition(item.x + layer.offsetx, item.y + layer.offsety);\n            }\n        };\n        LayerListView.prototype.clearAll = function () {\n            if (this._items.length > 0) {\n                this._items.forEach(function (item) {\n                    item.dispose();\n                });\n            }\n            this._items = [];\n            this._list.removeChildren(0, -1, true);\n            this._contentCom = null;\n        };\n        return LayerListView;\n    }());\n    Core.LayerListView = LayerListView;\n})(Core || (Core = {}));\nvar Core;\n(function (Core) {\n    var LongTouchComponet = (function () {\n        function LongTouchComponet(display, touchInterval) {\n            if (touchInterval === void 0) { touchInterval = 500; }\n            this._isTouching = false;\n            this._display = display;\n            this._touchInterval = touchInterval;\n            this.enable = true;\n        }\n        Object.defineProperty(LongTouchComponet.prototype, \"enable\", {\n            set: function (val) {\n                if (!this._display.node) {\n                    return;\n                }\n                if (val) {\n                    this._display.on(fgui.Event.TOUCH_BEGIN, this._onTouchStart, this);\n                    this._display.on(fgui.Event.TOUCH_END, this._onTouchEnd, this);\n                    this._display.on(fgui.Event.ROLL_OUT, this._onTouchCancel, this);\n                }\n                else {\n                    this._display.off(fgui.Event.TOUCH_BEGIN, this._onTouchStart, this);\n                    this._display.off(fgui.Event.TOUCH_END, this._onTouchEnd, this);\n                    this._display.off(fgui.Event.ROLL_OUT, this._onTouchCancel, this);\n                }\n            },\n            enumerable: false,\n            configurable: true\n        });\n        LongTouchComponet.prototype._onTouchStart = function (evt) {\n            console.log(\"LongTouchComponet._onTouchStart\");\n            if (this._isTouching) {\n                return;\n            }\n            this._isTouching = true;\n            if (this._isTouching) {\n                fgui.GTimers.inst.add(this._touchInterval, 1, this._touchCallback, this, evt);\n            }\n        };\n        LongTouchComponet.prototype._onTouchEnd = function () {\n            console.log(\"LongTouchComponet._onTouchEnd\");\n            this._isTouching = false;\n            fgui.GTimers.inst.remove(this._touchCallback, this);\n        };\n        LongTouchComponet.prototype._onTouchCancel = function () {\n            console.log(\"LongTouchComponet._onTouchCancel\");\n            this._isTouching = false;\n            fgui.GTimers.inst.remove(this._touchCallback, this);\n        };\n        LongTouchComponet.prototype._touchCallback = function (evt) {\n            var _a;\n            console.log(\"LongTouchComponet._touchCallback\");\n            if (this._isTouching) {\n                if (this._longTouchCallback) {\n                    (_a = this._longTouchCallback).apply.apply(_a, __spreadArrays([this._thisObj], this._callbackArgs));\n                }\n            }\n            else {\n                fgui.GTimers.inst.remove(this._touchCallback, this);\n            }\n        };\n        LongTouchComponet.prototype.onLongTouch = function (callback, thisObj) {\n            var args = [];\n            for (var _i = 2; _i < arguments.length; _i++) {\n                args[_i - 2] = arguments[_i];\n            }\n            this._longTouchCallback = callback;\n            this._thisObj = thisObj;\n            this._callbackArgs = args;\n        };\n        LongTouchComponet.prototype.removeListener = function (callback, thisObj) {\n            if (this._longTouchCallback == callback && this._thisObj == thisObj) {\n                this._longTouchCallback = null;\n                this._thisObj = null;\n                this._callbackArgs = [];\n            }\n        };\n        return LongTouchComponet;\n    }());\n    Core.LongTouchComponet = LongTouchComponet;\n})(Core || (Core = {}));\nvar Core;\n(function (Core) {\n    var WaitPanel = (function (_super) {\n        __extends(WaitPanel, _super);\n        function WaitPanel() {\n            var _this = _super.call(this, Core.LayerManager.inst.maskLayer) || this;\n            _this._myParent = Core.LayerManager.inst.maskLayer;\n            return _this;\n        }\n        WaitPanel.prototype.initUI = function () {\n            _super.prototype.initUI.call(this);\n            this.adjust(this.getChild(\"bg\"));\n            this._waitImg = this.getChild(\"loadingCircle\").asLoader;\n            this._waitBg = this.getChild(\"loadingBg\").asLoader;\n            this._waitProg = this.getChild(\"loadingProg\").asCom;\n            if (this.getChild(\"hintText\")) {\n                this._hintText = this.getChild(\"hintText\").asTextField;\n            }\n        };\n        WaitPanel.prototype.open = function () {\n            var param = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                param[_i] = arguments[_i];\n            }\n            return __awaiter(this, void 0, void 0, function () {\n                var delay;\n                return __generator(this, function (_a) {\n                    if (this.parent) {\n                        return [2];\n                    }\n                    this.addToParent();\n                    this._waitImg.visible = false;\n                    this._waitBg.visible = false;\n                    this._waitProg.visible = false;\n                    delay = param[0] || 800;\n                    if (this._hintText) {\n                        this._hintText.visible = false;\n                    }\n                    fgui.GTimers.inst.add(delay, 1, this._rotationWaitImg, this);\n                    fgui.GTimers.inst.add(delay + 100, 1, this._handleProgress, this);\n                    return [2];\n                });\n            });\n        };\n        WaitPanel.prototype._rotationWaitImg = function () {\n            this._waitImg.visible = true;\n            this._waitBg.visible = true;\n            this._waitProg.visible = true;\n            if (this._hintText) {\n                this._hintText.visible = true;\n            }\n            Core.EffectUtil.rotationEffect(this._waitImg, 1500);\n        };\n        WaitPanel.prototype._handleProgress = function () {\n            var self = this;\n            var minH = 0;\n            var maxH = 74;\n            var duration = 1500;\n            var onComplete = function () {\n                if (self.node.isValid && self.parent) {\n                    self._waitProg.height = minH;\n                    egret.Tween.get(self._waitProg).to({ height: maxH }, duration).call(onComplete, null);\n                }\n            };\n            this._waitProg.height = minH;\n            egret.Tween.get(this._waitProg).to({ height: maxH }, duration).call(onComplete, null);\n        };\n        WaitPanel.prototype.close = function () {\n            var param = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                param[_i] = arguments[_i];\n            }\n            return __awaiter(this, void 0, void 0, function () {\n                return __generator(this, function (_a) {\n                    fgui.GTimers.inst.remove(this._rotationWaitImg, this);\n                    Core.EffectUtil.removeRotationEffect(this._waitImg);\n                    fgui.GTimers.inst.remove(this._handleProgress, this);\n                    egret.Tween.removeTweens(this._waitProg);\n                    if (this._hintText) {\n                        this._hintText.text = \"\";\n                    }\n                    if (!this.parent) {\n                        return [2];\n                    }\n                    this.parent.removeChild(this);\n                    return [2];\n                });\n            });\n        };\n        WaitPanel.prototype.updateProgress = function (percent, msg) {\n            if (this._hintText) {\n                msg = msg || \"加载中...\";\n                this._hintText.text = Core.StringUtils.format(msg + \"{0}%\", Math.ceil(percent * 100));\n            }\n        };\n        return WaitPanel;\n    }(Core.BaseView));\n    Core.WaitPanel = WaitPanel;\n})(Core || (Core = {}));\n"]}